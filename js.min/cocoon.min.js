(function(){CocoonJS=window.CocoonJS?window.CocoonJS:{};CocoonJS.nativeExtensionObjectAvailable="undefined"!==typeof window.ext;CocoonJS.Size={width:0,height:0};CocoonJS.extend=function(e,a){var b=e.prototype,c=function(){};c.prototype=a.prototype;e.prototype=new c;e.superclass=a.prototype;e.prototype.constructor=e;a.prototype.constructor===Object.prototype.constructor&&(a.prototype.constructor=a);for(var d in b)b.hasOwnProperty(d)&&(e.prototype[d]=b[d])};CocoonJS.makeNativeExtensionObjectFunctionCall=
function(e,a,b,c){if(CocoonJS.nativeExtensionObjectAvailable){b=Array.prototype.slice.call(b);b.unshift(a);e=ext[e];e=c=(c?e.makeCallAsync:e.makeCall).apply(e,b);if("string"===typeof c)try{e=JSON.parse(c)}catch(d){}return e}};CocoonJS.getObjectFromPath=function(e,a){for(var b=a.split("."),c=e,d=0,g=b.length;d<g;++d)c[b[d]]=c[b[d]]||void 0,c=c[b[d]];return c};CocoonJS.getKeyForValueInDictionary=function(e,a){var b=null,c;for(c in e)if(e[c]===a){b=c;break}return b};CocoonJS.findStringInStringArrayThatIsIndexOf=
function(e,a,b){var c=null;a=b?a:a.toUpperCase();for(var d=0;null==c&&d<e.length;d++)c=b?e[d]:e[d].toUpperCase(),c=0<=c.indexOf(a)?e[d]:null;return c};CocoonJS.EventHandler=function(e,a,b,c){this.listeners=[];this.listenersOnce=[];this.chainFunction=c;this.addEventListener=function(d){if(c){var g=function(){c.call(this,arguments.callee.sourceListener,Array.prototype.slice.call(arguments))};d.CocoonJSEventHandlerChainFunction=g;g.sourceListener=d;d=g}(g=CocoonJS.getObjectFromPath(CocoonJS,a))&&g.nativeExtensionObjectAvailable&&
ext[e].addEventListener(b,d);0>this.listeners.indexOf(d)&&this.listeners.push(d)};this.addEventListenerOnce=function(d){if(c){var g=function(){c(arguments.callee.sourceListener,Array.prototype.slice.call(arguments))};g.sourceListener=d;d=g}CocoonJS.getObjectFromPath(CocoonJS,a).nativeExtensionObjectAvailable?ext[e].addEventListenerOnce(b,d):0>this.listeners.indexOf(d)&&this.listenersOnce.push(d)};this.removeEventListener=function(d){c&&(d=d.CocoonJSEventHandlerChainFunction,delete d.CocoonJSEventHandlerChainFunction);
CocoonJS.getObjectFromPath(CocoonJS,a).nativeExtensionObjectAvailable?ext[e].removeEventListener(b,d):(d=this.listeners.indexOf(d),0<=d&&this.listeners.splice(d,1))};this.notifyEventListeners=function(){var c=CocoonJS.getObjectFromPath(CocoonJS,a),g=Array.prototype.slice.call(arguments);if(c&&c.nativeExtensionObjectAvailable)ext[e].notifyEventListeners(b,g);else{var k=Array.prototype.slice.call(this.listeners),f=Array.prototype.slice.call(this.listenersOnce),h=this;setTimeout(function(){for(var a=
0;a<k.length;a++)k[a].apply(h,g);for(a=0;a<f.length;a++)f[a].apply(h,g)},0);h.listenersOnce=[]}};return this};CocoonJS.Timer=function(){this.reset();return this};CocoonJS.Timer.prototype={currentTimeInMillis:0,lastTimeInMillis:0,elapsedTimeInMillis:0,elapsedTimeInSeconds:0,accumTimeInMillis:0,reset:function(){this.currentTimeInMillis=this.lastTimeInMillis=(new Date).getTime();this.accumTimeInMillis=this.elapsedTimeInMillis=this.elapsedTimeInSeconds=0},update:function(){this.currentTimeInMillis=(new Date).getTime();
this.elapsedTimeInMillis=this.currentTimeInMillis-this.lastTimeInMillis;this.elapsedTimeInSeconds=this.elapsedTimeInMillis/1E3;this.lastTimeInMillis=this.currentTimeInMillis;this.accumTimeInMillis+=this.elapsedTimeInMillis}}})();(function(){function e(){if("boolean"===CocoonJS.App.forward.nativeAvailable)return CocoonJS.App.forward.nativeAvailable;var a=CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","forwardAvailable",arguments),a=!!a;return CocoonJS.App.forward.nativeAvailable=a}if("undefined"===typeof window.CocoonJS||null===window.CocoonJS)throw"The CocoonJS object must exist and be valid before creating any extension object.";CocoonJS.App=CocoonJS.App?CocoonJS.App:{};CocoonJS.App.nativeExtensionObjectAvailable=
CocoonJS.nativeExtensionObjectAvailable&&"undefined"!==typeof window.ext.IDTK_APP;CocoonJS.App.FPSLayout={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"};CocoonJS.App.Orientations={PORTRAIT:1,PORTRAIT_UPSIDE_DOWN:2,LANDSCAPE_LEFT:4,LANDSCAPE_RIGHT:8,PORTRAIT:3,LANDSCAPE:12,BOTH:15};CocoonJS.App.KeyboardType={TEXT:"text",NUMBER:"num",PHONE:"phone",EMAIL:"email",URL:"url"};CocoonJS.App.StorageType={APP_STORAGE:"APP_STORAGE",INTERNAL_STORAGE:"INTERNAL_STORAGE",
EXTERNAL_STORAGE:"EXTERNAL_STORAGE",TEMPORARY_STORAGE:"TEMPORARY_STORAGE"};CocoonJS.App.CaptureType={EVERYTHING:0,JUST_COCOONJS_GL_SURFACE:1,JUST_SYSTEM_VIEWS:2};CocoonJS.App.forward=function(a){return CocoonJS.App.nativeExtensionObjectAvailable&&e()?CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","forward",arguments):"CocoonJS_App_ForCocoonJS_WebViewIFrame"==window.name?window.parent.eval(a):window.frames.CocoonJS_App_ForCocoonJS_WebViewIFrame.window.eval(a)};CocoonJS.App.forwardAsync=
function(a,b){return CocoonJS.App.nativeExtensionObjectAvailable&&e()?"undefined"!==typeof b?ext.IDTK_APP.makeCallAsync("forward",a,b):ext.IDTK_APP.makeCallAsync("forward",a):"CocoonJS_App_ForCocoonJS_WebViewIFrame"==window.name?window.parent.eval(a):window.parent.frames.CocoonJS_App_ForCocoonJS_WebViewIFrame.window.eval(a)};CocoonJS.App.showTextDialog=function(a,b,c,d,e,k){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","showTextDialog",
arguments,!0);navigator.isCocoonJS||(b||(b=""),c||(c=""),setTimeout(function(){var a=prompt(b,c);(a?CocoonJS.App.onTextDialogFinished:CocoonJS.App.onTextDialogCancelled).notifyEventListeners(a)},0))};CocoonJS.App.showMessageBox=function(a,b,c,d){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","showMessageBox",arguments,!0);navigator.isCocoonJS||(b||(b=""),setTimeout(function(){(confirm(b)?CocoonJS.App.onMessageBoxConfirmed:CocoonJS.App.onMessageBoxDenied).notifyEventListeners()},
0))};CocoonJS.App.load=function(a,b){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","loadPath",arguments);if(!navigator.isCocoonJS){var c=new XMLHttpRequest;c.onreadystatechange=function(b){4===c.readyState&&(200===c.status?(b=CocoonJS.App.EmulatedWebViewIFrame?"window.CocoonJS && window.CocoonJS.App.onLoadInCocoonJSSucceed.notifyEventListeners('"+a+"');":"window.CocoonJS && window.CocoonJS.App.onLoadInTheWebViewSucceed.notifyEventListeners('"+
a+"');",CocoonJS.App.forwardAsync(b),window.location.href=a):404===c.status&&(this.onreadystatechange=null,b=CocoonJS.App.EmulatedWebViewIFrame?"CocoonJS && CocoonJS.App.onLoadInCocoonJSFailed.notifyEventListeners('"+a+"');":"CocoonJS && CocoonJS.App.onLoadInTheWebViewFailed.notifyEventListeners('"+a+"');",CocoonJS.App.forwardAsync(b)))};c.open("GET",a,!0);c.send()}};CocoonJS.App.reload=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP",
"reload",arguments);if(!navigator.isCocoonJS)return"CocoonJS_App_ForCocoonJS_WebViewIFrame"==window.name?window.parent.location.reload():window.parent.frames.CocoonJS_App_ForCocoonJS_WebViewIFrame.window.location.reload()};CocoonJS.App.openURL=function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","openURL",arguments,!0);navigator.isCocoonJS||window.open(a,"_blank")};CocoonJS.App.forceToFinish=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP",
"forceToFinish",arguments);navigator.isCocoonJS||window.close()};CocoonJS.App.setAutoLockEnabled=function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","setAutoLockEnabled",arguments)};CocoonJS.App.createScreenCanvas=function(){var a;navigator.isCocoonJS?a=document.createElement("screencanvas"):navigator.isCocoonJS||(a=document.createElement("canvas"),a.width=window.innerWidth,a.height=window.innerHeight);return a};CocoonJS.App.disableTouchInCocoonJS=
function(){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCall("disableTouchLayer","CocoonJSView")};CocoonJS.App.enableTouchInCocoonJS=function(){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCall("enableTouchLayer","CocoonJSView")};CocoonJS.App.disableTouchInTheWebView=function(){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCall("disableTouchLayer","WebView")};CocoonJS.App.enableTouchInTheWebView=function(){CocoonJS.App.nativeExtensionObjectAvailable&&
window.ext.IDTK_APP.makeCall("enableTouchLayer","WebView")};CocoonJS.App.setAccelerometerUpdateIntervalInSeconds=function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("setAccelerometerUpdateIntervalInSeconds",a)};CocoonJS.App.getAccelerometerUpdateIntervalInSeconds=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("getAccelerometerUpdateIntervalInSeconds")};CocoonJS.App.setGyroscopeUpdateIntervalInSeconds=function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("setGyroscopeUpdateIntervalInSeconds",
a)};CocoonJS.App.getGyroscopeUpdateIntervalInSeconds=function(){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCall("getGyroscopeUpdateIntervalInSeconds")};CocoonJS.App.setupOriginProxyType=function(a,b,c,d){if(!a)throw"The given typeName must be valid.";if(!b&&!c&&!d)throw"There is no point on setting up a proxy for no attributes, functions nor eventHandlers.";b=b?b:[];c=c?c:[];d=d?d:[];var e=window,k="CocoonJS.App.setupDestinationProxyType("+JSON.stringify(a)+", "+JSON.stringify(d)+
");";CocoonJS.App.forward(k);k=e[a];e[a]=function(){var f=this;this._cocoonjs_proxy_object_data={};var h="CocoonJS.App.newDestinationProxyObject("+JSON.stringify(a)+");";this._cocoonjs_proxy_object_data.id=CocoonJS.App.forward(h);this._cocoonjs_proxy_object_data.eventHandlers={};this._cocoonjs_proxy_object_data.typeName=a;this._cocoonjs_proxy_object_data.eventListeners={};e[a]._cocoonjs_proxy_type_data.proxyObjects[this._cocoonjs_proxy_object_data.id]=this;for(h=0;h<b.length;h++)(function(b){f.__defineSetter__(b,
function(c){c="CocoonJS.App.setDestinationProxyObjectAttribute("+JSON.stringify(a)+", "+f._cocoonjs_proxy_object_data.id+", "+JSON.stringify(b)+", "+JSON.stringify(c)+");";return CocoonJS.App.forward(c)});f.__defineGetter__(b,function(){var c="CocoonJS.App.getDestinationProxyObjectAttribute("+JSON.stringify(a)+", "+f._cocoonjs_proxy_object_data.id+", "+JSON.stringify(b)+");";return CocoonJS.App.forward(c)})})(b[h]);for(h=0;h<c.length;h++)(function(b){f[b]=function(){var c=Array.prototype.slice.call(arguments);
c.unshift(b);c.unshift(this._cocoonjs_proxy_object_data.id);c.unshift(a);for(var d="CocoonJS.App.callDestinationProxyObjectFunction(",e=0;e<c.length;e++)d+=(1!==e?JSON.stringify(c[e]):c[e])+(e<c.length-1?", ":"");return CocoonJS.App.forwardAsync(d+");")}})(c[h]);for(h=0;h<d.length;h++)(function(a){f.__defineSetter__(a,function(b){f._cocoonjs_proxy_object_data.eventHandlers[a]=b});f.__defineGetter__(a,function(){return f._cocoonjs_proxy_object_data.eventHandlers[a]})})(d[h]);f.addEventListener=function(a,
b){var c=!0,d=f._cocoonjs_proxy_object_data.eventListeners[a];if(d)c=0>d.indexOf(b);else{d=[];f._cocoonjs_proxy_object_data.eventListeners[a]=d;var e="CocoonJS.App.addDestinationProxyObjectEventListener("+JSON.stringify(f._cocoonjs_proxy_object_data.typeName)+", "+f._cocoonjs_proxy_object_data.id+", "+JSON.stringify(a)+");";CocoonJS.App.forwardAsync(e)}c&&d.push(b)};f.removeEventListener=function(a,b){var c=f._cocoonjs_proxy_object_data.eventListeners[a];if(c){var d=c.indexOf(b);0<=d&&c.splice(d,
1)}};return this};e[a]._cocoonjs_proxy_type_data={originalType:k,proxyObjects:[]};e[a]._cocoonjs_proxy_type_data.deleteProxyObject=function(b){var c=CocoonJS.getKeyForValueInDictionary(this.proxyObjects,b);if(c){var d="CocoonJS.App.deleteDestinationProxyObject("+JSON.stringify(a)+", "+b._cocoonjs_proxy_object_data.id+");";CocoonJS.App.forwardAsync(d);b._cocoonjs_proxy_object_data=null;delete this.proxyObjects[c]}};e[a]._cocoonjs_proxy_type_data.callProxyObjectEventHandler=function(a,b){var c=this.proxyObjects[a],
d=c._cocoonjs_proxy_object_data.eventHandlers[b];d&&d({target:c})};e[a]._cocoonjs_proxy_type_data.callProxyObjectEventListeners=function(a,b){for(var c=this.proxyObjects[a],d=c._cocoonjs_proxy_object_data.eventListeners[b].slice(),e=0;e<d.length;e++)d[e]({target:c})}};CocoonJS.App.takedownOriginProxyType=function(a){var b=window;b[a]&&b[a]._cocoonjs_proxy_type_data&&(b[a]=b[a]._cocoonjs_proxy_type_data.originalType)};CocoonJS.App.deleteOriginProxyObject=function(a){var b=window;a&&a._cocoonjs_proxy_object_data&&
b[a._cocoonjs_proxy_object_data.typeName]._cocoonjs_proxy_type_data.deleteProxyObject(a)};CocoonJS.App.callOriginProxyObjectEventHandler=function(a,b,c){window[a]._cocoonjs_proxy_type_data.callProxyObjectEventHandler(b,c)};CocoonJS.App.callOriginProxyObjectEventListeners=function(a,b,c){window[a]._cocoonjs_proxy_type_data.callProxyObjectEventListeners(b,c)};CocoonJS.App.setupDestinationProxyType=function(a,b){window[a]._cocoonjs_proxy_type_data={nextId:0,proxyObjects:{},eventHandlerNames:b}};CocoonJS.App.takedownDestinationProxyType=
function(a){var b=window;parent[a]&&b[a]._cocoonjs_proxy_type_data&&delete b[a]._cocoonjs_proxy_type_data};CocoonJS.App.newDestinationProxyObject=function(a){var b=window,c=new b[a];c._cocoonjs_proxy_object_data={};c._cocoonjs_proxy_object_data.typeName=a;var d=b[a]._cocoonjs_proxy_type_data.nextId;b[a]._cocoonjs_proxy_type_data.proxyObjects[d]=c;c._cocoonjs_proxy_object_data.id=d;b[a]._cocoonjs_proxy_type_data.nextId++;for(var e=0;e<b[a]._cocoonjs_proxy_type_data.eventHandlerNames.length;e++)(function(a){c[a]=
function(b){b="CocoonJS.App.callOriginProxyObjectEventHandler("+JSON.stringify(this._cocoonjs_proxy_object_data.typeName)+", "+this._cocoonjs_proxy_object_data.id+", "+JSON.stringify(a)+");";CocoonJS.App.forwardAsync(b)}})(b[a]._cocoonjs_proxy_type_data.eventHandlerNames[e]);c._cocoonjs_proxy_object_data.eventListeners={};return d};CocoonJS.App.callDestinationProxyObjectFunction=function(a,b,c){var d=window,e=Array.prototype.slice.call(arguments);e.splice(0,3);d=d[a]._cocoonjs_proxy_type_data.proxyObjects[b];
return d[c].apply(d,e)};CocoonJS.App.setDestinationProxyObjectAttribute=function(a,b,c,d){window[a]._cocoonjs_proxy_type_data.proxyObjects[b][c]=d};CocoonJS.App.getDestinationProxyObjectAttribute=function(a,b,c){return window[a]._cocoonjs_proxy_type_data.proxyObjects[b][c]};CocoonJS.App.deleteDestinationProxyObject=function(a,b){delete window[a]._cocoonjs_proxy_type_data.proxyObjects[b]};CocoonJS.App.addDestinationProxyObjectEventListener=function(a,b,c){a=window[a]._cocoonjs_proxy_type_data.proxyObjects[b];
b=function(a){a="CocoonJS.App.callOriginProxyObjectEventListeners("+JSON.stringify(this._cocoonjs_proxy_object_data.typeName)+", "+this._cocoonjs_proxy_object_data.id+", "+JSON.stringify(c)+");";CocoonJS.App.forwardAsync(a)};a._cocoonjs_proxy_object_data.eventListeners[c]=b;a.addEventListener(c,b)};CocoonJS.App.proxifyXHR=function(){CocoonJS.App.setupOriginProxyType("XMLHttpRequest","timeout withCredentials upload status statusText responseType response responseText responseXML readyState".split(" "),
"open setRequestHeader send abort getResponseHeader getAllResponseHeaders overrideMimeType".split(" "),"onloadstart onprogress onabort onerror onload ontimeout onloadend onreadystatechange".split(" "))};CocoonJS.App.proxifyAudio=function(){CocoonJS.App.setupOriginProxyType("Audio",["src","loop","volume","preload"],["play","pause","load","canPlayType"],["onended","oncanplay","oncanplaythrough","onerror"])};CocoonJS.App.captureScreen=function(a,b,c){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("captureScreen",
a,b,c)};CocoonJS.App.captureScreenAsync=function(a,b,c,d){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCallAsync("captureScreen",a,b,c,d)};CocoonJS.App.getDeviceId=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("getDeviceId")};CocoonJS.App.DeviceInfo={os:null,version:null,dpi:null,brand:null,model:null,imei:null,platformId:null,odin:null,openudid:null};CocoonJS.App.getDeviceInfo=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCall("getDeviceInfo")};
CocoonJS.App.WebDialog=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)this.webDialogID=window.ext.IDTK_APP.makeCall("createWebDialog");else{var a=document.createElement("iframe");a.id="CocoonJSWebDialogIFrame";a.name="CocoonJSWebDialogIFrame";a.style.cssText="position:fixed;left:0;top:0;bottom:0;right:0; width:100%; height:100%;margin:0;padding:0;";var b=this;a.onload=function(){b.iframeloaded=!0;b.evalIframe("CocoonJS = {}; CocoonJS.WebDialog = {}; CocoonJS.WebDialog.close = function(){   window.parent.CocoonJSCloseWebDialog();};");
for(var a=0;a<b.pendingEvals.length;++a)b.evalIframe(b.pendingEvals[a]);b.pendingEvals=[]};a.onerror=function(){b.close()};this.iframe=a;this.pendingEvals=[];window.CocoonJSCloseWebDialog=function(){b.close()}}};CocoonJS.App.WebDialog.prototype={show:function(a,b){this.closeCallback=function(){CocoonJS.App.enableTouchInCocoonJS();b&&b()};if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.App.disableTouchInCocoonJS(),window.ext.IDTK_APP.makeCallAsync("showWebDialog",this.webDialogID,a,
this.closeCallback);this.iframe.src=a;document.body.appendChild(this.iframe)},close:function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCallAsync("closeWebDialog",this.webDialogID);this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe);this.closeCallback&&this.closeCallback()},evalIframe:function(a){window.frames.CocoonJSWebDialogIFrame.eval(a)},eval:function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return window.ext.IDTK_APP.makeCallAsync("evalWebDialog",
this.webDialogID,a);this.iframeloaded?this.evalIframe(a):this.pendingEvals.push(a)}};CocoonJS.App.getPreferredOrientation=function(){return CocoonJS.App.nativeExtensionObjectAvailable?window.ext.IDTK_APP.makeCall("getPreferredOrientation"):0};CocoonJS.App.setPreferredOrientation=function(a){CocoonJS.App.nativeExtensionObjectAvailable&&window.ext.IDTK_APP.makeCall("setPreferredOrientation",a)};CocoonJS.App.onTextDialogFinished=new CocoonJS.EventHandler("IDTK_APP","App","ontextdialogfinish");CocoonJS.App.onTextDialogCancelled=
new CocoonJS.EventHandler("IDTK_APP","App","ontextdialogcancel");CocoonJS.App.onMessageBoxConfirmed=new CocoonJS.EventHandler("IDTK_APP","App","onmessageboxconfirmed");CocoonJS.App.onMessageBoxDenied=new CocoonJS.EventHandler("IDTK_APP","App","onmessageboxdenied");CocoonJS.App.onSuspended=new CocoonJS.EventHandler("IDTK_APP","App","onsuspended");CocoonJS.App.onActivated=new CocoonJS.EventHandler("IDTK_APP","App","onactivated")})();(function(){function e(){var a=CocoonJS.App.EmulatedWebView;if(!a){a=document.createElement("div");a.setAttribute("id","CocoonJS_App_ForCocoonJS_WebViewDiv");a.style.width=0;a.style.height=0;a.style.position="absolute";a.style.left=0;a.style.top=0;a.style.backgroundColor="transparent";a.style.border="0px solid #000";var b=document.createElement("IFRAME");b.setAttribute("id","CocoonJS_App_ForCocoonJS_WebViewIFrame");b.setAttribute("name","CocoonJS_App_ForCocoonJS_WebViewIFrame");b.style.width=0;b.style.height=
0;b.frameBorder=0;b.allowtransparency=!0;a.appendChild(b);CocoonJS.App.EmulatedWebView=a;CocoonJS.App.EmulatedWebViewIFrame=b;document.body||(document.body=document.createElement("body"));document.body.appendChild(CocoonJS.App.EmulatedWebView)}}if("undefined"===typeof window.CocoonJS||null===window.CocoonJS)throw"The CocoonJS object must exist and be valid before adding more functionalities to an extension.";if("undefined"===typeof window.CocoonJS.App||null===window.CocoonJS.App)throw"The CocoonJS.App object must exist and be valid before adding more functionalities to it.";
CocoonJS.App=CocoonJS.App?CocoonJS.App:{};CocoonJS.App.onLoadInTheWebViewSucceed=new CocoonJS.EventHandler("IDTK_APP","App","forwardpageload");CocoonJS.App.onLoadInTheWebViewFailed=new CocoonJS.EventHandler("IDTK_APP","App","forwardpagefail");CocoonJS.App.pause=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","pause",arguments)};CocoonJS.App.resume=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP",
"resume",arguments)};CocoonJS.App.loadInTheWebView=function(a,b){if(navigator.isCocoonJS&&CocoonJS.App.nativeExtensionObjectAvailable)CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","loadInTheWebView",arguments);else{var c=new XMLHttpRequest;c.onreadystatechange=function(b){if(4===c.readyState)if(200===c.status){e();var g=function(b){CocoonJS.App.onLoadInTheWebViewSucceed.notifyEventListeners(a);CocoonJS.App.EmulatedWebViewIFrame.removeEventListener("load",g)};CocoonJS.App.EmulatedWebViewIFrame.addEventListener("load",
g);CocoonJS.App.EmulatedWebViewIFrame.contentWindow.location.href=a}else 404===c.status&&(this.onreadystatechange=null,CocoonJS.App.onLoadInTheWebViewFailed.notifyEventListeners(a))};c.open("GET",a,!0);c.send()}};CocoonJS.App.reloadWebView=function(){CocoonJS.App.nativeExtensionObjectAvailable&&navigator.isCocoonJS?CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","reloadWebView",arguments):(e(),CocoonJS.App.EmulatedWebViewIFrame.contentWindow.location.reload())};CocoonJS.App.showTheWebView=
function(a,b,c,d){CocoonJS.App.nativeExtensionObjectAvailable&&navigator.isCocoonJS?CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","showTheWebView",arguments):(e(),CocoonJS.App.EmulatedWebViewIFrame.style.width=(c?c/window.devicePixelRatio:window.innerWidth)+"px",CocoonJS.App.EmulatedWebViewIFrame.style.height=(d?d/window.devicePixelRatio:window.innerHeight)+"px",CocoonJS.App.EmulatedWebView.style.left=(a?a:0)+"px",CocoonJS.App.EmulatedWebView.style.top=(b?b:0)+"px",CocoonJS.App.EmulatedWebView.style.width=
(c?c/window.devicePixelRatio:window.innerWidth)+"px",CocoonJS.App.EmulatedWebView.style.height=(d?d/window.devicePixelRatio:window.innerHeight)+"px",CocoonJS.App.EmulatedWebView.style.display="block",console.log(CocoonJS.App.EmulatedWebViewIFrame.style.cssText))};CocoonJS.App.hideTheWebView=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.App.forwardAsync("ext.IDTK_APP.makeCall('hide');");navigator.isCocoonJS||(e(),CocoonJS.App.EmulatedWebView.style.display="none")};CocoonJS.App.markAsMusic=
function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","addForceMusic",arguments)};CocoonJS.App.setAntialias=function(a){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","setDefaultAntialias",arguments)};CocoonJS.App.setAppShouldFinishCallback=function(a){navigator.isCocoonJS&&(window.onidtkappfinish=a)};CocoonJS.App.setTextureReduction=function(a,b,c){CocoonJS.App.nativeExtensionObjectAvailable&&
CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","setDefaultTextureReducerThreshold",arguments)};CocoonJS.App.logMemoryInfo=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","logMemoryInfo",arguments)};CocoonJS.App.enableFPSInTheWebView=function(a,b){if(!CocoonJS.App.fpsInTheWebViewEnabled){a=a?a:CocoonJS.App.FPSLayout.TOP_RIGHT;b=b?b:"white";var c="(function(){var COCOONJS_WEBVIEW_EXTENSION_SCRIPT_FILES = ['js/CocoonJSExtensions/CocoonJS.js', 'js/CocoonJSExtensions/CocoonJS_App.js', 'js/CocoonJSExtensions/CocoonJS_App_ForWebView.js'];var loadedScriptCounter = 0;var loadedScriptFunction = function() { loadedScriptCounter++;if (loadedScriptCounter >= COCOONJS_WEBVIEW_EXTENSION_SCRIPT_FILES.length){CocoonJS.App.enableFPS("+
JSON.stringify(a)+", "+JSON.stringify(b)+");}};for (var i = 0; i < COCOONJS_WEBVIEW_EXTENSION_SCRIPT_FILES.length; i++){var s = document.createElement('script');s.onload = loadedScriptFunction;s.src = COCOONJS_WEBVIEW_EXTENSION_SCRIPT_FILES[i];document.body.appendChild(s);}})();";setTimeout(function(){CocoonJS.App.forward(c)},3E3);CocoonJS.App.fpsInTheWebViewEnabled=!0}};CocoonJS.App.disableFPSInTheWebView=function(){}})();(function(){if("undefined"===typeof window.CocoonJS||null===window.CocoonJS)throw"The CocoonJS object must exist and be valid before adding more functionalities to an extension.";if("undefined"===typeof window.CocoonJS.App||null===window.CocoonJS.App)throw"The CocoonJS.App object must exist and be valid before adding more functionalities to it.";navigator.isCocoonJS||(CocoonJS.App=CocoonJS.App?CocoonJS.App:{},CocoonJS.App.nativeExtensionObjectAvailable=CocoonJS.App.nativeExtensionObjectAvailable,
CocoonJS.App.show=function(e,a,b,c){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","show",arguments);var d=window.parent.document.getElementById("CocoonJS_App_ForCocoonJS_WebViewDiv");d.style.left=(e?e:d.style.left)+"px";d.style.top=(a?a:d.style.top)+"px";d.style.width=(b?b/window.devicePixelRatio:window.parent.innerWidth)+"px";d.style.height=(c?c/window.devicePixelRatio:window.parent.innerHeight)+"px";d.style.display="block";d=window.parent.document.getElementById("CocoonJS_App_ForCocoonJS_WebViewIFrame");
d.style.width=(b?b/window.devicePixelRatio:window.parent.innerWidth)+"px";d.style.height=(c?c/window.devicePixelRatio:window.parent.innerHeight)+"px"},CocoonJS.App.hide=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.makeNativeExtensionObjectFunctionCall("IDTK_APP","hide",arguments);window.parent.document.getElementById("CocoonJS_App_ForCocoonJS_WebViewDiv").style.display="none"},CocoonJS.App.loadInCocoonJS=function(e,a){if(CocoonJS.App.nativeExtensionObjectAvailable){var b=
"ext.IDTK_APP.makeCall('loadPath'";"undefined"!==typeof e&&(b+=", '"+e+"'","undefined"!==typeof a&&(b+=", '"+a+"'"));return CocoonJS.App.forwardAsync(b+");")}CocoonJS.App.forwardAsync("CocoonJS.App.load('"+e+"');")},CocoonJS.App.reloadCocoonJS=function(){if(CocoonJS.App.nativeExtensionObjectAvailable)return CocoonJS.App.forwardAsync("ext.IDTK_APP.makeCall('reload');");navigator.isCocoonJS||window.parent.location.reload()},CocoonJS.App.proxifyConsole=function(){if(CocoonJS.nativeExtensionObjectAvailable){"undefined"===
typeof CocoonJS.App.originalConsole&&(CocoonJS.App.originalConsole=window.console);for(var e=["log","error","info","debug","warn"],a={},b=0;b<e.length;b++)a[e[b]]=function(a){return function(b){b="console."+a+"("+JSON.stringify(b)+");";CocoonJS.App.originalConsole.log(b);ext.IDTK_APP.makeCallAsync("forward",b)}}(e[b]);a.assert||(a.assert=function(){0<arguments.length&&!arguments[0]&&a.error("Assertion failed: "+(1<arguments.length?arguments[1]:""))});window.console=a}},CocoonJS.App.deproxifyConsole=
function(){!window.navigator.isCocoonJS&&CocoonJS.nativeExtensionObjectAvailable&&"undefined"!==typeof CocoonJS.App.originalConsole&&(window.console=CocoonJS.App.originalConsole,CocoonJS.App.originalConsole=void 0)},window.addEventListener("load",function(){CocoonJS.App.proxifyConsole()}),CocoonJS.App.onLoadInCocoonJSSucceed=new CocoonJS.EventHandler("IDTK_APP","App","forwardpageload"),CocoonJS.App.onLoadInCocoonJSFailed=new CocoonJS.EventHandler("IDTK_APP","App","forwardpagefail"))})();
