(function () {!function(){var e={},t=null,n=!0,r=!1;try{"undefined"!=typeof AudioContext?t=new AudioContext:"undefined"!=typeof webkitAudioContext?t=new webkitAudioContext:n=!1}catch(i){n=!1}if(!n)if("undefined"!=typeof Audio)try{new Audio}catch(i){r=!0}else r=!0;if(n){var s=void 0===t.createGain?t.createGainNode():t.createGain();s.gain.value=1,s.connect(t.destination)}var o=function(){this._volume=1,this._muted=!1,this.usingWebAudio=n,this.noAudio=r,this._howls=[]};o.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e>=0&&1>=e){t._volume=e,n&&(s.gain.value=e);for(var r in t._howls)if(t._howls.hasOwnProperty(r)&&t._howls[r]._webAudio===!1)for(var i=0;i<t._howls[r]._audioNode.length;i++)t._howls[r]._audioNode[i].volume=t._howls[r]._volume*t._volume;return t}return n?s.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,n&&(s.gain.value=e?0:t._volume);for(var r in t._howls)if(t._howls.hasOwnProperty(r)&&t._howls[r]._webAudio===!1)for(var i=0;i<t._howls[r]._audioNode.length;i++)t._howls[r]._audioNode[i].muted=e}};var u=new o,a=null;if(!r){a=new Audio;var f={mp3:!!a.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")}}var l=function(e){var t=this;t._autoplay=e.autoplay||!1,t._buffer=e.buffer||!1,t._duration=e.duration||0,t._format=e.format||null,t._loop=e.loop||!1,t._loaded=!1,t._sprite=e.sprite||{},t._src=e.src||"",t._pos3d=e.pos3d||[0,0,-.5],t._volume=void 0!==e.volume?e.volume:1,t._urls=e.urls||[],t._rate=e.rate||1,t._model=e.model||null,t._onload=[e.onload||function(){}],t._onloaderror=[e.onloaderror||function(){}],t._onend=[e.onend||function(){}],t._onpause=[e.onpause||function(){}],t._onplay=[e.onplay||function(){}],t._onendTimer=[],t._webAudio=n&&!t._buffer,t._audioNode=[],t._webAudio&&t._setupAudioNode(),u._howls.push(t),t.load()};if(l.prototype={load:function(){var t=this,n=null;if(r)return void t.on("loaderror");for(var i=0;i<t._urls.length;i++){var s,a;if(t._format)s=t._format;else{if(a=t._urls[i].toLowerCase().split("?")[0],s=a.match(/.+\.([^?]+)(\?|$)/),s=s&&s.length>=2?s:a.match(/data\:audio\/([^?]+);/),!s)return void t.on("loaderror");s=s[1]}if(f[s]){n=t._urls[i];break}}if(!n)return void t.on("loaderror");if(t._src=n,t._webAudio)c(t,n);else{var l=new Audio;l.addEventListener("error",function(){l.error&&4===l.error.code&&(o.noAudio=!0),t.on("loaderror",{type:l.error?l.error.code:0})},!1),t._audioNode.push(l),l.src=n,l._pos=0,l.preload="auto",l.volume=u._muted?0:t._volume*u.volume(),e[n]=t;var h=function(){t._duration=Math.ceil(10*l.duration)/10,0===Object.getOwnPropertyNames(t._sprite).length&&(t._sprite={_default:[0,1e3*t._duration]}),t._loaded||(t._loaded=!0,t.on("load")),t._autoplay&&t.play(),l.removeEventListener("canplaythrough",h,!1)};l.addEventListener("canplaythrough",h,!1),l.load()}return t},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,n){var r=this;return"function"==typeof e&&(n=e),e&&"function"!=typeof e||(e="_default"),r._loaded?r._sprite[e]?(r._inactiveNode(function(i){i._sprite=e;var s,o=i._pos>0?i._pos:r._sprite[e][0]/1e3,a=r._sprite[e][1]/1e3-i._pos,f=!(!r._loop&&!r._sprite[e][2]),l="string"==typeof n?n:Math.round(Date.now()*Math.random())+"";if(function(){var t={id:l,sprite:e,loop:f};s=setTimeout(function(){!r._webAudio&&f&&r.stop(t.id).play(e,t.id),r._webAudio&&!f&&(r._nodeById(t.id).paused=!0,r._nodeById(t.id)._pos=0),r._webAudio||f||r.stop(t.id),r.on("end",l)},1e3*a),r._onendTimer.push({timer:s,id:t.id})}(),r._webAudio){var c=r._sprite[e][0]/1e3,h=r._sprite[e][1]/1e3;i.id=l,i.paused=!1,p(r,[f,c,h],l),r._playStart=t.currentTime,i.gain.value=r._volume,void 0===i.bufferSource.start?i.bufferSource.noteGrainOn(0,o,a):i.bufferSource.start(0,o,a)}else{if(4!==i.readyState&&(i.readyState||!navigator.isCocoonJS))return r._clearEndTimer(l),function(){var t=r,s=e,o=n,u=i,a=function(){t.play(s,o),u.removeEventListener("canplaythrough",a,!1)};u.addEventListener("canplaythrough",a,!1)}(),r;i.readyState=4,i.id=l,i.currentTime=o,i.muted=u._muted||i.muted,i.volume=r._volume*u.volume(),setTimeout(function(){i.play()},0)}return r.on("play"),"function"==typeof n&&n(l),r}),r):("function"==typeof n&&n(),r):(r.on("load",function(){r.play(e,n)}),r)},pause:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.pause(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=t.pos(null,e),t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,void 0===n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return t.on("pause"),t},stop:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.stop(e)}),t;t._clearEndTimer(e);var n=e?t._nodeById(e):t._activeNode();if(n)if(n._pos=0,t._webAudio){if(!n.bufferSource||n.paused)return t;n.paused=!0,void 0===n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return t},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=0:n.muted=!0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var n=e?t._nodeById(e):t._activeNode();return n&&(t._webAudio?n.gain.value=t._volume:n.muted=!1),t},volume:function(e,t){var n=this;if(e=parseFloat(e),e>=0&&1>=e){if(n._volume=e,!n._loaded)return n.on("play",function(){n.volume(e,t)}),n;var r=t?n._nodeById(t):n._activeNode();return r&&(n._webAudio?r.gain.value=e:r.volume=e*u.volume()),n}return n._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,n){var r=this;if(!r._loaded)return r.on("load",function(){r.pos(e)}),"number"==typeof e?r:r._pos||0;e=parseFloat(e);var i=n?r._nodeById(n):r._activeNode();if(i)return e>=0?(r.pause(n),i._pos=e,r.play(i._sprite,n),r):r._webAudio?i._pos+(t.currentTime-r._playStart):i.currentTime;if(e>=0)return r;for(var s=0;s<r._audioNode.length;s++)if(r._audioNode[s].paused&&4===r._audioNode[s].readyState)return r._webAudio?r._audioNode[s]._pos:r._audioNode[s].currentTime},pos3d:function(e,t,n,r){var i=this;if(t=void 0!==t&&t?t:0,n=void 0!==n&&n?n:-.5,!i._loaded)return i.on("play",function(){i.pos3d(e,t,n,r)}),i;if(!(e>=0||0>e))return i._pos3d;if(i._webAudio){var s=r?i._nodeById(r):i._activeNode();s&&(i._pos3d=[e,t,n],s.panner.setPosition(e,t,n),s.panner.panningModel=i._model||"HRTF")}return i},fade:function(e,t,n,r,i){var s=this,o=Math.abs(e-t),u=e>t?"down":"up",a=o/.01,f=n/a;if(!s._loaded)return s.on("load",function(){s.fade(e,t,n,r,i)}),s;s.volume(e,i);for(var l=1;a>=l;l++)!function(){var e=s._volume+("up"===u?.01:-.01)*l,n=Math.round(1e3*e)/1e3,o=t;setTimeout(function(){s.volume(n,i),n===o&&r&&r()},f*l)}()},fadeIn:function(e,t,n){return this.volume(0).play().fade(0,e,t,n)},fadeOut:function(e,t,n,r){var i=this;return i.fade(i._volume,e,t,function(){n&&n(),i.pause(r),i.on("end")},r)},_nodeById:function(e){for(var t=this,n=t._audioNode[0],r=0;r<t._audioNode.length;r++)if(t._audioNode[r].id===e){n=t._audioNode[r];break}return n},_activeNode:function(){for(var e=this,t=null,n=0;n<e._audioNode.length;n++)if(!e._audioNode[n].paused){t=e._audioNode[n];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,n=null,r=0;r<t._audioNode.length;r++)if(t._audioNode[r].paused&&4===t._audioNode[r].readyState){e(t._audioNode[r]),n=!0;break}if(t._drainPool(),!n){var i;t._webAudio?(i=t._setupAudioNode(),e(i)):(t.load(),i=t._audioNode[t._audioNode.length-1],i.addEventListener(navigator.isCocoonJS?"canplaythrough":"loadedmetadata",function(){e(i)}))}},_drainPool:function(){var e,t=this,n=0;for(e=0;e<t._audioNode.length;e++)t._audioNode[e].paused&&n++;for(e=t._audioNode.length-1;e>=0&&!(5>=n);e--)t._audioNode[e].paused&&(t._webAudio&&t._audioNode[e].disconnect(0),n--,t._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var t=this,n=0,r=0;r<t._onendTimer.length;r++)if(t._onendTimer[r].id===e){n=r;break}var i=t._onendTimer[n];i&&(clearTimeout(i.timer),t._onendTimer.splice(n,1))},_setupAudioNode:function(){var e=this,n=e._audioNode,r=e._audioNode.length;return n[r]=void 0===t.createGain?t.createGainNode():t.createGain(),n[r].gain.value=e._volume,n[r].paused=!0,n[r]._pos=0,n[r].readyState=4,n[r].connect(s),n[r].panner=t.createPanner(),n[r].panner.panningModel=e._model||"equalpower",n[r].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),n[r].panner.connect(n[r]),n[r]},on:function(e,t){var n=this,r=n["_on"+e];if("function"==typeof t)r.push(t);else for(var i=0;i<r.length;i++)t?r[i].call(n,t):r[i].call(n);return n},off:function(e,t){for(var n=this,r=n["_on"+e],i=""+t,s=0;s<r.length;s++)if(i===""+r[s]){r.splice(s,1);break}return n},unload:function(){for(var t=this,n=t._audioNode,r=0;r<t._audioNode.length;r++)n[r].paused||t.stop(n[r].id),t._webAudio?n[r].disconnect(0):n[r].src="";for(r=0;r<t._onendTimer.length;r++)clearTimeout(t._onendTimer[r].timer);var i=u._howls.indexOf(t);null!==i&&i>=0&&u._howls.splice(i,1),delete e[t._src],t=null}},n)var c=function(n,r){if(r in e)n._duration=e[r].duration,h(n);else{var i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="arraybuffer",i.onload=function(){t.decodeAudioData(i.response,function(t){t&&(e[r]=t,h(n,t))},function(){n.on("loaderror")})},i.onerror=function(){n._webAudio&&(n._buffer=!0,n._webAudio=!1,n._audioNode=[],delete n._gainNode,n.load())};try{i.send()}catch(s){i.onerror()}}},h=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},p=function(n,r,i){var s=n._nodeById(i);s.bufferSource=t.createBufferSource(),s.bufferSource.buffer=e[n._src],s.bufferSource.connect(s.panner),s.bufferSource.loop=r[0],r[0]&&(s.bufferSource.loopStart=r[1],s.bufferSource.loopEnd=r[1]+r[2]),s.bufferSource.playbackRate.value=n._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:u,Howl:l}}),"undefined"!=typeof exports&&(exports.Howler=u,exports.Howl=l),"undefined"!=typeof window&&(window.Howler=u,window.Howl=l)}();var n;[].indexOf||(Array.prototype.indexOf=function(a){for(var b=this.length;b--&&this[b]!==a;);return b});[].map||(Array.prototype.map=function(a,b){var c=this.length;if("function"!=typeof a)throw new TypeError;for(var e=Array(c),d=0;d<c;d++)d in this&&(e[d]=a.call(b,this[d],d,this));return e});(function(){}).bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments);return function(){return b.apply(a,c.slice(1))}});
String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};Function.prototype.extend=function(a){if("function"===typeof a){var b=function(){};b.prototype=a.prototype;this.prototype=new b;this.prototype.constructor=this;this.b=a}else if("object"===typeof a){var b=this.prototype,c;for(c in a)b[c]||(b[c]=a[c])}else throw Error('fatal error:"Function.prototype.extend" expects a function or object');return this};
function aa(a){a.hf=null;a.Es=a.tr=a.Ki=a.k=function(){a.hf||(a.hf=new a);return a.hf}}var z={},ba,ca,da,B,ea,fa,ga,ha,ia,ja,la,ma,na,oa,pa,qa,ra,sa,ta;Function.prototype.register=function(a){this.prototype.constructor.Zh=a};
var ua=1136,va=640,wa=navigator.isCocoonJS?" verdana ":" Microsoft YaHei, helvetica, simsun, verdana ",xa=!0,C=0,D=0,ya=null,za=null,G=null,H=null,Aa=null,Ba=null,Ca=null,Da=null,Ea=!1,Fa=0,Ga=0,K=0,L=0,Ha=!1,Ia=!1,Ja=window.Ts||window.is||0,Ka=0,La=0,Ma=0,Na="",M=!!("createTouch"in document),Oa=[],Pa=!1,Qa=!1,Ra=[],Sa=[],Ta=M?15:25,Ua=M?10:13,Va="#FFF",Wa=!1,Xa="?200101010101",Ya=0,N=!1,Za=!1,$a=[],O=navigator.isCocoonJS;O&&(M=!0);
if(!O){var ab=document.createElement("canvas");!ab.getContext("webgl")&&ab.getContext("experimental-webgl")}var bb=500,cb={},db=[];function eb(a,b,c){if(!O&&0<db.length){var e=db.pop();e.width=b;e.height=c;e.ah="";e.Vd=0;return e}e=document.createElement("canvas");e.width=b;e.height=c;e.name=a;e.Vd=1;return e}function P(a){a&&(1<a.Vd?a.Vd--:(a.Vd=0,delete cb[a.ah],O||db.push(a)))}function R(){}R.register("JObject");
function fb(){if(!O){var a=document.createElement("article");"Mozilla"!=gb&&document.body.appendChild(a);a.setAttribute("id","portrait");var b=document.createElement("img");b.setAttribute("src","./css/rotate.jpg");a.appendChild(b)}b=document.createElement("div");b.setAttribute("id","fullscreen");b.style.margin="0px";b.style.padding="0px";document.body.appendChild(b);a=document.createElement(O?"screencanvas":"canvas");a.setAttribute("id","myCanvas");a.setAttribute("draggable","false");a.setAttribute("screencanvas",
"true");a.style.display="none";b.appendChild(a);a=document.createElement("form");b.appendChild(a);for(b=1;3>=b;b++){var c=document.createElement("input");c.setAttribute("type",3>b?"text":"password");c.setAttribute("id","myInput"+b);c.setAttribute("class","button");c.setAttribute("value","");c.setAttribute("lang","zh");c.setAttribute("maxlength","255");c.setAttribute("placeholder","");c.style.fontFamily="'Microsoft YaHei','simsun','verdana','helvetica'";a.appendChild(c)}}var gb,hb,ib;
function jb(a){var b=a.indexOf(ib);if(-1!=b)return parseFloat(a.substring(b+ib.length+1))}function kb(a){for(var b=0;b<a.length;b++){var c=a[b].ab,e=a[b].nq;ib=a[b].Af||a[b].Ha;if(c){if(-1!=c.indexOf(a[b].Fb))return a[b].Ha}else if(e)return a[b].Ha}}var lb=[{ab:navigator.platform,Fb:"Win",Ha:"Windows"},{ab:navigator.platform,Fb:"Mac",Ha:"Mac"},{ab:navigator.userAgent,Fb:"iPhone",Ha:"iPhone/iPod"},{ab:navigator.platform,Fb:"Linux",Ha:"Linux"}];
gb=kb([{ab:navigator.userAgent,Fb:"Chrome",Ha:"Chrome"},{ab:navigator.userAgent,Fb:"OmniWeb",Af:"OmniWeb/",Ha:"OmniWeb"},{ab:navigator.vendor,Fb:"Apple",Ha:"Safari",Af:"Version"},{nq:window.opera,Ha:"Opera",Af:"Version"},{ab:navigator.vendor,Fb:"iCab",Ha:"iCab"},{ab:navigator.vendor,Fb:"KDE",Ha:"Konqueror"},{ab:navigator.userAgent,Fb:"Firefox",Ha:"Firefox"},{ab:navigator.vendor,Fb:"Camino",Ha:"Camino"},{ab:navigator.userAgent,Fb:"Netscape",Ha:"Netscape"},{ab:navigator.userAgent,Fb:"MSIE",Ha:"Explorer",
Af:"MSIE"},{ab:navigator.userAgent,Fb:"Gecko",Ha:"Mozilla",Af:"rv"},{ab:navigator.userAgent,Fb:"Mozilla",Ha:"Netscape",Af:"Mozilla"}])||"An unknown browser";hb=jb(navigator.userAgent)||jb(navigator.appVersion)||"an unknown version";kb(lb);function mb(a,b,c,e){mb.b.call(this);this.x=a;this.y=b;this.width=c;this.height=e;this.right=this.bottom=this.top=this.left=0}mb.extend(R);mb.register("JRectangle");function nb(a,b){nb.b.call(this);this.x=a;this.y=b}nb.extend(R);nb.register("JPoint");
function S(a){S.b.call(this);this.currentTarget=this.target=null;this.type=a}S.extend(R);S.register("JEvent");S.Kr="not exist";S.Nh="complete";S.cn="connect";S.LOADED="loaded";S.ERROR="error";S.jn="gesture";S.dk="change";function ob(a){ob.b.call(this,a);this.data=null}ob.extend(S);ob.register("JProgressEvent");function pb(a,b,c){pb.b.call(this,a);this.id=null;this.Y=b|0;this.da=c|0}pb.extend(S);pb.register("JTouchEvent");
function T(a,b,c,e,d,f,g,h,l){T.b.call(this,a);this.Y=b|0;this.da=c|0;this.shiftKey=g?g:!1;this.altKey=f?f:!1;this.ctrlKey=d?d:!1;this.Yb=h?h:!1;this.Ga=l|0}T.extend(S);T.register("JMouseEvent");var qb=M?"touchstart":"mouseDown",rb=M?"touchend":"mouseUP",sb=M?"touchmove":"mouseMove";function tb(a,b,c,e,d,f,g){tb.b.call(this,a);this.charCode=b;this.keyCode=c;this.ctrlKey=d;this.altKey=f;this.shiftKey=g}tb.extend(S);tb.register("JKeyboardEvent");var ub=[];(function(){}).register("JKeyCode");
for(var vb=0;255>vb;vb++)ub[vb]=0;function wb(){wb.b.call(this);this.mb=[]}wb.extend(R);wb.register("JEventDispatcher");n=wb.prototype;n.addEventListener=function(a,b){this.mb[a]||(this.mb[a]=[]);this.mb[a].push(b)};n.p=wb.prototype.addEventListener;n.Kl=function(a,b){this.p(a,b);b.Kl=!0};n.dispatchEvent=function(a){var b=this.mb[a.type];if(b)for(var c=b.length,e=0;e<c;e++){var d=b[e];if(!d)break;var f=d.call(this,a);d.Kl&&b.splice(e--,1);if(f)break}};n.ia=wb.prototype.dispatchEvent;
n.Xc=function(a){return(a=this.mb[a])?a.length?!0:!1:!1};n.removeEventListener=function(a,b){var c=this.mb[a];if(c)if(b){var e=c.indexOf(b);-1!=e&&c.splice(e,1)}else this.mb[a]=[]};function xb(){xb.b.call(this)}xb.extend(R);xb.register("JXmlLoader");var yb=null;
function zb(a,b,c,e){if(window.ActiveXObject){var d=new ActiveXObject("Microsoft.XMLDOM");d.onreadystatechange=function(){4==d.readyState&&(c?b.call(c,d):b(d))};d.async=!0;d.load(a+Xa)}else if(O||document.implementation&&document.implementation.createDocument){var f=new window.XMLHttpRequest;f.onreadystatechange=function(){if(4==f.readyState)if(O){yb||(yb=new marknote.Lr);var a=yb.parse(f.responseText);c?b.call(c,a):b(a)}else null===f.responseXML?c?b.call(c,f.responseText):b(f.responseText):c?b.call(c,
f.responseXML,!0,e):b(f.responseXML,!0,e)};f.open("GET",a+Xa,!1);f.send(null)}}function Ab(){Ab.b.call(this)}Ab.extend(R);Ab.register("JSonLoader");
function Bb(){Bb.b.call(this);this.ya="";this.Ra=!1;this.Za=this.Ya=0;this.parent=null;this.alpha=1;this.height=this.width=this.y=this.x=this.w=this.v=0;this.o=this.n=1;this.t=this.s=0;this.visible=!0;this.rotation=0;this.fh=null;this.Zk=Cb;this.kb=0;this.filters=[];this.cf=this.La=null;this.Ap=!1;this.Pd=this.Od=this.da=this.Y=this.Za=this.Ya=0;this.tag=""}Bb.extend(wb);Bb.register("JDisplayObject");n=Bb.prototype;n.moveTo=function(a,b){this.x=a;this.y=b};
function Db(a){a.parent&&(a.parent.removeChild(a),a.parent=null)}n.ek=function(){this.parent&&(this.x=0.5*(this.parent.width-this.width)|0,this.y=0.5*(this.parent.height-this.height)|0)};n.X=function(){};n.U=function(){};n.K=function(){};n.sa=function(){};
function Eb(a,b){for(var c=new nb(b.x,b.y),e=a,d=[];e&&"root"!=e;)d.push(e),e=e.parent;for(;e=d.pop();){c.x-=e.x;c.y-=e.y;if(0!=e.rotation){var f=Math.cos(-e.rotation),g=Math.sin(-e.rotation),h=c.x*g+c.y*f;c.x=c.x*f+c.y*-g;c.y=h}1!=e.n&&(c.x/=e.n);1!=e.o&&(c.y/=e.o)}return c}n.xb=function(a,b){return this.visible?0<=a&&a<=this.width&&0<=b&&b<=this.height?(this.Y=a,this.da=b,!0):!1:!1};function Fb(a,b){for(var c=new nb(b.x,b.y),e=a;e&&"root"!=e;)c.x+=e.x,c.y+=e.y,e=e.parent;return c}n.l=function(){};
function Gb(){Gb.b.call(this);this.H=!0;this.tabIndex=0;this.hint="";this.identifier=-1;this.pd=!1}Gb.extend(Bb);Gb.register("JInteractiveObject");n=Gb.prototype;n.click=function(){};n.dp=function(){};n.we=function(){};n.Wp=function(){};n.Hl=function(){};n.Lq=function(){};n.km=function(){};
n.ol=function(a,b){if(!this.visible||!this.H&&!this.Ra)return!1;var c=(a-this.x-this.v)/this.n,e=(b-this.y-this.w)/this.o,d=c,f=e;if(0!=this.rotation)var f=Math.cos(-this.rotation),g=Math.sin(-this.rotation),d=c*f-e*g,f=e*f+c*g;this.Y=d+this.v;this.da=f+this.w;return this.xb(this.Y,this.da)};function Hb(){Hb.b.call(this);this.childList=[];this.Xa=!0;this.rect=new mb}Hb.extend(Gb);Hb.register("JDisplayObjectContainer");n=Hb.prototype;n.size=function(){return this.childList.length};
n.j=function(a){a&&(a.parent&&a.parent.removeChild(a),this.childList.push(a),a.parent=this)};n.removeChild=function(a){if(a){var b=this.childList.indexOf(a);-1!=b&&(this.childList.splice(b,1),a.parent=null,a.Fe=null)}};function Ib(a,b,c){b&&(b.parent&&b.parent.removeChild(b),a.childList.splice(c,0,b),b.parent=a)}n.Ce=function(){for(var a=0,b=this.childList.length;a<b;a++)this.childList[a].parent=null;this.childList.length=0};
n.rc=function(a,b){if(!this.visible||!this.H&&!this.Xa&&!this.Ra)return null;var c=(a-this.x-this.v)/this.n,e=(b-this.y-this.w)/this.o,d=c,f=e;if(0!=this.rotation)var f=Math.cos(-this.rotation),g=Math.sin(-this.rotation),d=c*f-e*g,f=e*f+c*g;this.Y=d+this.v;this.da=f+this.w;if((c=this.La)&&(0>this.Y||this.Y>c.width||0>this.da||this.da>c.height))return null;c=[];if(this.Xa)for(e=this.childList,f=d=null,g=e.length-1;0<=g;g--)if(d=e[g],null!=d&&d.visible){if(d.rc)(f=d.rc(this.Y,this.da))&&f.length&&(c=
c.concat(f));else if(d.ol&&d.ol(this.Y,this.da)){c.push(d);break}if((null==d.H||d.Ra||d.H)&&f&&f.length)break}(this.H||this.Ra)&&this.xb&&this.xb(this.Y,this.da)&&c.push(this);return c};n.l=function(a,b,c,e,d,f,g){for(var h=null,l=0,p=this.childList.length;l<p;l++)(h=this.childList[l])&&h.visible&&0<h.alpha&&h.l(a,b,c,e,d,f,g)};function Jb(){Jb.b.call(this);this.parent=null;this.y=this.x=0;this.width=C;this.height=D}Jb.extend(Hb);Jb.register("JStage");
Jb.prototype.l=function(a,b,c,e,d,f){a.globalAlpha=1;a.scale(d,d);Jb.b.prototype.l.call(this,a,0,0,1,1,1,0);a.scale(1/d,1/f)};Jb.prototype.xb=function(){return!1};function U(){U.b.call(this);this.kf=!1;this.Va=new Kb}U.extend(Hb);U.register("JSprite");
U.prototype.l=function(a,b,c,e,d,f,g){if(0!=this.childList.length){d*=this.n;f*=this.o;e*=this.alpha;a.globalAlpha=e;0!==this.kb&&(this.rotation+=0.001*Ka*this.kb,this.rotation>16*Math.PI&&(this.rotation-=16*Math.PI));g=this.rotation+g;b=this.x+b|0;c=this.y+c|0;if(0!==g||1!==d||1!==f||this.La||this.cf||this.filters&&this.filters.length){var h=!1;if(this.La||this.cf||this.filters&&this.filters.length)h=!0,a.save();if(this.filters&&0<this.filters.length)for(var l=0,p=this.filters.length;l<p;l++)this.filters[l].apply(a);
0===b&&0===c||a.translate(b,c);0===this.v&&0===this.w||a.translate(this.v,this.w);1===d&&1===f||a.scale(d,f);0!==g&&a.rotate(g);0===this.v&&0===this.w||a.translate(-this.v,-this.w);null!==this.La&&(a.beginPath(),a.rect(this.La.x,this.La.y,this.La.width,this.La.height),a.clip());if(null!==this.cf){a.beginPath();l=this.cf[0];a.moveTo(l[0],l[1]);l=1;for(p=this.cf.length;l<p;l++){var k=this.cf[l];a.lineTo(k[0],k[1])}a.closePath();a.clip()}U.b.prototype.l.call(this,a,0,0,e,1,1,0);h?a.restore():(0===this.v&&
0===this.w||a.translate(this.v,this.w),0!==g&&a.rotate(-g),1===d&&1===f||a.scale(1/d,1/f),0===this.v&&0===this.w||a.translate(-this.v,-this.w),0===b&&0===c||a.translate(-b,-c))}else U.b.prototype.l.call(this,a,b,c,e,1,1,0);a.globalAlpha=1}};function Kb(){this.Hj=this.startTime=this.jc=this.yc=this.Jj=this.Ij=0}Kb.prototype.Qe=function(){this.df=this.fp=this.Nb=this.Hj=this.startTime=this.jc=this.yc=this.Jj=this.Ij=0};new Kb;
U.prototype.Hh=function(a,b){this.pd=!0;Da=this;Ea=a;ba=b;var c=new nb(K,L);c.x-=this.x;c.y-=this.y;Fa=c.x;Ga=c.y;this.xl=a;this.Ok=b;this.Va.Qe();this.Va.Ij=this.x;this.Va.Jj=this.y;this.Va.startTime=Ja};U.prototype.Gj=function(){this.pd=!1;this.Pd=this.Od=null;this.Va.yc=this.x;this.Va.jc=this.y;this.Va.Hj=Ja;this.Va.Nb=this.Va.yc-this.Va.Ij;this.Va.fp=this.Va.jc-this.Va.Jj;this.Va.df=0.001*(this.Va.Hj-this.Va.startTime);if(Da){var a=new S(S.jn);a.target=Da;a.Va=this.Va;Da.dispatchEvent(a);Da=null}};
function Lb(){Lb.b.call(this);this.ya="";this.align=0;this.htmlText=this.text="";this.length=0;this.la="#FC0";this.sb=!0;this.Kc=!1;this.yb=20;this.height=this.size=14;this.width=100;this.filters=[];this.pc=this.canvas=null;this.refresh=!1;this.bh=-1;this.zq=!1;this.rj=4095;this.Xp=!1;this.rf=!0}Lb.extend(Gb);Lb.register("JTextField");n=Lb.prototype;n.Ae=function(){};n.ze=function(){};n.K=function(){this.refresh=!0};n.rk=function(a){this.size=a;this.height<a&&(this.height=a)};
n.Hb=function(a){this.text=a;this.refresh=!0};n.X=function(a){this.width=a;this.refresh=!0};n.U=function(a){this.height=a;this.refresh=!0};
function Mb(a){if(a.htmlText&&0<a.htmlText.length){a.htmlText=a.htmlText.replace(/##/gi,"<");var b=a.canvas,c=null;b?(c=b.pc,a.pc=c,b.width!=a.width&&(b.width=a.width,c.width=a.width),b.height!=a.height&&(b.height=a.height,c.height=a.height)):(b=document.createElement("canvas"),b.width=a.width,b.height=a.height,c=b.getContext("2d"),b.pc=c,a.canvas=b,a.pc=c);c.clearRect(0,0,a.width,a.height);a.ib||(a.ib=a.size);a.Jd=0;xmlDoc=(new DOMParser).parseFromString("<body>"+a.htmlText+"</body>","text/xml");
a.Ah=xmlDoc.firstChild.childNodes;var c=a.pc,e=function(b,f,g,h,l,p,k,m){for(var q=b.length,v=0;v<q;v++){var r=b[v],s=r.attributes;if("font"==r.nodeName){var w=s.face?s.face.nodeValue:f,t=s.size?s.size.nodeValue:g,u=h;s.italic&&(u="true"==s.italic.nodeValue?"italic ":"");var x=l;s.bold&&(x="true"==s.bold.nodeValue?"bold ":"");var y=p;s.underline&&(y="true"==s.underline.value?!0:!1);var E=k;s.strike&&(E="true"==s.strike.value?!0:!1);t>a.yb&&(t=a.yb);s=s.color?s.color.nodeValue:m;c.save();c.font=x+
u+t+"px "+w;c.fillStyle=s;c.textBaseline="bottom";0<r.childNodes.length&&e(r.childNodes,w,t,u,x,y,E,s);c.restore()}else"#text"==r.nodeName&&(t=g,u=h?" italic ":" ",x=l?" bold ":" ",t>a.yb&&(t=a.yb),s=m,c.save(),c.font=x+u+t+"px "+f,c.fillStyle=s,c.textBaseline="bottom",c.shadowBlur=3,c.shadowColor="#000",c.shadowOffsetX=1,c.shadowOffsetY=1,c.lineWidth=3,w=r.textContent,t=p,u=k,r=c.measureText(r.textContent).width,x=a,y=x.pc,y.save(),y.fillText(w,x.Jd,x.yb+2),x.Jd+=r,t&&(y.save(),y.strokeStyle="#FD0",
y.lineWidth=4,y.beginPath(),y.moveTo(x.Jd-r,x.yb),y.lineTo(x.Jd,x.yb),y.closePath(),y.stroke(),y.restore()),u&&(y.save(),y.strokeStyle="#F00",y.lineWidth=2,y.beginPath(),y.moveTo(x.Jd-r,x.yb/2),y.lineTo(x.Jd,x.yb/2),y.closePath(),y.stroke(),y.restore()),y.restore(),c.restore())}};e(a.Ah,wa,a.size,a.Kc,a.sb,!1,!1,a.la);a.refresh=!1;a.bh=Math.floor((a.width-a.Jd)/2)}}
n.l=function(a,b,c,e){if(this.text&&0!=this.text.length){a.globalAlpha=this.alpha*e;if(!this.canvas||this.refresh)if(this.htmlText&&this.htmlText.length)Mb(this);else{if(this.refresh||!this.canvas&&this.rf){e=this.Kc?" italic ":"";var d=this.sb?" bold ":"";a.font=d+e+this.size+"px "+wa;a.fillStyle=this.la;this.bh=Math.floor((this.width-a.measureText(this.text).width)/2)}this.rf&&(e=this.canvas,d=null,e?(d=e.pc,e.width!=this.width&&(e.width=this.width,d.width=this.width),e.height!=this.height&&(e.height=
this.height,d.height=this.height)):(e=document.createElement("canvas"),e.ah="JTextField"+Nb++,e.width=this.width,e.height=this.height,d=e.getContext("2d"),e.pc=d,this.canvas=e),d.clearRect(0,0,this.width,this.height),d.globalAlpha=1,d.font=(this.sb?" bold ":"")+(this.Kc?" italic ":"")+this.size+"px "+wa,d.fillStyle=a.fillStyle,d.textBaseline=a.textBaseline,d.textAlign=a.textAlign,this.zq||O||(d.shadowBlur=3,d.shadowOffsetX=1,d.shadowOffsetY=1,d.shadowColor="#000"),d.fillText(this.text,0,this.height/
2),this.refresh=!1)}this.rf?a.drawImage(this.canvas,this.x+b+this.align*this.bh|0,this.y+c|0):(e=this.Kc?" italic ":"",d=this.sb?" bold ":"",a.font=d+e+this.size+"px "+wa,a.fillStyle=this.la,a.fillText(this.text,this.x+b+this.align*this.bh|0,this.y+c+this.height/2|0))}};var Nb=0;
function Ob(){Ob.b.call(this);this.text=this.ya="";this.htmlText="<font></font>";this.length=0;this.ef=!1;this.ib=30;this.Kj=200;this.wordWrap=!0;this.Ah=null;this.filters=[];this.ad=this.Zd=0;this.p("mouseWheel",this.Zp);Pb++;ab=document.createElement("canvas");ab.id="canvas_"+Pb.toString();ab.width=64;ab.height=64;this.canvas=ab;this.pc=this.canvas.getContext("2d");this.loaded=!1;this.height=this.width=300;this.Nd=null;this.Xe=!1}Ob.extend(Gb);Ob.register("JTextArea");
function Qb(a){function b(c,l,p,k,m,q,v,r){for(var s=0;s<c.length;s++){var w=c[s],t=w.attributes;if("font"==w.nodeName){var u=t.face?t.face.nodeValue:l,x=t.size?t.size.nodeValue:p,y=k;t.italic&&(y="true"==t.italic.value?"italic ":"");var E=m;t.bold&&(E="true"==t.bold.value?"bold ":"");var I=q;t.underline&&(I="true"==t.underline.value?!0:!1);var Q=v;t.strike&&(Q="true"==t.strike.value?!0:!1);x>a.ib&&(x=a.ib);t=t.color?t.color.nodeValue:r;e.save();e.font=E+y+x+"px "+u;e.fillStyle=t;e.textBaseline="bottom";
0<w.childNodes.length?b(w.childNodes,u,x,y,E,I,Q,t):(u=Math.floor(a.width/x),y=e.measureText(w.textContent).width,y+d<a.width?(Rb(w.textContent,d,f,a.width,a.ib,I,Q,-1,y,x,a),0!=d&&a.ad--,d+=y):(g=Rb(w.textContent,d,f,a.width,a.ib,I,Q,u,0,x,a),f+=g,d=Sb));e.restore()}else"br"==w.nodeName?(0==d&&a.ad++,f+=a.ib,d=0):(u=Math.floor(a.width/p),y=e.measureText(w.textContent).width,y+d<a.width?(Rb(w.textContent,d,f,a.width,a.ib,q,v,-1,y,p,a),0!=d&&a.ad--,d+=y):(g=Rb(w.textContent,d,f,a.width,a.ib,q,v,u,
0,p,a),f+=g,d=Sb))}}var c=a.canvas,e=a.pc;c.width=a.width;c.height=a.height;e.width=a.width;e.height=a.height;e.clearRect(0,0,a.width,a.height);e.shadowBlur=3;e.shadowOffsetX=2;e.shadowOffsetY=2;e.shadowColor="#000";a.htmlText=a.htmlText.trim();a.htmlText&&(xmlDoc=(new DOMParser).parseFromString(a.htmlText,"text/xml"),a.Ah=xmlDoc.childNodes);var d=a.ad=0,f=a.ib,g=0;b(a.Ah,wa,20,"","",!1,!1,a.la)}var Pb=0;Ob.prototype.X=function(a){this.loaded=!1;this.width=a};
Ob.prototype.U=function(a){this.loaded=!1;this.height=a};
Ob.prototype.l=function(a,b,c,e){Tb=this;var d=this.n,f=this.o,g=this.rotation;b=this.x+b|0;c=this.y+c|0;a.globalAlpha=this.alpha*e;1!=d||1!=f||0!=g||this.La?(a.save(),0==b&&0==c||a.translate(b,c),0!=g&&a.rotate(g),1==d&&1==f||a.scale(d,f),a.beginPath(),this.La?a.rect(this.La.x,this.La.y,this.La.width,this.La.height):a.rect(0,0,this.width,this.height),a.closePath(),a.clip(),this.loaded||(Qb(this),this.loaded=!0),a.drawImage(this.canvas,0,-this.Zd*this.ib),a.restore()):(this.loaded||(Qb(this),this.loaded=
!0),a.drawImage(this.canvas,b,c-this.Zd*this.ib))};var Sb=0,Tb=null;Ob.prototype.Zp=function(a){var b=a.target,c=Math.ceil(b.height/b.ib);0<a.Ga?(b.Zd--,0>b.Zd&&(b.Zd=0)):b.ad<c||(b.Zd++,b.Zd>b.ad-c&&(b.Zd=b.ad-c))};
function Rb(a,b,c,e,d,f,g,h,l,p,k){k=k.pc;b=Math.floor(b);c=Math.floor(c);if(-1==h)Tb.ad++,k.fillText(a,b,c),f&&(k.save(),k.shadowBlur=3,k.shadowOffsetX=2,k.shadowOffsetY=2,k.strokeStyle="#FF0",k.lineWidth=2,k.beginPath(),k.moveTo(b,c-2),k.lineTo(b+l,c-2),k.closePath(),k.stroke(),k.restore()),g&&(k.save(),k.shadowBlur=3,k.shadowOffsetX=2,k.shadowOffsetY=2,k.strokeStyle="#F40",k.lineWidth=2,k.beginPath(),k.moveTo(b,c-2-p/2),k.lineTo(b+l,c-2-p/2),k.closePath(),k.stroke(),k.restore());else{l=0;for(var m=
b,q=b,v="",r=[],s=!1,w=a.length,t=0;t<w;t++){if(!s){s=!0;if(0!=m)var u=Math.floor((Tb.width-m)/p),v=a.substr(t,u),m=0,t=t+u;else v=a.substr(t,h),t+=h;q+=k.measureText(v).width}u=k.measureText(a.charAt(t)).width;q+u>e?(r.push(v),l++,v=a.charAt(t),q=u):(v+=a.charAt(t),q+=u)}l++;r.push(v);for(t=0;t<l;t++)Tb.ad++,0==t?(0!=b&&Tb.ad--,k.fillText(r[t],b,c)):(k.fillText(r[t],0,c),b=0),f&&(k.save(),a=k.measureText(r[t]).width,k.strokeStyle="#FF0",k.lineWidth=2,k.beginPath(),k.moveTo(b,c-2),k.lineTo(b+a,c-
2),k.closePath(),k.stroke(),k.restore()),g&&(k.save(),a=k.measureText(r[t]).width,k.strokeStyle="#F00",k.lineWidth=2,k.beginPath(),k.moveTo(b,c-2-p/2),k.lineTo(b+a,c-2-p/2),k.closePath(),k.stroke(),k.restore()),c+=d;Sb=1<l?q:q+b;return 1<l?(l-1)*d:q}}function Ub(){Ub.b.call(this);this.fc="";this.fa=[];this.height=20;this.width=30;this.ra=20;this.pb=this.gc=this.nj=0;this.qb=!0}Ub.extend(Gb);Ub.register("JSimpleTextArea");n=Ub.prototype;n.Hb=function(a){this.fa.length=0;this.fc=a;this.Hf(a)};
n.X=function(a){this.width=a;""!=this.fc&&this.Hb(this.fc)};n.U=function(a){this.height=a};n.qk=function(a){this.ra=a;""!=this.fc&&this.Hb(this.fc)};n.ik=function(){var a=za;a.save();for(var b=0,c=null,e=0,d=this.fa.length;e<d;e++)c=this.fa[e],a.font="bold "+c.size+"px "+wa,a.fillStyle=c.color,b+=a.measureText(c.Ua).width;a.restore();return b};
n.Hf=function(a){a=a.split("@");0<a.length&&a.shift();for(var b=0,c=a.length/3|0;b<c;b++){var e={};e.size=parseInt(a[3*b+0]);e.color=a[3*b+1];e.Ua=a[3*b+2];e.x=0;e.y=this.height*b;this.fa.push(e)}this.Rh()};
n.Rh=function(){var a=za;a.save();for(var b="",c=0,e="",d=0,f=0,g=0,h=[],l=this.fa.length,p=0;p<l;p++){var k=this.fa[p];a.font="bold "+k.size+"px "+wa;a.fillStyle=k.color;var b=k.Ua,m=Math.floor((this.width-d)/k.size),c=b.length;if("br"==b)f=d=0,e="",g++;else for(var q=0;q<c;q++){var m=Math.floor((this.width-d)/k.size),v=b.substr(q,m),q=q+m,d=d+a.measureText(v).width,e=e+v,m=a.measureText(b.charAt(q)).width;d+m>this.width?(m={},m.Ua=e,m.size=k.size,m.color=k.color,m.x=f,m.y=this.ra*g,h.push(m),d=
f=0,e="",g++,q--):(e+=b.charAt(q),d+=m);if(q>=c-1){m={};m.Ua=e;m.size=k.size;m.color=k.color;m.x=f;m.y=this.ra*g;h.push(m);f=d;e="";break}}}this.fa=h;q=0;for(b=h.length;q<b;q++)c=h[q],c.length=c.Ua.length,this.gc+=c.Ua.length;this.pb=0;this.qb||(this.pb=this.gc);a.restore()};n.pk=function(a){this.pb=(this.qb=a)?0:this.gc};
n.l=function(a,b,c,e){this.nj++;this.qb&&this.pb<this.gc&&0==this.nj%2&&this.pb++;var d=0,f="";a.save();a.shadowBlur=3;a.shadowColor="#000";a.shadowOffsetX=1;a.shadowOffsetY=1;a.globalAlpha=this.alpha*e;e=0;for(var g=this.fa.length;e<g;e++){var h=this.fa[e];a.font="bold "+h.size+"px "+wa;a.fillStyle=h.color;if(this.qb){if(d+h.length>this.pb){f=h.Ua.substr(0,this.pb-d);a.fillText(f,this.x+b+h.x|0,this.y+c+h.y+(this.ra-h.size)+0.5*h.size|0);break}else d+=h.length,f=h.Ua;a.fillText(f,this.x+b+h.x|0,
this.y+c+h.y+(this.ra-h.size)+0.5*h.size|0)}else a.fillText(h.Ua,this.x+b+h.x|0,this.y+c+h.y+(this.ra-h.size)+0.5*h.size|0)}a.restore()};
function Vb(){Vb.b.call(this);this.text="";this.ef=!0;this.dh=!1;this.Ca=!0;this.length=0;this.bb=new Lb;this.bb.align=0;this.height=20;this.width=100;this.ib=20;this.Kj=100;this.rj=65535;this.Cc=null;this.p("input",this.Ch);O&&this.addEventListener("click",this.td);this.hasFocus=!1;this.input=null;this.Eg="";this.ya="engine";this.placeholder=this.message=this.title=""}Vb.extend(Gb);Vb.register("JTextInput");n=Vb.prototype;n.X=function(a){this.Kj=this.width=a;this.bb.K()};
n.U=function(a){this.ib=this.height=a;this.bb.K()};n.K=function(){this.bb.K()};n.Hb=function(a,b,c){this.text=a;this.bb.K();b&&this.input&&(this.input.value=a);c&&this.input&&this.input.focus()};n.Ub=function(){var a=new Vb;a.ef=this.ef;a.text=this.text;return a};n.sa=function(a,b){this.ya=b;this.Cc=a.background};function Wb(a){var b=a.target,c=b.Bh;c&&(c.text=b.value,c&&c.dispatchEvent&&(a=new tb(a.type,a.charCode,a.keyCode,0,a.ctrlKey,a.altKey,a.shiftKey),a.target=c,c.dispatchEvent(a)))}
function Xb(){}function Yb(a){O||(a.target.focus(),Zb(a))}
n.l=function(a,b,c,e,d,f,g){if(z.jt!=this){e*=this.alpha;d*=this.n;f*=this.o;g=this.rotation+g;if(this.dh){if(this.Eg.length!=this.text.length){this.Eg="";for(var h=this.text.length,l=0;l<h;l++)this.Eg+="\u2022"}this.bb.text=this.Eg}else this.bb.text=this.text;this.Cc&&(this.Cc.width!=this.width+5&&(this.Cc.width=this.width+5,P(this.Cc.canvas),this.Cc.canvas=null),this.Cc.height!=this.height+4&&(this.Cc.height=this.height+4,P(this.Cc.canvas),this.Cc.canvas=null),this.Cc.l(a,this.x+b,this.y+c,e,1,
1,0));this.bb.height=this.height;this.bb.width=this.width;l=h=0;Ia?h=-1:Ha&&(l=0,h=1);this.bb.l(a,this.x+b+5+l,this.y+c+3+1+h,e,d,f,g)}};n.Ch=function(){};var $b=null;Vb.prototype.td=function(){try{$b=this.$p.bind(this),CocoonJS.App.showTextDialog(this.title,this.message,""+this.bb.text,CocoonJS.App.KeyboardType.URL,"\u53d6\u6d88","\u786e\u5b9a")}catch(a){console.log(a.message)}};Vb.prototype.$p=function(a){this.text=a;this.bb.Hb(a)};
try{navigator.isCocoonJS&&CocoonJS.App.onTextDialogFinished.addEventListener(function(a){$b&&($b(a),$b=null)})}catch(ac){console.log(ac.message)}function bc(a,b){bc.b.call(this);O?(this.width=a?a.width:0,this.height=a?a.height:0):(this.width=a?b?a.width:a.naturalWidth:0,this.height=a?b?a.height:a.naturalHeight:0);this.Nd=this.rect=null;this.canvas=b?a:null;this.Zf=""}bc.extend(R);bc.register("JBitmapData");var cc=0;
bc.prototype.Ib=function(){var a=dc[this.Zf];if(!a&&!ec[this.Zf]){console.log("none "+this.Zf);var b=this.Zf;ec[b]=!0;fc.push(b);gc()}return a};var ec={},fc=[],hc=!1;function gc(){if(!hc){hc=!0;var a=fc.pop();if(a){var b=new Image;b.onload=function(){dc[b.path]=b;delete ec[b.path];b=b.onload=b.onerror=null;hc=!1;gc()};b.onerror=function(a){b=b.onload=b.onerror=null;console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxx"+a.message);gc()};b.src=a;b.path=a}else hc=!1}}
function ic(a){ic.b.call(this);this.H=!1;a&&(this.width=(this.u=a)?a.width:0,this.height=a?a.height:0,this.Z=this.xc=!1,this.offsetY=this.offsetX=this.Cb=this.Bb=this.Ab=this.Db=0,this.offsetWidth=this.width,this.offsetHeight=this.height,this.Eb="",this.canvas=null,this.yg=!0)}ic.extend(Bb);ic.register("JBitmap");n=ic.prototype;n.sa=function(a,b){this.ya=b;var c=a.bitmap;c||console.log("Error "+b);V(c,this);this.width=c.offsetWidth;this.height=c.offsetHeight};
function V(a,b){var c=b?b:new ic;c.u=a.u;c.ct="";c.Aq=a.Aq;c.width=a.width;c.height=a.height;c.xc=a.xc;c.Z=a.Z;c.Db=a.Db;c.Ab=a.Ab;c.Bb=a.Bb;c.Cb=a.Cb;c.v=a.v;c.w=a.w;c.ca=a.ca;c.ba=a.ba;c.canvas=null;c.yg=a.yg;c.frames=a.frames;c.S=a.S;c.offsetX=a.offsetX;c.offsetY=a.offsetY;c.offsetWidth=a.offsetWidth;c.offsetHeight=a.offsetHeight;c.Eb=a.Eb;c.Z?c.offsetWidth||(c.offsetWidth=c.width,c.offsetHeight=c.height):0!=c.offsetWidth?(c.width=c.offsetWidth,c.height=c.offsetHeight):(c.offsetWidth=c.width,c.offsetHeight=
c.height);return c}n.X=function(a){this.xc||this.Z?(this.width=a,P(this.canvas),this.canvas=null):this.width=a};n.U=function(a){this.xc||this.Z?(this.height=a,P(this.canvas),this.canvas=null):this.height=a};n.Ub=function(){return V(this)};n.Ib=function(){return this.u.Ib()};
function jc(a,b,c){if(!a.canvas||!a.canvas.ps){if(!a.canvas){var e=document.createElement("canvas");e.width=a.width;e.height=a.height;a.canvas=e;a.canvas.je=e.getContext("2d")}e=a.canvas.je;e.clearRect(0,0,e.width,e.height);var d=a.u.Ib();e.drawImage(d,a.offsetX,a.offsetY,a.offsetWidth,a.offsetHeight,0,0,a.offsetWidth,a.offsetHeight)}return a.canvas.je.getImageData(b,c,1,1).data}
n.l=function(a,b,c,e,d,f,g){if(null!=this.u||null!=this.canvas)a.globalAlpha=1<this.alpha*e?1:this.alpha*e,this.rotation+=0.001*Ka*this.kb,b=this.x+b|0,c=this.y+c|0,d*=this.n,f*=this.o,g=this.rotation+g,0!==g||1!==d||1!==f?(0==b&&0==c||a.translate(b,c),0===this.v&&0===this.w||a.translate(this.v,this.w),1===d&&1===f||a.scale(d,f),0!==g&&a.rotate(g),0===this.v&&0===this.w||a.translate(-this.v,-this.w),kc(this,a,0,0),0===this.v&&0===this.w||a.translate(this.v,this.w),0!==g&&a.rotate(-g),1===d&&1===f||
a.scale(1/d,1/f),0===this.v&&0===this.w||a.translate(-this.v,-this.w),0==b&&0==c||a.translate(-b,-c)):kc(this,a,b,c)};
function kc(a,b,c,e){var d=a.u?a.u.Ib():null;if(d)if(a.Z){if(null==a.canvas){var d=a.u.Ib(),f=[d.src,a.Eb,a.width,a.height].join(":"),g=cb[f];if(null!=g)a.canvas=g,g.Vd++;else{g=eb(f,a.width,a.height);cb[f]=g;g.ah=f;g.Vd=1;a.canvas=g;f=a.canvas.getContext("2d");a.canvas.je=f;f.Aa=f.drawImage;var g=a.Bb,h=a.Cb-a.Bb,l=a.offsetWidth-a.Cb,p=a.Db,k=a.Ab-a.Db,m=a.offsetHeight-a.Ab,q=a.width-g-l;0>q&&(q=1);var v=a.height-p-m;0>v&&(v=1);var r,s,w,t,u,x;r=a.offsetX;s=a.offsetY;w=p;u=t=0;x=p;f.Aa(d,r,s,g,w,
t,u,g,x);r+=g;t+=g;f.Aa(d,r,s,h,w,t,u,q,x);f.Aa(d,r+h,s,l,w,t+q,u,l,x);r=a.offsetX;s=a.offsetY+p;w=k;t=0;u=0+p;x=v;f.Aa(d,r,s,g,w,t,u,g,x);r+=g;t+=g;f.Aa(d,r,s,h,w,t,u,q,x);r+=h;t+=q;f.Aa(d,r,s,l,w,t,u,l,x);r=a.offsetX;s=a.offsetY+p+k;w=m;t=0;u=0+p+v;x=m;f.Aa(d,r,s,g,w,t,u,g,x);r+=g;t+=g;f.Aa(d,r,s,h,w,t,u,q,x);r+=h;t+=q;f.Aa(d,r,s,l,w,t,u,l,x)}}try{a.fh&&a.Zk!==Cb?b.Aa(a.fh.Ja,c,e):b.Aa(a.canvas,c,e)}catch(y){console.log(y.message)}}else if(a.xc)null==a.canvas&&(d=a.u.Ib(),f=[d.src,a.Eb,a.width,
a.height].join(":"),g=cb[f],null!=g?(a.canvas=g,g.Vd++):(g=eb(f,a.width,a.height),cb[f]=g,g.ah=f,g.Vd=1,a.canvas=g,f=a.canvas.getContext("2d"),a.canvas.je=f,g=document.createElement("canvas"),g.width=a.offsetWidth,g.height=a.offsetHeight,g.getContext("2d").drawImage(d,a.offsetX,a.offsetY,a.offsetWidth,a.offsetHeight,0,0,a.offsetWidth,a.offsetHeight),d=f.createPattern(g,"repeat"),f.rect(0,0,a.width,a.height),f.fillStyle=d,f.fill())),a.canvas&&b.Aa(a.canvas,c,e);else if(a.yg)if(a.fh&&a.Zk!==Cb)b.Aa(a.fh.Ja,
c,e);else if(a.canvas)b.Aa(a.canvas,c,e);else if(a.u.canvas)b.Aa(a.u.canvas,c,e);else try{b.Aa(d,a.offsetX,a.offsetY,a.offsetWidth,a.offsetHeight,c,e,a.width,a.height)}catch(E){console.log(E.message)}else b.Aa(d,a.offsetX,a.offsetY,a.offsetWidth,a.offsetHeight,c,e,a.width,a.height)}function lc(){lc.b.call(this);this.content=null}lc.extend(wb);lc.register("JLoader");
lc.prototype.load=function(a){var b=this,c=new Image;b.content=c;c.onload=function(){c=c.onload=c.onerror=null;var a=new S(S.LOADED);a.target=b;b.dispatchEvent(a);a=new S(S.Nh);a.target=b;b.dispatchEvent(a)};c.onerror=function(){c=c.onload=c.onerror=null;var a=new S(S.ERROR);a.target=b;b.dispatchEvent(a)};c.src=a;c.path=a};
function mc(){mc.b.call(this);this.nh=new lc;this.nh.p(S.Nh,this.qn.bind(this));this.nh.p(S.ERROR,this.pn.bind(this));this.Hd=null;this.yd=[];this.Ye=this.Pa=null;this.xg=0;this.state=nc}var oc;mc.extend(R);mc.register("JLoaderManager");var nc="idle",pc={},dc={};
mc.prototype.be=function(a,b){if("loading"!=this.state)if(this.Pa=a,this.Ye=b,this.xg=this.yd.length,0<this.yd.length)this.state="loading",this.ae();else{this.state=nc;if(this.Pa){var c=this.Pa;this.Pa=null;c()}this.Ye&&(c=this.Ye,this.Ye=null,c(this.xg,this.xg))}};var qc=new Image;
mc.prototype.ae=function(){this.Ye&&this.Ye(this.xg,this.xg-this.yd.length);if(0==this.yd.length){if(this.Pa){var a=this.Pa;this.Pa=null;a()}this.state=nc}else this.Hd=this.yd.shift(),dc[this.Hd]?this.ae():(dc[this.Hd]=qc,this.nh.load(this.Hd))};mc.prototype.qn=function(a){var b=pc[this.Hd];b||(b=new bc(a.target.content),b.Zf=this.Hd,pc[this.Hd]=b);b=a.target.content;oc++;Math.log(b.width);Math.log(2);Math.log(b.height);Math.log(2);dc[this.Hd]=a.target.content;this.ae()};mc.prototype.pn=function(){this.ae()};
function rc(a,b,c){rc.b.call(this);this.Ii=[];this.$b=0;this.fj=[];this.He=!1;this.direction=sc;if(a){var e=a.Ib();this.Ea=b;this.qc=0;this.S=c?c:b;this.u=a;this.ca=e.width/this.Ea;this.ba=e.height;this.width=this.ca;this.height=this.ba;this.v=this.ca/2;this.w=this.ba;tc(this)}else this.u=null}rc.extend(U);rc.register("JMovieClip");var sc=1,uc=[];
function tc(a){if(a.u){try{var b,c=a.u;b=c.Nd?c.Nd.src:"Image_"+cc++}catch(e){console.log(e.message)}if(uc[b])a.frames=uc[b];else{for(var c=Math.floor(a.u.width/a.ca),d=Math.floor(a.u.height/a.ba),f=0;f<d;f++)for(var g=0;g<c;g++){var h=f*c+g;if(h>=a.Ea)break;var l={};l.x=a.ca*g;l.y=a.ba*f;a.fj[h]=l}uc[b]=a.frames}}}n=rc.prototype;n.X=function(a){this.width=this.ca<a?a:this.ca};n.U=function(a){this.height=this.ba<a?a:this.ba};
n.sa=function(a,b){this.ya=b;var c=a.frames,e=a.fps,d=a.pic.u;this.Ea=c;this.qc=0;this.S=e?e:c;this.u=d;this.ca=a.frameWidth;this.ba=a.frameHeight;this.v=a.regX;this.w=a.regY;this.width=this.ca;this.height=this.ba;tc(this)};n.ok=function(a,b){this.x=a-this.width/2;this.y=b-this.height};
n.l=function(a,b,c,e,d,f,g){var h=this.u?this.u.Ib():null;if(h&&(e*=this.alpha,d*=this.n,f*=this.o,this.rotation+=0.001*Ka*this.kb,g=this.rotation+g,b=this.x+b+0.5*this.width|0,c=this.y+c+this.height|0,a.globalAlpha=e,!this.He)){this.$b+=Ka*this.direction;this.qc=(this.Ea+(this.Ea+0.001*this.$b*this.S)%this.Ea|0)%this.Ea;e=this.Ii[this.qc];if(this.Gp!=this.qc&&(this.Gp=this.qc,null!=e))try{e()}catch(l){console.log("JMovieClip calls frameFunc, Error!",l)}try{var p=this.fj[this.qc].x,k=this.fj[this.qc].y}catch(m){}if(1!=
d||1!=f||0!=g||this.filters&&this.filters.length){e=!1;if(this.filters&&this.filters.length){e=!0;a.save();for(var q=0,v=this.filters.length;q<v;q++)this.filters[q].apply&&this.filters[q].apply()}0==b&&0==c||a.translate(b,c);0!=g&&a.rotate(g);1==d&&1==f||a.scale(d,f);a.drawImage(h,p,k,this.ca,this.ba,-this.v,-this.w,this.ca,this.ba);e?a.restore():(1==d&&1==f||a.scale(1/d,1/f),0!=g&&a.rotate(-g),0==b&&0==c||a.translate(-b,-c))}else a.drawImage(h,p,k,this.ca,this.ba,b-this.v,c-this.w,this.ca,this.ba)}};
n.Md=function(a){this.He=!1;this.$b=1E3*a*this.Ea/this.S};n.play=function(){this.He=!1};n.stop=function(){this.He=!0};n.xb=function(a,b){return this.visible&&(this.H||this.Ra)?0<=a&&a<=this.width&&0<=b&&b<=this.height?(this.Y=a,this.da=b,!0):!1:!1};
function vc(a,b,c){vc.b.call(this);this.Ii=[];this.$b=0;this.filters=[];a?(this.Ea=b,this.qc=0,this.S=c?c:b,this.u=a,a=a.Ib(),this.ca=a.width/this.Ea,this.ba=a.height,this.width=this.ca,this.height=this.ba,this.v=this.ca/2,this.w=this.ba,this.He=!1,this.Di=null,this.Mg()):this.u=null}vc.extend(U);vc.register("JExMovieClip");var wc=[];n=vc.prototype;
n.Mg=function(){this.images=[];var a=this.u.Nd,b=a.src,c=wc[b];if(c)this.images=c;else{for(var c=this.ca,e=this.ba,d=0;d<this.Ea;d++){var f=document.createElement("canvas");f.width=c;f.height=e;this.images.push(f);var g=f.getContext("2d");f.pc=g;g.drawImage(a,d*c,0,c,e,0,0,c,e)}wc[b]=this.images}};
n.sa=function(a,b){this.ya=b;var c=a.frames,e=a.fps,d=a.regX,f=a.regY,g=a.pic.u;this.Ea=c;this.qc=0;this.S=e?e:c;this.u=g;c=g.Ib();this.ca=c.width/this.Ea;this.ba=c.height;this.width=this.ca;this.height=this.ba;this.v=d;this.w=f;this.He=!1;this.kb=0;this.Mg()};n.ok=function(a,b){this.x=a-this.width/2;this.y=b-this.height};
n.l=function(a,b,c,e,d,f,g){b=this.x+b|0;c=this.y+c|0;d*=this.n;f*=this.o;g=this.rotation+g;a.globalAlpha=this.alpha*e;if(!this.He&&(this.$b+=Ka,this.qc=Math.round(0.001*this.$b*this.S)%this.Ea,e=this.Ii[this.qc],null!=e))try{e()}catch(h){console.log("JExMovieClip calls frameFunc, Error!",h)}this.Di=this.images[this.qc];this.rotation+=0.001*Ka*this.kb;0!=this.kb&&this.rotation>16*Math.PI&&(this.rotation-=16*Math.PI);if(1!=d||1!=f||0!=g||this.filters&&this.filters.length){e=!1;if(this.filters&&this.filters.length){e=
!0;a.save();for(var l=0;l<this.filters.length;l++)this.filters[l].apply&&this.filters[l].apply()}a.translate(b+this.v,c+this.w);1==d&&1==f||a.scale(d,f);0!=g&&a.rotate(g);a.drawImage(this.Di,0,0,this.ca,this.ba,-this.v,-this.w,this.ca,this.ba);e?a.restore():(0!=g&&a.rotate(-g),1==d&&1==f||a.scale(1/d,1/f),a.translate(-b-this.v,-c-this.w))}else a.drawImage(this.Di,0,0,this.ca,this.ba,b,c,this.ca,this.ba)};
n.xb=function(a,b){return this.visible&&(this.H||this.Ra)?0<=a&&a<=this.width&&0<=b&&b<=this.height?(this.Y=a,this.da=b,!0):!1:!1};
function W(a,b,c,e,d){W.b.call(this);this.ya="engine";this.hb=this.gb=0;this.name="JSimpleButton";this.Ca=!0;this.M=a?a:V(W.$o);this.wc=b?b:V(W.Zo);this.fb=c?c:V(W.Yo);e||V(W.Xo);this.icon=null;if(this.Da=d?d:V(this.M))this.width=this.Da.width,this.height=this.Da.height;this.m=this.M;this.p&&(this.p("click",this.td),this.p("mouseDown",this.tf),this.p("mouseUP",this.uf),this.p("mouseMove",this.ye),this.p("rollOver",this.Ae),this.p("rollOut",this.ze),this.p("touchstart",this.Dg),this.p("touchend",this.Ag),
this.p("touchmove",this.Jl),this.p("touchRollOver",this.Cg),this.p("touchRollOut",this.Bg));this.M.Z?(this.width=this.M.width,this.height=this.M.height):(this.width=this.M.offsetWidth,this.height=this.M.offsetHeight);this.A=new Lb;this.A.Xe=!0;this.A.ls=!0;this.A.align=1;this.A.text="";this.A.size=15;this.A.sb=!0;this.A.width=this.width;this.A.height=this.height;this.A.Ks=!0;this.A.rf=!0;this.precision=!1;this.Gg=!0;this.tj=this.Wa=!1;this.nl=this.pl=this.rl=this.ql=0}W.extend(Gb);W.register("JSimpleButton");
n=W.prototype;n.sa=function(a,b){this.ya=b;this.M=a.normal;this.wc=a.hover;this.fb=a.click;this.Da=V(this.M);this.m=this.M;this.m.width=this.width;this.m.height=this.height;this.M.Z||(this.width=this.M.offsetWidth,this.height=this.M.offsetHeight)};n.X=function(a){this.M.Z?(this.width=a,this.A.width=a,this.Da=this.M):this.width=this.M.offsetWidth;this.A.K();this.A.Xe=!0};n.U=function(a){this.M.Z?(this.height=a,this.A.height=a,this.Da=this.M):this.height=this.M.offsetHeight;this.A.K();this.A.Xe=!0};
n.K=function(){this.A.width=this.width;this.A.height=this.height;this.A.K();this.A.Xe=!0};n.Hb=function(a){this.A.text=a;this.A.Xe=!0;this.A.K();this.A.Xe=!0};n.Ub=function(){var a=new W(this.M,this.wc,this.fb,this.Da);a.width=this.width;a.height=this.height;a.A=this.A.Ub();return a};n.Hh=function(a,b){this.pd=!0;ya.style.cursor=z.Bf;Da=this;Ea=a;ba=b;var c=new nb(K,L);c.x-=this.x;c.y-=this.y;Fa=c.x;Ga=c.y;this.xl=a;this.Ok=b};n.Gj=function(){this.pd=!1;ya.style.cursor="";Da=null};
n.l=function(a,b,c,e,d,f,g){this.m&&(b=this.x+b|0,c=this.y+c|0,e=1<this.alpha*e?1:this.alpha*e,d*=this.n,f*=this.o,a.globalAlpha=e,this.kb&&(this.rotation+=0.001*Ka*this.kb,this.rotation>16*Math.PI&&(this.rotation-=16*Math.PI)),g=this.rotation+g,1!=d||1!=f||0!=g?(0==b&&0==c||a.translate(b,c),0!=g&&a.rotate(g),1==d&&1==f||a.scale(d,f),this.m.width!=this.width&&(this.m.width=this.width,P(this.m.canvas),this.m.canvas=null),this.m.height!=this.height&&(this.m.height=this.height,P(this.m.canvas),this.m.canvas=
null),this.m.l(a,0,0,e,1,1,0),this.Gg&&this.A.text.length&&(this.A.width=this.width,this.A.height=this.height,this.A.l(a,this.gb,this.hb,e,1,1,0)),1==d&&1==f||a.scale(1/d,1/f),0!=g&&a.rotate(-g),0==b&&0==c||a.translate(-b,-c)):(this.m.width!=this.width&&(this.m.width=this.width,P(this.m.canvas),this.m.canvas=null),this.m.height!=this.height&&(this.m.height=this.height,P(this.m.canvas),this.m.canvas=null),this.m.l(a,b,c,e,1,1,0),this.Gg&&this.A.text.length&&(this.A.width=this.width,this.A.height=this.height,
this.A.l(a,this.gb+b,this.hb+c,e,1,1,0))))};n.Ae=function(a){a=a.target;a.Ca&&(a.m=a.wc,a.hint&&z.Gf&&z.Gf(a))};n.ze=function(a){a=a.target;a.Ca&&(a.m=a.M,a.gb=0,a.hb=0,a.Wa=!1,a.hint&&z.Ff&&z.Ff(a))};n.Cg=function(a){a=a.target;a.Ca&&(a.m=a.wc,a.hint&&z.Gf&&z.Gf(a))};n.Bg=function(a){a=a.target;a.Ca&&(a.m=a.M,a.hint&&z.Ff&&z.Ff(a))};n.Dg=function(a){a=a.target;a.Ca&&(a.m=a.fb,a.gb=1,a.hb=1,a.hint&&z.Gf&&z.Gf(a))};n.Jl=function(a){a=a.target;a.Ca&&(a.m=a.lb?a.fb:a.wc,a.gb=1,a.hb=1)};
n.Ag=function(a){a=a.target;a.Ca&&(a.gb=0,a.hb=0,a.m=a.M,a.hint&&z.Ff&&z.Ff(a))};W.Eh=null;n=W.prototype;n.td=function(a){a.target.Ca&&(a.target.Wa=!0,W.Eh&&W.Eh(),O&&a.target.tj&&navigator.rt(50))};n.tf=function(a){a.target.Ca&&(a.target.Wa=!0,ya.style.cursor=z.Bf,a.target.m=a.target.fb,a.target.gb=1,a.target.hb=1)};n.km=function(a){a.target.Ca&&(a.target.m=a.target.lb?a.target.fb:a.target.wc)};n.uf=function(a){a.target.Ca&&(a.target.gb=0,a.target.hb=0,a.target.m=a.target.wc,a.target.Wa=!1)};
n.ye=function(a){a.target.Ca&&(a.target.Wa||(a.target.m=a.target.lb?a.target.fb:a.target.wc),a.target.hint&&z.un&&z.un(a.target))};n.xb=function(a,b){if(!this.Ca||!this.visible||!this.H&&!this.Ra)return!1;var c=this.rl?this.rl:0,e=this.pl?this.pl:this.width,d=this.nl?this.nl:this.height;return(this.ql?this.ql:0)<=a&&a<=e&&c<=b&&b<=d?this.precision?(this.Da.width=this.width,this.Da.height=this.height,this.wi=jc(this.Da,a,b),this.wi[3]):!0:!1};
function xc(a,b,c,e,d){xc.b.call(this,a,b,c,e,d);this.Wa=!1;this.Gg=!0}xc.extend(W);xc.register("JToggleButton");n=xc.prototype;n.Ub=function(){};n.X=function(a){this.M.Z?(this.width=a,this.A.width=a,this.Da=this.M):this.width=this.M.u.width;this.A.K()};n.U=function(a){this.M.Z?(this.height=a,this.A.height=a,this.Da=this.M):this.height=this.M.u.height;this.A.K()};
n.sa=function(a,b){this.ya=b;this.M=a.normal;this.fb=a.click;this.wc=a.hover;this.Da=V(this.M);this.m=this.M;this.m.width=this.width;this.m.height=this.height;this.M.Z||(this.width=this.M.u.width,this.height=this.M.u.height)};n.Ae=function(a){a=a.target;ya.style.cursor=z.Bf;a.m=a.Wa?a.fb:a.wc};n.ze=function(a){a=a.target;ya.style.cursor="";a.Wa?a.m=a.fb:(a.m=a.M,a.gb=0,a.hb=0)};n.Cg=function(a){a=a.target;ya.style.cursor=z.Bf;a.m=a.Wa?a.fb:a.wc};
n.Bg=function(a){a=a.target;ya.style.cursor="";a.Wa?a.m=a.fb:(a.m=a.M,a.gb=0,a.hb=0)};n.td=function(a){a=a.target;a.Wa=!a.Wa;W.Eh&&W.Eh();a.Wa?(a.m=a.fb,a.gb=1,a.hb=1):(a.m=a.M,a.gb=0,a.hb=0)};n.Dg=function(a){var b=a.target;b.Ca&&(b.m=b.Wa?b.M:a.target.fb,b.gb=1,b.hb=1)};n.Jl=function(a){a=a.target;a.m=a.lb?a.Wa?a.M:a.fb:a.wc};n.Ag=function(a){a=a.target;ya.style.cursor="";a.Ca&&(a.Wa?a.m=a.fb:(a.m=a.M,a.gb=0,a.hb=0))};n.tf=function(a){var b=a.target;b.m=b.Wa?b.M:b.fb;a.target.gb=1;a.target.hb=1};
n.uf=function(a){a=a.target;a.Wa?(a.gb=0,a.hb=0):(a.gb=1,a.hb=1)};n.ye=function(){};
function yc(a,b,c,e,d,f,g){yc.b.call(this);this.ya="";this.Ca=!0;this.kc=a?a:V(zc);this.Wd=b?b:V(Ac);this.Gc=c?c:V(Bc);this.Rl=e?e:V(Cc);this.xj=d?d:V(Dc);this.Gc=c?c:V(Bc);this.selected=f?f:V(Ec);if(this.Da=g?g:a)this.width=this.Da.width,this.height=this.Da.height;this.m=this.kc;this.ea=new Lb;this.ea.la="#FF0";this.ea.sb=!0;this.ea.size=14;this.ea.text="CheckBox";this.ea.height=18;this.width=this.kc.width;this.height=this.kc.height;this.Ia=!1;M||this.p("click",this.td);this.p("mouseDown",this.tf);
this.p("mouseUP",this.uf);this.p("mouseMove",this.ye);this.p("rollOver",this.Ae);this.p("rollOut",this.ze);this.p("touchstart",this.Dg);this.p("touchend",this.Ag);this.p("touchmove",this.ye);this.p("touchRollOver",this.Cg);this.p("touchRollOut",this.Bg)}yc.extend(Gb);yc.register("JCheckBox");n=yc.prototype;n.Dg=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd};n.Ag=function(a){a.target.Ia=!a.target.Ia;a.target.m=a.target.Ia?a.target.selected:a.target.kc};
n.Ae=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd;ya.style.cursor=z.Bf};n.ze=function(a){a.target.m=a.target.Ia?a.target.selected:a.target.kc;ya.style.cursor=""};n.Cg=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd};n.Bg=function(a){a.target.m=a.target.Ia?a.target.selected:a.target.kc};n.td=function(){this.Ia=!this.Ia};n.tf=function(a){a.target.m=a.target.Ia?a.target.Rl:a.target.xj};n.uf=function(a){a.target.m=a.target.Ia?a.target.Wd:a.target.Gc};n.ye=function(){};
n.X=function(a){this.width=a;this.ea.K()};n.U=function(a){this.height=a;this.ea.K()};n.K=function(){this.ea.K()};n.Hb=function(a){this.ea.text=a;this.ea.K()};
n.l=function(a,b,c,e,d,f,g){this.m&&(b=this.x+b|0,c=this.y+c|0,e*=this.alpha,d*=this.n,f*=this.o,g=this.rotation+g,a.globalAlpha=e,0!=g||1!=d||1!=f?(0==b&&0==c||a.translate(b,c),0!=g&&a.rotate(g),1==d&&1==f||a.scale(d,f),this.m.l(a,0,0.5*(this.height-this.m.height),e,1,1,0),this.ea.width=this.width,this.ea.height=this.height,this.ea.l(a,this.m.width+2,0,e,1,1,0),1==d&&1==f||a.scale(1/d,1/f),0!=g&&a.rotate(-g),0==b&&0==c||a.translate(-b,-c)):(this.m.l(a,b,c+0.5*(this.height-this.m.height),e,1,1,0),
this.ea.width=this.width,this.ea.height=this.height,this.ea.l(a,b+this.m.width+2,c,e,1,1,0)))};var zc=null,Cc=null,Dc=null,Ac=null,Bc=null,Ec=null;
function Fc(a,b,c,e,d,f,g){Fc.b.call(this);this.ya="";this.Ca=!0;this.kc=a?a:V(Gc);this.Wd=b?b:V(Hc);this.Gc=c?c:V(Ic);this.Rl=e?e:V(Jc);this.xj=d?d:V(Kc);this.Gc=c?c:V(Ic);this.selected=f?f:V(Lc);if(this.Da=g?g:a)this.width=this.Da.width,this.height=this.Da.height;this.m=this.kc;this.ea=new Lb;this.ea.la="#FF0";this.ea.sb=!0;this.ea.size=14;this.ea.text="RadioBox";this.width=this.kc.width;this.height=this.kc.height;this.Ia=!1;this.p("click",this.td)}Fc.extend(W);Fc.register("JRadioButton");n=Fc.prototype;
n.Dg=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd};n.Ag=function(a){a.target.m=a.target.Ia?a.target.selected:a.target.kc};n.Ae=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd;ya.style.cursor=z.Bf};n.ze=function(a){a.target.m=a.target.Ia?a.target.selected:a.target.kc;ya.style.cursor=""};n.Cg=function(a){a.target.m=a.target.Ia?a.target.Gc:a.target.Wd};n.Bg=function(a){a.target.m=a.target.Ia?a.target.selected:a.target.kc};n.td=function(a){a=a.target;a.Ia=!0;a.m=a.selected};
n.tf=function(a){a.target.m=a.target.xj};n.uf=function(a){a.target.m=a.target.Gc};n.ye=function(){};n.X=function(a){this.width=a;this.ea.K()};n.U=function(a){this.height=a;this.ea.K()};n.K=function(){this.ea.K()};n.Hb=function(a){this.ea.A=a;this.ea.K()};n.l=yc.prototype.l;var Gc=null,Jc=null,Kc=null,Hc=null,Ic=null,Lc=null;
function Y(a){Y.b.call(this);this.precision=!1;a?(this.ya="engine",this.c=Z($.k(),"engine.window.bg")):(this.ya="engine",this.c=V(Y.Fo));this.j(this.c);this.height=this.width=400}Y.Er=0;Y.Gr=1;Y.Hr=2;Y.Fr=3;Y.extend(U);Y.register("JContainer");n=Y.prototype;n.Ub=function(){var a=new Y;a.width=this.width;a.height=this.height;return a};n.X=function(a){this.width=this.c.Z||this.c.xc?a:this.c.u.width};n.U=function(a){this.height=this.c.Z||this.c.xc?a:this.c.u.height};n.K=function(){};
function Mc(a,b){var c=[];c.background=b;a.sa(c,"SetBackground")}
n.sa=function(a,b){this.ya=b;var c=a.background;c||console.log("Error "+b);this.c.u=c.u;this.c.xc=c.xc;this.c.Z=c.Z;this.c.Db=c.Db;this.c.Bb=c.Bb;this.c.Ab=c.Ab;this.c.Cb=c.Cb;this.c.offsetX=c.offsetX;this.c.offsetY=c.offsetY;this.c.offsetWidth=c.offsetWidth;this.c.offsetHeight=c.offsetHeight;c.offsetWidth||(this.c.offsetWidth=c.u.width,this.c.offsetHeight=c.u.height);P(this.c.canvas);this.c.canvas=null;this.c.Z||this.c.xc||(this.width=this.c.offsetWidth,this.height=this.c.offsetHeight)};
n.l=function(a,b,c,e,d,f,g){this.c.width!==this.width&&(this.c.width=this.width,P(this.c.canvas),this.c.canvas=null);this.c.height!==this.height&&(this.c.height=this.height,P(this.c.canvas),this.c.canvas=null);Y.b.prototype.l.call(this,a,b,c,e,d,f,g)};n.xb=function(a,b){return this.visible&&(this.Ra||this.H)?0<=a&&a<=this.width&&0<=b&&b<=this.height?this.precision?(this.wi=jc(this.c,a,b),this.wi[3]):!0:!1:!1};
function Nc(){Nc.b.call(this);var a=this;a.ya="";a.Xd=new W(Oc,Pc,Qc);a.j(a.Xd);a.Ke=V(Rc);a.Ke.width=100;a.Ke.height=20;a.j(a.Ke);a.$=new Lb;a.j(a.$);a.$.la="#FFF";a.$.sb=!0;a.$.size=14;a.$.text="";a.$.x=5;a.$.y=0;a.$.width=100;a.$.height=20;a.cc=V(Rc);a.cc.width=116;a.cc.height=80;a.j(a.cc);a.cc.y=20;a.cc.visible=!1;a.width=a.$.width+a.Xd.width+1;a.height=a.$.height;a.Xd.x=a.$.width+1;a.Xd.y=1;a.items=[];a.dg=!1;a.uj=function(){a.parent.j(a);a.dg=!a.dg;a.cc.visible=a.dg;for(var b=0;b<a.items.length;b++)a.items[b].visible=
a.cc.visible;a.dg&&(a.cc.height=20*a.items.length+2);ca=a};a.Yp=function(){a.dg=!1;a.cc.visible=!1;for(var b=0;b<a.items.length;b++)a.items[b].visible=!1};a.$.p&&a.$.p("click",a.uj);a.Xd.p&&a.Xd.p("click",a.uj);a.$.p&&a.$.p("rollOver",function(){a.$.la="#FC0";a.$.K()});a.$.p&&a.$.p("rollOut",function(){a.$.la="#FFF";a.$.K()});a.$.p("mouseWheel",function(b){0<b.Ga?0<a.selectedIndex&&(a.selectedIndex--,a.$.text=a.items[a.selectedIndex].text,a.$.la="#0F0",a.$.K(),b=new S(S.dk),b.target=a,a.dispatchEvent(b),
ca=null):a.selectedIndex<a.items.length-1&&(a.selectedIndex++,a.$.text=a.items[a.selectedIndex].text,a.$.la="#0F0",a.$.K(),b=new S(S.dk),b.target=a,a.dispatchEvent(b),ca=null)});a.selectedIndex=0}var Oc,Pc,Qc,Rc;Nc.extend(U);Nc.register("JComboBox");n=Nc.prototype;
n.X=function(a){this.cc.width!=a&&(P(this.cc.canvas),this.cc.canvas=null,this.cc.width=a);this.Xd.x=a-this.Xd.width+1;this.Ke.width!=a-16&&(P(this.Ke.canvas),this.Ke.canvas=null,this.Ke.width=a-16);for(var b in this.items)this.items[b].width=a-4;this.width=a;this.$.width=a-16;this.$.K()};n.U=function(){this.$.K()};n.K=function(){this.$.K()};n.Ae=function(){};n.ze=function(){};n.td=function(){};n.tf=function(){};n.uf=function(){};n.ye=function(){};
function Sc(){function a(){var a=new mb(0,0,e.width,0);e.ma.Hh(!1,a)}function b(){e.ma.Gj()}function c(){var a=e.ma;e.va.text=""+Math.floor(100*a.x/(e.width-a.width))+"%";e.va.K();var b=e.sd;e.sd=e.vh+a.x/(e.width-a.width)*(e.Bl-e.vh);e.qd.width=e.ma.x+0.5*e.ma.width;0!=b-e.sd&&e.Xc("progress")&&(a=new ob("progress"),a.data=e.sd,a.target=e,e.dispatchEvent(a))}Sc.b.call(this);var e=this;e.ya="";e.Os=Tc;e.vh=0;e.Bl=100;e.Ps=0;e.sd=0;e.og=new U;e.og.H=!1;e.og.Xa=!1;var d=new U;e.qd=d;e.og.La=d;e.c=Z($.k(),
"engine.progressbar.bg");e.j(e.c);e.qd.width=e.c.width;e.qd.height=e.c.height;e.j(e.og);e.ua=Z($.k(),"engine.progressbar.fg");e.og.j(e.ua);e.va=new Lb;e.va.width=100;e.va.align=1;e.va.text="0%";e.va.size=14;e.va.la="#FC0";e.va.H=!1;e.va.Xa=!1;e.va.U(25);e.va.yb=25;e.j(e.va);e.lf=new U;e.lf.width=e.c.width;e.lf.height=e.c.height;e.j(e.lf);e.ma=Uc("engine.button");e.ma.width=20;e.ma.height=20;e.j(e.ma);e.ma.alpha=1;e.lf.p("click",function(a){a=a.Y-e.ma.width/2;0>a?a=0:a>e.width-e.ma.width&&(a=e.width-
e.ma.width);Vc(e.ma,0.2,{x:a,ac:Wc,Qb:function(){var a=e.ma,a=Math.floor(100*a.x/(e.width-a.width));e.va.text=""+a+"%";e.va.K();var b=e.sd;e.sd=e.vh+(e.Bl-e.vh)*a*0.01;e.qd.width=e.c.width*a*0.01;0!=b-e.sd&&e.Xc("progress")&&(a=new ob("progress"),a.data=e.sd,a.target=e,e.dispatchEvent(a))}})});e.ma.p("mouseDown",a);e.ma.p("mouseUP",b);e.ma.p("mouseMove",c);e.ma.p("touchstart",a);e.ma.p("touchend",b);e.ma.p("touchmove",c);e.rk(200,20)}var Tc="right";Sc.extend(U);Sc.register("JProgressBar");n=Sc.prototype;
n.Ub=function(){};n.X=function(a){30>a&&(a=30);P(this.c.canvas);this.c.canvas=null;this.c.width=a;this.ma.x=0;this.va.text="0%";this.width=a;this.va.x=(a-100)/2;this.lf.width=this.c.width;this.qd.width=this.c.width;this.ua.Z&&this.ua.X(a)};n.U=function(a){P(this.c.canvas);this.c.canvas=null;this.c.height=a;this.ma.height=a;this.va.text="0%";this.ma.x=0;this.height=a;this.va.y=0.5*(a-this.va.height);this.lf.height=this.c.height;this.ua.height=a;this.qd.height=a;this.ua.Z&&this.ua.U(a)};
n.rk=function(a,b){30>a&&(a=30);P(this.c.canvas);this.c.canvas=null;this.c.width=a;this.c.height=b;this.ma.height=b;this.ma.x=0;this.va.text="0%";this.width=a;this.height=b;this.ua.height=b;this.qd.height=b;this.va.x=(a-100)/2;this.va.y=0.5*(b-this.va.height);this.ua.Z&&(this.ua.X(a),this.ua.U(b))};n.Qe=function(){this.sd=0;this.ma.x=0;this.va.Hb("0%")};
n.sa=function(a,b){this.ya=b;var c=a.bg;this.c.u=c.u;this.c.Z=c.Z;this.c.Db=c.Db;this.c.Bb=c.Bb;this.c.Ab=c.Ab;this.c.Cb=c.Cb;this.c.offsetX=c.offsetX;this.c.offsetY=c.offsetY;this.c.offsetWidth=c.offsetWidth;this.c.offsetHeight=c.offsetHeight;c.offsetWidth||(this.c.offsetWidth=c.u.width,this.c.offsetHeight=c.u.height);P(this.c.canvas);this.c.canvas=null;this.qd.width=this.c.width;this.qd.height=this.c.height;var e=a.fg;this.ua.u=e.u;this.ua.Z=e.Z;this.ua.Db=e.Db;this.ua.Bb=e.Bb;this.ua.Ab=e.Ab;this.ua.Cb=
e.Cb;this.ua.offsetX=e.offsetX;this.ua.offsetY=e.offsetY;this.ua.offsetWidth=e.offsetWidth;this.ua.offsetHeight=e.offsetHeight;c.offsetWidth||(this.ua.offsetWidth=e.u.width,this.ua.offsetHeight=e.u.height);P(this.ua.canvas);this.ua.canvas=null};
function Xc(){Xc.b.call(this,!0);this.Kp=[];this.rh=this.sh=null;this.yh=-1;this.ya="engine";this.precision=!1;this.tg=!0;this.Dl=null;this.Pj=4;this.Oj=0;this.Nj=1;this.yi=this.xi=0;this.Wk=null;this.cm=[];this.dm=[];this.Al="";this.th=this.ij=!1;this.oj=0;this.ha()}Xc.extend(Y);Xc.register("JWindow");n=Xc.prototype;n.ek=function(){this.parent&&(this.x=(this.parent.width-this.width)/2,this.y=(this.parent.height-this.height)/2)};
n.ha=function(){function a(){for(var a=b.cm.length,e=0;e<a;e++)(0,b.cm[e])()}var b=this;b.addEventListener(qb,function(){b.tg&&!b.Ap&&(da=b,b.parent.j(b),da=b,b.yh=-1,b.Wk?(a(),b.Hh(!1,b.Wk)):(a(),b.Hh(!1)))});b.addEventListener(rb,function(a){if(b.tg){a=a.target;for(var e=b.dm.length,d=0;d<e;d++)(0,b.dm[d])();a.Gj();a.Dl&&a.Dl()}});b.R=Z($.k(),"engine.window.title.bg");b.j(b.R);b.R.ya="engine.window.title";b.R.H=!1;b.J=new Lb;b.j(b.J);b.J.H=!1;b.J.Xa=!1;b.J.text="\u6807\u9898";b.J.size=50;b.J.width=
120;b.J.height=50;b.J.la="#FFFF00";b.J.Kc=!1;b.J.sb=!0;b.J.align=0;b.zb=Uc("engine.closebutton");b.j(b.zb);b.zb.ya="engine.window.close";b.zb.precision=!1;b.width=400;b.height=400};n.X=function(a){this.c.Z?this.width=a:(this.width=this.c.u.width,this.height=this.c.u.height);this.J.K()};n.U=function(a){this.c.Z?this.height=a:(this.width=this.c.u.width,this.height=this.c.u.height)};
n.sa=function(a,b){this.ya=b;var c=a.bg;this.c.u=c.u;this.c.Z=c.Z;this.c.Db=c.Db;this.c.Bb=c.Bb;this.c.Ab=c.Ab;this.c.Cb=c.Cb;this.c.Eb=c.Eb;this.c.offsetX=c.offsetX;this.c.offsetY=c.offsetY;this.c.offsetWidth=c.offsetWidth;this.c.offsetHeight=c.offsetHeight;c.offsetWidth||(this.c.offsetWidth=c.u.width,this.c.offsetHeight=c.u.height);P(this.c.canvas);this.c.canvas=null;c=a["title.bg"];this.R.u=c.u;this.R.Z=c.Z;this.R.Db=c.Db;this.R.Bb=c.Bb;this.R.Ab=c.Ab;this.R.Cb=c.Cb;this.R.Eb=c.Eb;this.R.offsetX=
c.offsetX;this.R.offsetY=c.offsetY;this.R.offsetWidth=c.offsetWidth;this.R.offsetHeight=c.offsetHeight;c.offsetWidth||(this.R.offsetWidth=c.u.width,this.R.offsetHeight=c.u.height);P(this.R.canvas);this.R.canvas=null};n.Ub=function(){var a=new Xc;a.J.text=this.J.text;return a};n.K=function(){this.J.K()};
n.l=function(a,b,c,e,d,f,g){this.ij?this.th||this.Wh():(this.zb&&this.zb.visible&&(this.zb.x=this.width-this.zb.width-this.xi,this.zb.y=this.yi),this.J&&this.J.visible&&(this.J.align=this.Nj,this.J.x=10+this.Oj,this.J.y=5+this.Pj,this.J.width=this.width-25),this.R&&this.R.visible&&(this.R.Z||this.R.xc?(this.R.width!=this.width&&(this.R.width=this.width,P(this.R.canvas),this.R.canvas=null),this.R.x=0):this.R.x=0.5*(this.width-this.R.offsetWidth),this.R.height=this.zb.height+4),Xc.b.prototype.l.call(this,
a,b,c,e,d,f,g))};n.Wh=function(a){var b=this;!b.ij||b.th?a&&a(b):(b.th=!0,Yc.k().Wh(b,function(){b.ij=!1;b.th=!1;a&&a(b)}))};
function Zc(){Zc.b.call(this);if(!Za){this.Tb=new U;var a=new U;a.width=4096;a.height=4096;a.x=-2048;a.y=-2048;this.Tb.j(a);this.Zi=V($c);this.jj=V(ad);this.Yc=V(bd);this.mf=V(cd);this.xh=V(dd);this.Tb.j(this.Zi);this.Tb.width=this.Zi.width;this.Tb.height=this.Zi.height;this.Tb.j(this.jj);this.jj.x=28;this.jj.y=49;this.Tb.j(this.Yc);this.Yc.x=28;this.Yc.y=49;this.Yc.width=20;this.Yc.yg=!1;this.Tb.j(this.mf);this.mf.x=this.Yc.x+this.Yc.width;this.mf.y=49;this.Tb.j(this.xh);this.xh.x=this.mf.x-10;this.xh.y=
39;this.Tb.x=0.5*(C-this.Tb.width)|0;this.Tb.y=40+0.425*(D-this.Tb.height)|0;this.ic=new Lb;this.ic.rf=!1;this.Tb.j(this.ic);this.ic.x=132;this.ic.y=20;this.ic.width=128;this.ic.height=22;this.ic.sb=!0;this.ic.la="#F80";this.ic.ib=22;this.ic.size=18;this.ic.align=0;this.ic.text="Loading......";this.ic.K();ed(this,1,1)}}var $c,ad,bd,cd,dd;Zc.extend(R);Zc.register("JLoading");var fd=0;
Zc.prototype.dd=function(a){if(!Za){var b=this.Tb;a?fd++:fd--;0<fd?(G.j(b),b.x=0.5*(C-b.width)|0,b.y=0.5*(D-b.height)|0,b.alpha=1):Db(b)}};function ed(a,b,c){Za||(c++,c>b&&(c=b),a.Yc.width=c/b*300|0,a.mf.x=a.Yc.x+a.Yc.width,a.xh.x=a.mf.x-11)}function gd(){gd.b.call(this);this.ec=this.El=this.Ip=this.Dp=null;this.ug=200;this.Mp=this.Fp=0;this.Ep=100}gd.extend(U);gd.register("JMovieEffect");gd.prototype.sa=function(){};
gd.prototype.Jf=function(){this.El&&this.El.call(this);var a=this.ec;if(a){var b=this.Dp,c=this.Ip;a.globalCompositeOperation="source-over";a.drawImage(b.Nd,b.offsetX,b.offsetY,b.offsetWidth,b.offsetHeight,0,0,b.offsetWidth,b.offsetHeight);a.globalCompositeOperation="source-in";a.drawImage(c.Nd,c.offsetX,c.offsetY,c.offsetWidth,c.offsetHeight,-0.5*(c.width-b.width)|0,this.ug,c.offsetWidth,c.offsetHeight);this.ug+=this.Fp;this.ug<=this.Mp&&(this.ug=this.Ep)}};
gd.prototype.l=function(a,b,c,e){this.Jf();gd.b.prototype.l.call(this,a,b,c,e,1,1,0)};function hd(){hd.b.call(U);this.ec=this.aj=null;this.Yi=0}hd.extend(U);hd.register("JGlowEffect");hd.nn++;
hd.prototype.Jf=function(){var a=this.ec;if(a){var b=this.aj;a.globalCompositeOperation="source-over";a.drawImage(b.Nd,b.offsetX,b.offsetY,b.offsetWidth,b.offsetHeight,0,0,b.offsetWidth,b.offsetHeight);a.globalCompositeOperation="source-in";this.Yi+=0.05;a.globalAlpha=Math.abs(0.5*Math.sin(this.Yi));a.fillStyle="#FFF";a.fillRect(0,0,b.offsetWidth,b.offsetHeight)}};hd.prototype.l=function(a,b,c,e){this.Jf();gd.b.prototype.l.call(this,a,b,c,e,1,1,0)};
function id(){id.b.call(this);this.ec=this.aj=null;this.qg=0}id.extend(U);id.register("JProgressEffect");id.nn++;
id.prototype.Jf=function(){var a=this.ec;if(a){var b=this.aj;a.globalCompositeOperation="source-over";a.drawImage(b.Nd,b.offsetX,b.offsetY,b.offsetWidth,b.offsetHeight,0,0,b.offsetWidth,b.offsetHeight);a.globalCompositeOperation="source-in";a.globalAlpha=0.5;a.fillStyle="#FFF";a.beginPath();this.qg+=0.05;this.qg=1E4*this.qg%62830*1E-4;var c=0.5*b.offsetWidth,b=0.5*b.offsetHeight,e=this.Qs,d=this.qg;a.save();a.translate(c,b);a.beginPath();a.arc(0,0,e,0,d);a.save();a.rotate(d);a.moveTo(e,0);a.lineTo(0,
0);a.restore();a.rotate(0);a.lineTo(e,0);a.closePath();a.restore();a.closePath();a.fill()}};id.prototype.l=function(a,b,c,e){this.Jf();gd.b.prototype.l.call(this,a,b,c,e,1,1,0)};Y.yr=function(a,b){return a.x-b.x};Y.as=function(a,b){return a.y-b.y};function jd(){jd.b.call(this);this.type=-1;this.c=null;this.fixed=!1}jd.extend(U);jd.register("JSpacer");jd.En=0;jd.Fn=1;jd.prototype.X=function(a){this.width=a};jd.prototype.U=function(a){this.height=a};
function kd(){kd.b.call(this);this.type=jd.En;this.c=Z($.k(),"engine.hspacer");this.width=this.c.width;this.height=this.c.height;this.j(this.c)}kd.extend(jd);kd.register("JHSpacer");kd.prototype.X=function(a){0>=a&&(a=1);this.width=a};kd.prototype.U=function(){this.height=32};
kd.prototype.l=function(a,b,c,e,d,f,g){this.Ra&&(this.c.width!==this.width&&(this.c.width=this.width,this.c.canvas=null),this.c.height!==this.height&&(this.c.height=this.height,this.c.canvas=null),kd.b.prototype.l.call(this,a,b,c,e,d,f,g))};kd.prototype.xb=function(a,b){return this.Ra?kd.b.prototype.xb.call(this,a,b):!1};function ld(){ld.b.call(this);this.type=jd.Fn;this.c=Z($.k(),"engine.vspacer");this.width=this.c.width;this.height=this.c.height;this.j(this.c)}ld.extend(jd);ld.register("JVSpacer");
ld.prototype.X=function(){this.width=32};ld.prototype.U=function(a){0>=a&&(a=1);this.height=a};ld.prototype.l=function(a,b,c,e,d,f,g){this.Ra&&(this.c.width!==this.width&&(this.c.width=this.width,this.c.canvas=null),this.c.height!==this.height&&(this.c.height=this.height,this.c.canvas=null),ld.b.prototype.l.call(this,a,b,c,e,d,f,g))};ld.prototype.xb=function(a,b){return this.Ra?ld.b.prototype.xb.call(this,a,b):!1};
function md(){md.b.call(this);this.fa=null;this.dj=[];this.kj=[];this.ej=-1;this.$b=0;this.direction=1;this.Ea=this.S=60;this.height=this.width=256}md.extend(U);md.register("JAnimation");n=md.prototype;
n.ha=function(a){this.fa=a;var b=a[0];this.gc=b[0];this.S=b[1];for(var b=null,c=1,e=a.length;c<e;c++){var d=a[c],f=d[0],g=f[2],h=null;switch(f[1]){case 0:case "JBitmap":var l=$.k(),h=nd("JBitmap",g);(l=l.rd[h])?h=l.Ub():(console.log(h,"not exist"),h=new ic);h.ya=g;break;case 1:case "JMovieClip":h=new rc,(l=od($.k(),"JMovieClip",g))&&h.sa(l,g)}if(h)switch(h.Nn=d[1],this.dj.push(h),f[0]){case 0:this.j(h);b=null;break;case 1:d=new pd;this.kj.push(d);this.j(d);b=d;g=h;d.Sd=g;f=document.createElement("canvas");
d.Ja=f;f.style.display="none";f.width=g.width;f.height=g.height;g=f.getContext("2d");g.Aa=g.drawImage;d.ec=g;f=new bc(f,!0);d.$i=new ic(f);d.Ce();d.j(d.$i);f=document.createElement("canvas");d.yl=f;f.style.display="none";f.width=d.Ja.width;f.height=d.Ja.height;g=f.getContext("2d");g.Aa=g.drawImage;d.cj=g;break;case 2:b.qh.push(h)}}qd(this)};n.l=function(a,b,c,e,d,f,g){qd(this);md.b.prototype.l.call(this,a,b,c,e,d,f,g)};n.Md=function(a){1>a&&(a=1);a>this.Ea&&(a=this.Ea);this.$b=1E3*a/this.S};
n.play=function(){};n.stop=function(){};
function qd(a){a.$b+=Ka*a.direction;var b=(a.Ea+(a.Ea+0.001*a.$b*a.S)%a.Ea|0)%a.Ea;if(a.ej!==b){a.ej=b;for(var b=0,c=a.kj.length;b<c;b++)a.kj[b].qj=!0;b=0;for(c=a.dj.length;b<c;b++){for(var e=a.dj[b],d=a.ej,f=e.Nn,g=null,h=null,l=0,p=f.length;l<p;l++){var k=f[l];if(k[0]<=d)g=k;else{h=k;break}}if(g&&h)d=(d-g[0])/(h[0]-g[0]),f=1,e.x=rd(d,g[f],h[f]-g[f++],1)|0,e.y=rd(d,g[f],h[f]-g[f++],1)|0,e.X(rd(d,g[f],h[f]-g[f++],1)|0),e.U(rd(d,g[f],h[f]-g[f++],1)|0),e.n=rd(d,g[f],h[f]-g[f++],1),e.o=rd(d,g[f],h[f]-
g[f++],1),e.alpha=rd(d,g[f],h[f]-g[f++],1),e.rotation=rd(d,g[f],h[f]-g[f++],1);else if(d=g?g:h?h:null)e.x=d[1],e.y=d[2],e.X(d[3]),e.U(d[4]),e.n=d[5],e.o=d[6],e.alpha=d[7],e.rotation=d[8]}}}function sd(){sd.b.call(this)}sd.extend(R);sd.register("JAnimationManager");var td=[];sd.prototype.Cf=function(a){var b=new md;(a=td[a])&&b.ha(a);return b};sd.prototype.Pe=function(a,b){td[a]||console.log(["\u52a8\u753b\u7c7b\u578b",a,"\u91cd\u590d\u6ce8\u518c"].join(""));td[a]=b};
td.example=[[100,30],[[1,1,"engine.loading"],[[1,100,100,256,64,1,1,1,0],[60,200,100,256,64,1,1,1,0]]],[[2,0,"engine.super"],[[1,0,0,600,425,1,1,1,0]]],[[0,0,"engine.he"],[[1,100,100,145,212,1,1,1,0],[60,100,100,145,212,2,2,1,0]]]];
function ud(){ud.b.call(this);var a=this;a.fc="";a.fa=[];a.zl=[];a.height=20;a.width=30;a.ra=20;a.nj=0;a.gc=0;a.pb=0;a.qb=!0;a.wh=1;a.se=-1;a.mg=[];a.addEventListener("click",function(){a.Kg()});a.addEventListener(qb,function(b){a.Ra||vd(b)});a.addEventListener(rb,function(b){a.Ra||vd(b)});a.Ja=null;a.oh=!1;a.ue=!1}ud.extend(Gb);ud.register("JComplexTextArea");n=ud.prototype;n.K=function(){this.ue=!0};n.Kg=function(){var a=this.mg[this.se];a&&a(this.zl[this.se].Ua,a.qt)};
n.Hb=function(a){this.fa.length=0;this.fc=a;this.ue=!0;this.mg=[];this.Hf(a)};n.X=function(a){this.width=a;""!=this.fc&&this.Hb(this.fc)};n.U=function(a){this.height=a};n.qk=function(a){this.ra=a;""!=this.fc&&this.Hb(this.fc)};n.ik=function(){var a=za;a.save();for(var b=0,c=0,e=this.fa.length;c<e;c++){var d=this.fa[c];a.font="bold "+d.size+"px "+wa;a.fillStyle=d.color;b+=a.measureText(d.Ua).width}a.restore();return b};
n.Hf=function(a){a=a.split("@");this.fa.length=0;0<a.length&&a.shift();for(var b=0,c=a.length/4|0;b<c;b++){var e={},d=parseInt(a[4*b+0]);e.size=(d&255)>>0;e.me=0<(d&1024);e.bold=0<(d&2048);e.xf=0<(d&512);e.strike=0<(d&256);e.color=a[4*b+1];0===e.color.length&&(e.color="#FFF");e.bgColor=a[4*b+2];0===e.bgColor.length&&(e.bgColor="#000");e.Ua=a[4*b+3];e.x=0;e.y=this.height*b;this.fa.push(e);e.id=b;e.bf=0;e.Nb=0}this.zl=this.fa;this.Rh()};
n.Rh=function(){var a=za;a.save();for(var b="",c=0,e="",d=0,f=0,g=0,h=[],l=this.fa.length,p=0;p<l;p++){var k=this.fa[p];a.font=[k.bold?"bold ":"",k.me?"italic ":"",k.size,"px ",wa].join("");a.fillStyle=k.color;var b=k.Ua,m=Math.floor((this.width-d)/k.size),c=b.length;if("br"==b)f=d=0,e="",g++;else for(var q=0;q<c;q++){var m=Math.floor((this.width-d)/k.size),v=b.substr(q,m),q=q+m,d=d+a.measureText(v).width,e=e+v,m=a.measureText(b.charAt(q)).width;d+m>this.width?(m={},m.id=k.id,m.Ua=e,m.size=k.size,
m.height=k.size,m.bold=k.bold,m.me=k.me,m.xf=k.xf,m.strike=k.strike,m.color=k.color,m.bgColor=k.bgColor,m.x=f,m.y=this.ra*g,m.width=a.measureText(e).width,m.bf=0,m.Nb=0,h.push(m),d=f=0,e="",g++,q--):(e+=b.charAt(q),d+=m);if(q>=c-1){m={};m.id=k.id;m.Ua=e;m.size=k.size;m.height=k.height;m.bold=k.bold;m.me=k.me;m.xf=k.xf;m.strike=k.strike;m.color=k.color;m.bgColor=k.bgColor;m.x=f;m.y=this.ra*g;m.width=a.measureText(e).width;m.bf=0;m.Nb=0;h.push(m);f=d;e="";break}}}this.fa=h;q=this.gc=0;for(b=h.length;q<
b;q++)c=h[q],c.length=c.Ua.length,this.gc+=c.Ua.length;this.pb=0;this.qb||(this.pb=this.gc);a.restore()};n.xb=function(a,b){if(!this.visible||!this.H&&!this.Ra)return!1;if(0<=a&&a<=this.width&&0<=b&&b<=this.height){var c;a:{c=this.fa;for(var e=0,d=c.length;e<d;e++){var f=c[e];if(f.x<=a&&a<=f.x+f.width&&f.y<=b&&b<=f.y+this.ra){this.se=f.id;c=!0;break a}}this.se=-1;c=!1}return c}this.se=-1;return!1};var wd=0;
ud.prototype.pk=function(a){(this.qb=a)?(this.pb=0,this.oh=!1,this.ue=!0,this.Hf(this.fc)):(this.pb=this.gc,this.ue=this.oh=!0);var b=this.width+2*xd,c=this.height+this.ra;if(a){a=null;this.Ja?(a=this.Ja,a.width=b,a.height=c):a=eb("JComplexTextArea"+wd++,b,c);var e=a.getContext("2d");e.clearRect(0,0,b,c);e.textBaseline="middle";e.textAlign="left";a.je=e;this.Ja=a}};
ud.prototype.l=function(a,b,c,e){if(this.qb){var d=this.Ja.je,f=xd,g=xd;if(this.qb&&this.pb>=this.gc)this.oh=!0,this.qb=this.ue=!1;else{var h=0,l="";d.save();O||(d.shadowBlur=3,d.shadowColor="#000",d.shadowOffsetX=1,d.shadowOffsetY=1);for(var p=!0,k=0,m=this.fa.length;k<m;k++){var q=this.fa[k];if(h+q.length>this.pb){var v=this.wh;h+v>q.length&&(v=h+q.length-q.bf,v>this.wh&&(v=this.wh));this.pb+=v;l=q.Ua.substr(q.bf,v);q.bf+=v;v<this.wh&&(p=!1);d.font=[q.bold?"bold ":"",q.me?"italic ":"",q.size,"px ",
wa].join("");d.fillStyle=q.color;v=d.measureText(l).width;d.fillText(l,f+q.x+q.Nb|0,g+q.y+(this.ra-q.size)+0.5*q.size|0);q.xf&&(d.strokeStyle="#FFF",d.lineWidth=3,d.beginPath(),d.moveTo(f+q.x+q.Nb,g+q.y+this.ra+2),d.lineTo(f+q.x+q.Nb+v,g+q.y+this.ra+2),d.closePath(),d.stroke());q.strike&&(d.strokeStyle="#F00",d.lineWidth=q.size/8|0,d.beginPath(),d.moveTo(f+q.x+q.Nb,g+q.y+ +this.ra-q.size/2),d.lineTo(f+q.x+q.Nb+v,g+q.y+this.ra-q.size/2),d.closePath(),d.stroke());q.Nb+=v;if(p)break}else h+=q.length}d.restore()}}else if(!this.Ja||
this.ue)if(this.Hf(this.fc),d=this.width+2*xd,f=this.fa[this.fa.length-1],f=(f?f.y+this.ra:0)+this.ra)f+=2*xd,g=null,this.Ja?(g=this.Ja,g.width=d,g.height=f):g=eb("JComplexTextArea"+wd++,d,f),h=g.getContext("2d"),h.clearRect(0,0,d,f),h.textBaseline="middle",h.textAlign="left",g.je=h,this.Ja=g,this.qb=!1,this.se=-1,this.rq.call(this,h,-this.x+xd,-this.y+xd,1),this.ue=!1;a.save();a.globalAlpha=1<this.alpha*e?1:this.alpha*e;f=0;for(g=this.fa.length;f<g;f++)h=this.fa[f],h.id==this.se&&"#nnn"!==h.bgColor&&
(a.fillStyle=h.bgColor,d=this.qb?h.Nb:h.Nb?h.Nb:h.width,a.fillRect(this.x+b+h.x,this.y+c+h.y+this.ra-h.size+2,d,h.size+1));a.restore();a.globalAlpha=1<this.alpha*e?1:this.alpha*e;a.drawImage(this.Ja,b+this.x-xd|0,c+this.y-xd|0)};
ud.prototype.rq=function(a,b,c,e){this.oh=!0;a.save();O||(a.shadowBlur=3,a.shadowColor="#000",a.shadowOffsetX=1,a.shadowOffsetY=1);a.globalAlpha=1<this.alpha*e?1:this.alpha*e;e=0;for(var d=this.fa.length;e<d;e++){var f=this.fa[e];a.font=[f.bold?"bold ":"",f.me?"italic ":"",f.size,"px ",wa].join("");a.fillStyle=f.color;a.fillText(f.Ua,0.5+this.x+b+f.x<<0,0.5+(this.y+c+f.y)+(this.ra-f.size)+0.5*f.size<<0);f.xf&&(a.strokeStyle="#FFF",a.lineWidth=3,a.beginPath(),a.moveTo(this.x+b+f.x,this.y+c+f.y+this.ra+
2),a.lineTo(this.x+b+f.x+f.width,this.y+c+f.y+this.ra+2),a.closePath(),a.stroke());f.strike&&(a.strokeStyle="#F00",a.lineWidth=f.size/8|0,a.beginPath(),a.moveTo(this.x+b+f.x,this.y+c+f.y+ +this.ra-f.size/2),a.lineTo(this.x+b+f.x+f.width,this.y+c+f.y+this.ra-f.size/2),a.closePath(),a.stroke())}a.restore()};var xd=20;function yd(){yd.b.call(this)}yd.extend(R);yd.register("JBezier");
function zd(a,b){for(var c=a.length,e=[],d=0;d<c;++d)e[d]=[a[d][0],a[d][1]];for(var f=1;f<c;++f)for(d=0;d<c-f;++d)e[d][0]=(1-b)*e[d][0]+b*e[parseInt(d+1,10)][0],e[d][1]=(1-b)*e[d][1]+b*e[parseInt(d+1,10)][1];return[e[0][0],e[0][1]]}function Ad(){Ad.b.call(this)}Ad.extend(R);Ad.register("JBack");function Bd(){Bd.b.call(this)}Bd.extend(R);Bd.register("JBounce");function Cd(){Cd.b.call(this)}Cd.extend(R);Cd.register("JCirc");
function Wc(a,b,c,e){return 1>(a/=0.5*e)?0.5*-c*(Math.sqrt(1-a*a)-1)+b:0.5*c*(Math.sqrt(1-(a-=2)*a)+1)+b}function Dd(){Dd.b.call(this)}Dd.extend(R);Dd.register("JLinear");function rd(a,b,c,e){return c*a/e+b}function Ed(){Ed.b.call(this)}Ed.extend(R);Ed.register("JQuad");function Fd(){Fd.b.call(this)}Fd.extend(R);Fd.register("JCubic");function Gd(){Gd.b.call(this)}Gd.extend(R);Gd.register("JQuart");function Hd(){Hd.b.call(this)}Hd.extend(R);Hd.register("JQuint");function Id(){Id.b.call(this)}Id.extend(R);
Id.register("JSine");function Jd(){Jd.b.call(this)}Jd.extend(R);Jd.register("JStrong");function Kd(){Kd.b.call(this)}Kd.extend(R);Kd.register("JExpo");function Ld(){Ld.b.call(this)}Ld.extend(R);Ld.register("JSlowMo");function Md(a,b,c){Md.b.call(this);this.next=null;this.target=a;this.I=c?c:{};this.duration=b}Md.extend(R);Md.register("JTweenCore");Md.Fc=[];Md.ac=rd;Md.Is=function(){};Md.Pq=function(){for(var a=0.001*(new Date).getTime(),b=Md.Fc,c=b.length,e=0;e<c;e++){var d=b[e];d&&d.update(a)}};
Md.prototype.update=function(a){var b=!0;if(a<this.startTime+this.duration){var b=!1,c=0,e=0,d=1,f=1;if(this.Qi){var g=zd(this.wj,(a-this.startTime)/this.duration),c=g[0],e=g[1];if(this.ri){var h=zd(this.wj,(a-this.startTime)/this.duration+0.001);this.target.rotation=Math.atan(h[1]-g[1])/(h[0]-g[0])}}else this.Ui&&(c=this.I.ac(a-this.startTime,this.I.Lo,this.I.Vo,this.duration)),this.Vi&&(e=this.I.ac(a-this.startTime,this.I.Mo,this.I.Wo,this.duration)),this.Ti&&(d=this.I.ac(a-this.startTime,this.I.Co,
this.I.Sk,this.duration)),this.Ri&&(f=this.I.ac(a-this.startTime,this.I.zo,this.I.Pk,this.duration));g=this.I.ac(a-this.startTime,this.I.yo,this.I.No,this.duration);this.target.alpha=g;this.Ui&&(this.target.x=c|0);this.Vi&&(this.target.y=e|0);this.Ti&&this.target.X(d|0);this.Ri&&this.target.U(f|0);this.ul&&(c=this.I.ac(a-this.startTime,this.I.Ao,this.I.Qk,this.duration),this.target.n=c);this.vl&&(c=this.I.ac(a-this.startTime,this.I.Bo,this.I.Rk,this.duration),this.target.o=c);this.tl&&(a=this.I.ac(a-
this.startTime,0,this.I.rotation,this.duration),this.target.rotation=this.I.Xl+a);a=this.I.$s;c=this.I.at;a&&a.apply(this,c);a=this.I.Ws;c=this.I.Xs;a&&a.apply(this,c)&&(b=!0)}if(b&&(f=d=1,this.Qi?(g=zd(this.wj,1),c=g[0],e=g[1]):(c=this.I.x,e=this.I.y,d=this.I.width,f=this.I.height),this.Ui&&(this.target.x=c|0),this.Vi&&(this.target.y=e|0),this.Ti&&this.target.X(d|0),this.Ri&&this.target.U(f|0),this.ul&&(this.target.n=this.I.n),this.vl&&(this.target.o=this.I.o),this.target.alpha=this.I.alpha,this.tl&&
(this.target.rotation=this.I.rotation+this.I.Xl),b=Md.Fc.indexOf(this),-1!=b&&Md.Fc.splice(b,1),b=this.I.Qb,a=this.I.zg,b&&b.apply(this,a),this.next)){for(b=this.next;b&&b.Jp;)b=b.next;b&&b.start()}};function Nd(a,b,c){Nd.b.call(this,a,b,c);this.Jp=!1}Nd.extend(Md);Nd.register("JTweenLite");
Nd.prototype.start=function(){this.startTime=0.001*(new Date).getTime();var a=this.I,b=this.target;a.Lo=b.x;a.Mo=b.y;a.yo=b.alpha;a.Ao=b.n;a.Bo=b.o;a.Co=b.width;a.zo=b.height;this.Ui=null!=a.x;this.Vi=null!=a.y;a.x=null!=a.x?a.x:b.x;a.y=null!=a.y?a.y:b.y;a.alpha=null!=a.alpha?a.alpha:b.alpha;a.n=null!=a.n?a.n:b.n;a.o=null!=a.o?a.o:b.o;a.width=null!=a.width?a.width:b.width;a.height=null!=a.height?a.height:b.height;a.Sk=a.width-b.width;a.Pk=a.height-b.height;this.Ti=a.Sk?!0:!1;this.Ri=a.Pk?!0:!1;a.Qk=
a.n-b.n;a.Rk=a.o-b.o;this.ul=a.Qk?!0:!1;this.vl=a.Rk?!0:!1;a.Vo=a.x-b.x;a.Wo=a.y-b.y;a.No=a.alpha-b.alpha;a.ac=a.ac?a.ac:Md.ac;this.tl=a.rotation?!0:!1;a.Xl=b.rotation;a.Eo?(this.wj=a.Eo,this.Qi=!0):this.Qi=!1;this.ri=a.ri?a.ri:!1;Md.Fc.push(this);var a=this.I.Ys,c=this.I.Zs;a&&a.apply(b,c)};Nd.mt=function(a,b,c){a||(a=new U);a=new Nd(a,b,c);a.start();return a};function Od(){Od.b.call(this)}Od.extend(Nd);Od.register("JTweenMax");
function Vc(a,b,c){if(c.Kd){var e=c.Kd;c.Kd=null;Vc(new U,e,{Qb:function(a,b,c){Vc(a,b,c)},zg:[a,b,c]})}else{if(a)for(var e=Md.Fc.length,d=0;d<e;d++){if(Md.Fc[d].target==a){Md.Fc.splice(d,1);break}}else a=new U;(new Nd(a,b,c)).start()}}Od.prototype.update=function(){};function Pd(){Pd.b.call(this)}Pd.extend(wb);Pd.register("JTimeLineLite");function Qd(){Qd.b.call(this);this.zp=this.Fd=null}Qd.extend(Pd);Qd.register("JTimeLineMax");
Qd.prototype.start=function(a){this.Fd&&(a&&(this.zp.next=this.Fd),this.Fd.I.Kd?(a=this.Fd.I.Kd,this.Fd.I.Kd=null,Vc(this.Fd.target,a,{Qb:function(a){a.start()},zg:[this.Fd]})):this.Fd.start())};function pd(){pd.b.call(this);this.cj=this.yl=this.$i=this.ec=this.Ja=this.Sd=null;this.qh=[];this.qj=!0}pd.extend(Hb);pd.register("JMask");
pd.prototype.l=function(a,b,c,e,d,f,g){if(this.ec&&0<this.qh.length){if(this.qj){this.ec.clearRect(0,0,this.Ja.width,this.Ja.height);this.ec.globalCompositeOperation="source-over";this.Sd.l(this.ec,-this.Sd.x,-this.Sd.y,1,1,1,0);this.ec.globalCompositeOperation="source-in";this.cj.clearRect(0,0,this.Ja.width,this.Ja.height);for(var h=0,l=this.qh.length;h<l;h++)this.qh[h].l(this.cj,-this.Sd.x,-this.Sd.y,1,1,1,0);this.ec.Aa(this.yl,0,0);this.qj=!1}this.$i.l(a,this.Sd.x+b,this.Sd.y+c,e,d,f,g)}};
function Rd(){Rd.b.call(this);this.Ec=[]}var Sd=null;function Td(){Sd||(Sd=new Rd);return Sd}Rd.extend(R);Rd.register("JLoopManager");Rd.prototype.j=function(a,b){this.Ec[a]||(this.Ec[a]=[]);-1==this.Ec.indexOf(b)&&this.Ec[a].push(b)};Rd.prototype.removeChild=function(a,b){if(this.Ec[a])if(b){var c=this.Ec[a].indexOf(b);-1!=c&&this.Ec[a].splice(c,1)}else delete this.Ec[a]};Rd.prototype.Ce=function(){this.Ec=[]};
Rd.prototype.gh=function(a){for(var b in this.Ec)for(var c=this.Ec[b],e=0,d=c.length;e<d;e++)c[e](a)};function Ud(){this.Eb="";this.pattern=this.scale=!1;this.offsetHeight=this.offsetWidth=this.offsetY=this.offsetX=this.right=this.bottom=this.left=this.top=0;this.path="";this.S=this.frames=1;this.w=this.v=0;this.ba=this.ca=1}function $(){$.b.call(this);this.kg=this.dc=null;this.rd=[];this.Zc=[]}var Vd=[],Wd={};$.extend(R);$.register("UISkinManager");aa($);
function Z(a,b){var c=a.rd[b];if(c)return c.Ub();console.log(b,"not exist");return new ic}function Uc(a){var b=$.k(),c=Z(b,a+".normal"),e=Z(b,a+".hover"),d=Z(b,a+".click");a=Z(b,a+".disabled");return new W(c,e,d,a,c)}function Xd(a,b,c){Vd[b]?c&&c():(Vd[b]=!0,a.dc=c,Pa?Wd[b]?Yd(a,Zd[b]):(Wd[b]=!0,a.Uh(Zd[b])):zb(b,a.Th,a,b))}var $d=[],ae=[],be=[],ce=[],ee=[],fe=[],ge=[],he=[],ie=[],je=[],ke=[],le=[],me=[],ne=[],Zd=[];
$.prototype.Uh=function(a){var b,c,e,d=a[0];b=0;for(c=d.length;b<c;b++){var f=d[b],g={};e=0;g.Eb=f[e++];g.path=f[e++];g.scale=f[e++];g.pattern=f[e++];g.top=f[e++];g.left=f[e++];g.right=f[e++];g.bottom=f[e++];g.frames=f[e++];g.S=f[e++];g.v=f[e++];g.w=f[e++];g.ca=f[e++];g.ba=f[e++];g.offsetX=f[e++];g.offsetY=f[e++];g.offsetWidth=f[e++];g.offsetHeight=f[e++];this.Zc[g.Eb]=g}e=a[1];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],$d[g]=f;e=a[2];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],ae[g]=f;e=
a[3];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],ce[g]=f;e=a[4];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],ee[g]=f;e=a[5];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],fe[g]=f;e=a[6];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],ge[g]=f;e=a[7];b=0;for(c=e.length;b<c;b++)f=e[b],g=f[0],f=f[1],me[g]=f;a=a[8];b=0;for(c=a.length;b<c;b++)f=a[b],g=f[0],f=f[1],ne[g]=f;b=new mc;for(var h in this.Zc)g=this.Zc[h],b.yd.push(g.path);B&&(B.dd(!0),B.alpha=1);b.be(this.mk,function(a,b){B&&ed(B,a,b)})};
function Yd(a,b){for(var c=b[0],e=new mc,d=0,f=c.length;d<f;d++)e.yd.push(c[d][1]);B&&(B.dd(!0),B.alpha=1);e.be(a.rn,function(a,b){B&&ed(B,a,b)})}$.prototype.rn=function(){var a=$.k();B&&B.dd(!1);if(a.dc){var b=a.dc,c=a.kg;a.dc=null;a.kg=null;c?b.call(c):b()}};
$.prototype.Th=function(a){var b=$.k(),c=a.getElementsByTagName("skin"),e=c.length;b.Zc=[];for(var d=0;d<e;d++){var f=c[d],g=new Ud;g.Eb=f.getAttribute("skinId");g.path=f.getAttribute("path");var h=f.getAttribute("scale");g.scale="true"===h.toLowerCase();h=f.getAttribute("pattern");g.pattern=h&&"true"===h.toLowerCase()?!0:!1;g.top=f.getAttribute("top")|0;g.left=f.getAttribute("left")|0;g.right=f.getAttribute("right")|0;g.bottom=f.getAttribute("bottom")|0;g.frames=f.getAttribute("frames")|0;g.S=f.getAttribute("fps")|
0;g.v=f.getAttribute("regX")|0;g.w=f.getAttribute("regY")|0;g.ca=f.getAttribute("frameWidth")|0;g.ba=f.getAttribute("frameHeight")|0;g.offsetX=f.getAttribute("offsetX")|0;g.offsetY=f.getAttribute("offsetY")|0;g.offsetWidth=f.getAttribute("offsetWidth")|0;g.offsetHeight=f.getAttribute("offsetHeight")|0;b.Zc[g.Eb]=g}c=a.getElementsByTagName("button");e=c.length;for(d=0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),$d[g]=f;c=a.getElementsByTagName("togglebutton");e=c.length;for(d=0;d<
e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),ae[g]=f;c=a.getElementsByTagName("textinput");e=c.length;for(d=0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),ce[g]=f;c=a.getElementsByTagName("container");e=c.length;for(d=0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),ee[g]=f;c=a.getElementsByTagName("window");e=c.length;for(d=0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),fe[g]=f;c=a.getElementsByTagName("movieclip");e=c.length;for(d=
0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),ge[g]=f;c=a.getElementsByTagName("progressbar");e=c.length;for(d=0;d<e;d++)f=c[d],g=f.getAttribute("name"),f=f.getAttribute("id"),me[g]=f;a=a.getElementsByTagName("bitmap");e=a.length;for(d=0;d<e;d++)f=a[d],g=f.getAttribute("name"),f=f.getAttribute("id"),ne[g]=f;var e=new mc,l;for(l in b.Zc)g=b.Zc[l],e.yd.push(g.path);B&&(B.dd(!0),B.alpha=1);e.be(b.mk,function(a,b){B&&ed(B,a,b)})};
$.prototype.mk=function(){var a=$.k();B&&B.dd(!1);for(var b in a.Zc){var c=a.Zc[b],e=pc[c.path],d=new ic(e);d.xc=c.pattern;d.Z=c.scale;d.Db=c.top;d.Ab=c.bottom;d.Bb=c.left;d.Cb=c.right;d.frames=c.frames;d.S=c.S;d.w=c.w;d.v=c.v;d.ca=c.ca;d.ba=c.ba;d.offsetX=c.offsetX;d.offsetY=c.offsetY;d.offsetWidth=c.offsetWidth;d.offsetHeight=c.offsetHeight;d.Eb=b;if(1===c.offsetHeight||1===c.offsetWidth)c.ca=c.offsetWidth=d.ca=d.offsetWidth=e.width,c.ba=c.offsetHeight=d.ba=d.offsetHeight=e.height;a.rd[c.Eb]=d}a.Zc=
[];a.dc&&(a.kg?(a.dc.call(a.kg),a.kg=null):a.dc())};
function nd(a,b){var c=[];switch(a){case "JSimpleButton":c=$d;break;case "JToggleButton":c=ae;break;case "JTextField":c=be;break;case "JBitmap":c=ne;break;case "JTextInput":c=ce;break;case "JRadioButton":c=ie;break;case "JCheckBox":c=je;break;case "JComboBox":c=ke;break;case "JTextArea":c=le;break;case "JProgressBar":c=me;break;case "JMovieClip":c=ge;break;case "JWindow":c=fe;break;case "JContainer":c=ee;break;case "JScrollPanel":c=he}return c[b]}
function od(a,b,c){if(""==c)return null;c=nd(b,c);switch(b){case "JSimpleButton":var e={};e.normal=Z(a,c+".normal");e.hover=Z(a,c+".hover");e.click=Z(a,c+".click");e.disabled=Z(a,c+".disabled");return e;case "JToggleButton":return e={},e.normal=Z(a,c+".normal"),e.hover=Z(a,c+".hover"),e.click=Z(a,c+".click"),e.disabled=Z(a,c+".disabled"),e;case "JTextField":return{};case "JTextInput":return e={},e.background=Z(a,c),e;case "JRadioButton":return{};case "JCheckBox":return{};case "JComboBox":return{};
case "JTextArea":return{};case "JProgressBar":return e={},e.fg=a.rd[c+".fg"],e.bg=a.rd[c+".bg"],e;case "JMovieClip":b={};try{e=a.rd[c],b.pic=e,b.frames=e.frames,b.fps=e.S,b.regX=e.v,b.regY=e.w,b.frameWidth=e.ca,b.frameHeight=e.ba}catch(d){}return b;case "JWindow":return e={},e.bg=a.rd[c+".bg"],e["title.bg"]=a.rd[c+".title.bg"],e;case "JContainer":return e={},e.background=a.rd[c],e;case "JScrollPanel":return{};case "JBitmap":return e={},e.bitmap=Z(a,c),e}}function oe(){oe.b.call(this);this.ng=[]}oe.extend(R);
oe.register("JTimerManager");var pe=null;function qe(){pe||(pe=new oe);return pe}oe.prototype.j=function(a){this.ng.push(a)};oe.prototype.removeChild=function(a){a=this.ng.indexOf(a);-1!=a&&this.ng.splice(a,1)};oe.prototype.gh=function(a){for(var b=0,c=this.ng.length;b<c;b++){var e=this.ng[b];e.Hc&&e.gh(a)}};function re(a,b){re.b.call(this);this.Vf=0;this.Kd=a;this.Vl=b|0;this.Hc=!1;this.he=0}re.extend(wb);re.register("JTimer");re.prototype.reset=function(){this.Hc=!0;this.he=this.Vf=0;qe().j(this)};
re.prototype.start=function(){this.Hc||(this.Hc=!0,qe().j(this))};re.prototype.stop=function(){this.Hc=!1;qe().removeChild(this)};re.prototype.gh=function(a){this.Vf==this.Vl&&(this.Hc=!1,qe().removeChild(this));this.he+=a;this.he>this.Kd&&(this.he-=this.Kd,this.Vf++,a=new se(te),a.target=this,this.dispatchEvent(a),this.Vf==this.Vl&&(this.he=this.Vf=0,this.Hc=!1,a=new se(ue),a.target=this,this.dispatchEvent(a),qe().removeChild(this)))};function se(a){se.b.call(this,a)}var te="timer",ue="timerComplete";
se.extend(S);se.register("JTimerEvent");function ve(){ve.b.call(this);this.md=[];this.items={}}ve.extend(R);ve.register("JScheduler");aa(ve);ve.prototype.setInterval=function(a,b){var c;0<this.md.length?(c=this.md.pop(),c.ha(a,b,!0)):c=new we(a,b,!0);this.items[c.id]=c;return c.id};ve.prototype.clearInterval=function(a){var b=this.items[a];b&&(b.Pa=null,this.md.push(b),delete this.items[a])};ve.prototype.pause=function(a){(a=this.items[a])&&a.pause()};ve.prototype.update=function(a){for(var b in this.items)this.items[b].update(a)};
function we(a,b,c){we.b.call(this);this.ha(a,b,c)}we.extend(R);we.register("JScheduleItem");var xe=0;we.prototype.ha=function(a,b,c){this.Pa=a;this.interval=b;this.Cp=c;this.Hc=!0;this.ke=0;this.id="JSchedulerItem"+xe++};we.prototype.pause=function(){this.Hc=!0};we.prototype.update=function(a){this.Hc&&(this.ke+=a,this.ke>this.interval&&(this.Pa&&this.Pa(this.id),this.Cp?(this.ke-=this.interval,this.ke>this.interval&&(this.ke=0)):ve.k().clearInterval(this.id)))};function ye(){ye.b.call(this)}ye.extend(R);
ye.register("DraggingImage");ye.prototype.Wc=function(){return null};ye.prototype.fm=function(){};function ze(a){ze.b.call(this);this.Rd=new W;this.Rd.width=64;this.Rd.height=64;this.Rd.H=!1;this.Rd.Xa=!1;this.Rd.x=-a.us|0;this.Rd.y=-a.vs|0}ze.extend(ye);ze.register("DefaultDragImage");ze.prototype.Wc=function(){return this.Rd};ze.prototype.fm=function(){this.Rd.alpha=0.6};function Ae(a,b){Ae.b.call(this);this.te=b}Ae.extend(R);Ae.register("SourceData");function Be(){Be.b.call(this)}Be.extend(R);
Be.register("DropMotion");Be.prototype.Ih=function(){};function Ce(){Ce.b.call(this);this.Ig=new re;this.Ei=this.Mb=this.Li=null;this.Ig=new re(40,16777215);this.Ig.data=this;this.Ig.addEventListener(te,this.Ln.bind(this))}Ce.extend(Be);Ce.register("RejectedMotion");Ce.prototype.Ih=function(a,b){Vc(b,0.1,{x:a.Ya,y:a.Za,Qb:function(){Db(b)}})};
Ce.prototype.Ln=function(a){a=a.target.data;var b=new nb(a.Mb.x,a.Mb.y),b=Fb(a.Mb.parent,b);b.x+=0.4*(a.Li.x-b.x);b.y+=0.4*(a.Li.y-b.y);var c=a.Li;2>Math.sqrt((b.x-c.x)*(b.x-c.x),(b.y-c.y)*(b.y-c.y))?a.Ig.Hc&&(a.Ig.stop(),a.Mb.alpha=1,null!=a.Mb.parent&&(a.Mb.parent.removeChild(a.Mb),a.Mb.Ce()),a.Ei&&(a.Ei.alpha=1)):(b=Eb(a.Mb.parent,b),a.Mb.alpha+=0.4*(0.04-a.Mb.alpha),a.Mb.x=b.x,a.Mb.y=b.y)};function De(){De.b.call(this)}De.extend(Be);De.register("RejectedMotion2");
De.prototype.Ih=function(a,b){Vc(b,0.15,{x:a.Ya,y:a.Za,Qb:function(){Db(b);a.alpha=1}})};function Ee(){Ee.b.call(this)}Ee.extend(Be);Ee.register("DirectlyRemoveMotion");Ee.prototype.Ih=function(a,b){Db(b)};function Fe(a,b,c,e){Fe.b.call(this,a);this.Ei=b;this.xe=e}Fe.extend(S);Fe.register("DragAndDropEvent");function Ge(){Ge.b.call(this)}Ge.extend(R);Ge.register("DragListener");function He(){Fe.b.call(this)}He.extend(R);He.register("DragAndDropManager");var Ie=[];
function Je(a,b,c){if(a=Ie[a]){a.x=b;a.y=c;new nb(b,c);var e=0;for(b=G.rc(b,c).length;e<b;e++);null!=a.Aj&&(null!=a.Aj&&a.uq.fm(),a.Aj=null);return!0}return!1}function Ke(a,b,c){var e=Ie[a];return e?(e.x=b,e.y=c,new nb(b,c),b=null,b=new De,b.Ih(e.zj,e),e.zj.H=!0,e.zj.identifier=-1,e.zj=null,e.ht=null,e.uq=null,e.gt=null,e.Aj=null,Ie[a]=null,delete Ie[a],!0):!1}function Le(a,b,c,e){Le.b.call(this);this.Ho=a;this.Io=b;this.oq=c;this.Go=e}Le.extend(R);Le.register("JBlurFilter");Le.prototype.d=function(){return null};
Le.prototype.apply=function(a){a||(a=za);a.shadowBlur=this.oq;a.shadowOffsetX=this.Ho;a.shadowOffsetY=this.Io;a.shadowColor=this.Go;a.fillStyle="white"};
Filters={pp:function(a){var b=this.mp(a.width,a.height),c=b.getContext("2d");c.drawImage(a);return c.getImageData(0,0,b.width,b.height)},mp:function(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c},Bs:function(a,b,c){for(var e=[this.pp(b)],d=2;d<arguments.length;d++)e.push(arguments[d]);return a.apply(null,e)},Gs:function(a){for(var b=a.data,c=0;c<b.length;c+=4)b[c]=b[c+1]=b[c+2]=0.2126*b[c]+0.7152*b[c+1]+0.0722*b[c+2];return a},ks:function(a,b){for(var c=a.data,e=0;e<c.length;e+=
4)c[e]+=b,c[e+1]+=b,c[e+2]+=b;return a},kt:function(a,b){for(var c=a.data,e=0;e<c.length;e+=4)c[e]=c[e+1]=c[e+2]=0.2126*c[e]+0.7152*c[e+1]+0.0722*c[e+2]>=b?255:0;return a},createImageData:function(a,b){return this.lt.createImageData(a,b)},qs:function(a,b,c){var e=Math.round(Math.sqrt(b.length)),d=Math.floor(e/2),f=a.data,g=a.width;a=a.height;var h=Filters.createImageData(g,a),l=h.data;c=c?1:0;for(var p=0;p<a;p++)for(var k=0;k<g;k++){for(var m=p,q=k,v=4*(p*g+k),r=0,s=0,w=0,t=0,u=0;u<e;u++)for(var x=
0;x<e;x++){var y=m+u-d,E=q+x-d;0<=y&&y<a&&0<=E&&E<g&&(y=4*(y*g+E),E=b[u*e+x],r+=f[y]*E,s+=f[y+1]*E,w+=f[y+2]*E,t+=f[y+3]*E)}l[v]=r;l[v+1]=s;l[v+2]=w;l[v+3]=t+c*(255-t)}return h}};function vd(a){var b=a.target;if(M){var c=b.parent;c.pd||(b.kf=!0,a.target=c,c.dispatchEvent(a))}else if(c=b.parent)c.kf=!0,a.target=c,c.dispatchEvent(a)}Math.Dr=function(a){return 0.5+a<<0};
function Me(a){function b(){function c(){ve.hf.clearInterval(b.mn);return b}var e=0;c().mn=ve.hf.setInterval(function(){a.x+=4.5*Math.sin(e/180*Math.PI);720<=(e+=90)&&c()},30)}b()}function Ne(a){var b;return("object"==(b=typeof a)?null==a&&"null"||Object.prototype.toString.call(a).slice(8,-1):b).toLowerCase()}function Oe(a,b){for(var c in b)"array"==Ne(b[c])||"object"==Ne(b[c])?(a[c]="array"==Ne(b[c])?[]:{},arguments.callee(a[c],b[c])):a[c]=b[c]}
Math.xr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)}).toUpperCase()};function Pe(){Pe.b.call(this);this.text="";this.Pa=null}Pe.extend(R);Pe.register("JAreaElement");function Qe(){return"#"+function(a){return(a+="0123456789abcdef"[Math.floor(16*Math.random())])&&6==a.length?a:arguments.callee(a)}("")}
function Re(a,b){Re.b.call(this);var c=this;c.Pi=!1;c.Jk=a;if("Firefox"==gb&&12>hb)c.Ee=new MozWebSocket(c.Jk);else if("WebSocket"in window)c.Ee=new WebSocket(c.Jk);else{console.log("WebSocket not supported!");return}c.Ee.binaryType=b?b:Se;c.Ee.onopen=function(){c.Pi=!0;Te.push(c);var a=new S(S.cn);c.dispatchEvent(a)};c.Ee.onmessage=function(a){var b=new ob("socketData");b.data=a.data;c.dispatchEvent(b)};c.Ee.onerror=function(){c.Pi=!1};c.Ee.onclose=function(){var a=new S(S.jr);c.dispatchEvent(a);
delete Te[Te.indexOf(c)];c.Pi=!1};c.Rs=null}Re.extend(wb);Re.register("JSocket");var Te=[],Se="blob";Re.prototype.eb=function(){};Re.prototype.send=function(a){try{this.Ee.send(a)}catch(b){alert(b.message)}};function Ue(a,b,c){Ue.b.call(this);this.src=a;this.width=b;this.height=c;this.load()}Ue.extend(U);Ue.register("Movie");Ue.prototype.load=function(){var a=document.createElement("video");this.Uj=a;a.src=this.src;a.width=this.width;a.height=this.height;a.load();try{a.play()}catch(b){alert(b)}};
Ue.prototype.play=function(){try{this.Uj.play()}catch(a){console.log(["Video Error",a.message].join(":"))}};Ue.prototype.pause=function(){try{this.Uj.pause()}catch(a){console.log(["Video Error",a.message].join(":"))}};
Ue.prototype.l=function(a,b,c,e,d,f,g){a.save();b=Math.round(this.x+b);c=Math.round(this.y+c);e*=this.alpha;d*=this.n;f*=this.o;g=this.rotation+g;0==b&&0==c||a.translate(b,c);0!=g&&a.rotate(g);1==d&&1==f||a.scale(d,f);1>e&&(a.globalAlpha=e);null!=this.La&&(a.beginPath(),a.rect(this.La.x,this.La.y,this.La.width,this.La.height),a.closePath(),a.clip());a.drawImage(this.Uj,0,0,this.width,this.height);a.restore()};M||document.createElement("video");
window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,16)};var Ve=1,We=1,Xe="",Ye=0,Na="FPS: 60";
function Ze(a){a||(a=(new Date).getTime());Ka=a-Ja;Ja=a;La++;Md.Pq();Ca.gh(Ka);ga.update(Ka);a=za;a.clearRect(0,0,Ye,fa);a.save();G.l(a,0,0,1,Ve,We,0);ea&&ea.l(a,0,0,1,Ve,We,0);a.fillText("",5,80);if(xa||$e)a.fillStyle="#F80",a.font="bold 24px "+wa;xa&&(Ma+=Ka,0==La%10&&(Na="FPS: "+(0.5+1E5/Ma<<0)/10,a.kp(Na,5,20),Ma=0),a.fillText(Na,5,20));$e&&(a.fillText(Xe,5,50),a.fillText("",5,80));if(Qa)if(M)for(var b in Sa){var c=Sa[b];c.length?af(a,c,c.we):(Sa[b]=null,delete Sa[b])}else af(a,Ra,Wa);a.restore();
window.requestAnimationFrame(Ze)}var bf=5,bf=5;
function af(a,b,c){if(0!=b.length){a=za;a.lineJoin="round";a.strokeStyle=Va;b.color&&(a.strokeStyle=b.color);a.globalAlpha=1;var e=b.length;e>Ta&&b.splice(Ta,e-Ta);var d=b.slice(0,Ua),f=d.length;if(!(2>d.length)){var g=12;a.beginPath();a.moveTo(d[0][0],d[0][1]);for(var f=2*f,h=12/f,l=1/f,p=1;p<=f;p++){a.lineWidth=g;var k,m=d;k=l*p;for(var q=m.length,v=[],r=0;r<q;++r)v[r]=[m[r][0],m[r][1]];for(m=1;m<q;++m)for(r=0;r<q-m;++r)v[r][0]=(1-k)*v[r][0]+k*v[parseInt(r+1,10)][0],v[r][1]=(1-k)*v[r][1]+k*v[parseInt(r+
1,10)][1];k=[v[0][0],v[0][1]];a.lineTo(k[0],k[1]);a.stroke();g-=h}}0<e&&(M?(bf++,bf%=7,0==bf%3&&b.pop()):(bf++,bf%=21,b.pop()),c||b.pop())}}
function cf(){var a=document.getElementById("viewport");switch(window.orientation){case 180:case 0:navigator.userAgent.match(/iPhone/i)?(a.setAttribute("content","height=960, width=640, minimum-scale=0.5,maximum-scale=0.5,initial-scale=0.5"),df(0,!0)):navigator.userAgent.match(/iPad/i)&&(a.setAttribute("content","height=1024, width=768, minimum-scale=1,maximum-scale=1,initial-scale=1"),df(0,!0));break;case -90:case 90:navigator.userAgent.match(/iPhone/i)?(a.setAttribute("content","height=640, width=960, minimum-scale=0.5,maximum-scale=0.5,initial-scale=0.5"),
df(0,!0)):navigator.userAgent.match(/iPad/i)&&(a.setAttribute("content","height=672, width=1024, minimum-scale=1,maximum-scale=1,initial-scale=1"),df(0,!0))}for(var a=0,b=$a.length;a<b;a++)$a[a].call(window.orientation)}
function ef(a){a.preventDefault();if(0==a.button){K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;ha=K;ia=L;Wa=!0;Qa&&ff&&(Va=Qe());var b=new T("mouseDown",K,L,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);b.target=ea;ea.dispatchEvent(b);Ke(-1,K,L);for(var c=G.rc(K,L),e=c.length,d=0;d<e;d++)if(b=c[d],b.we&&(b.H||b.Ra)){if(b.Ch&&b.ef){c=gf(b.dh);hf(c,b);ja=!0;c.focus();c.click();b=document.createEvent("MouseEvents");b.initEvent("click",!0,!0);c.dispatchEvent(b);return}e=H.length;for(d=0;d<e;d++){var c=
H[d],f=Ba[c.id];f&&(f.hasFocus=!1);jf(c)}ja=!1;a=new T("mouseDown",b.Y,b.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);a.target=b;b.dispatchEvent(a);return}a.preventDefault()}}
function kf(a){a.preventDefault();if(0==a.button){K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;Wa=!1;var b=new nb(K,L);if(null!=Da){var c=Eb(Da,b);a=new T("mouseUP",c.x,c.y,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);a.target=Da;Da.dispatchEvent(a)}else if(!Ke(-1,K,L))for(var e=G.rc(K,L),d=e.length,f=0;f<d;f++)if(c=e[f],c.Ya=K,c.Za=L,c.Hl&&(c.H||c.Ra)){Eb(c,b);a=new T("mouseUP",c.Y,c.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);a.target=c;c.dispatchEvent(a);break}}}
function lf(a){a.preventDefault();K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;for(var b=G.rc(K,L),c=b.length,e=0;e<c;e++){var d=b[e];ca&&d.parent!=ca&&(ca.Yp(),ca=null);if(d.click&&(d.H||d.Ra)){d.Xc("click")&&30>Math.abs(K-ha)+Math.abs(L-ia)&&(a=new T("click",d.Y,d.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga),a.target=d,d.dispatchEvent(a));break}}}
function mf(a){if(0==a.button){a.preventDefault();K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;for(var b=G.rc(K,L),c=b.length,e=0;e<c;e++){var d=b[e];if(d.dp){a=new T("doubleClick",d.Y,d.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);a.target=d;d.dispatchEvent(a);break}}}}
function nf(a){a.preventDefault();for(var b=0;b<H.length;b++){var c=H[b],e=Ba[c.id];e&&(e.hasFocus=!1);jf(c)}ja=!1;e=a.wheelDelta?a.wheelDelta:-a.detail;K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;for(var d=G.rc(K,L),f=d.length,b=0;b<f;b++)if(c=d[b],c.Hl&&c.H){a=new T("mouseWheel",c.Y,c.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,e);a.target=c;c.dispatchEvent(a);break}}
function of(a){a.preventDefault();K=Ha?a.layerX:a.offsetX;L=Ha?a.layerY:a.offsetY;Wa&&Qa&&Ra.unshift([K,L]);var b=Da;if(b){Ea?(b.x=K-b.width/2,b.y=L-b.height/2):(b.x=K-Fa,b.y=L-Ga);var c=ba;c&&(0===c.width?b.x=c.x:b.x<c.x?b.x=c.x:b.x>c.x+c.width&&(b.x=c.x+c.width),0===c.height?b.y=c.y:b.y<c.y?b.y=c.y:b.y>c.y+c.height&&(b.y=c.y+c.height));c=new T("mouseMove",b.Y,b.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);c.target=b;b.dispatchEvent(c)}else if(!Je(-1,K,L)){new nb(K,L);for(var c=G.rc(K,L),e=c.length,
d=0;d<e;d++){b=c[d];b.Ya=K;b.Za=L;if(b.Ch){if(b.ds)break;if(!b.ef)return;c=gf(b.dh);if(!c)break;hf(c,b);return}if(b.Wp){e=H.length;for(d=0;d<e;d++)c=H[d],jf(c);c=new T("mouseMove",b.Y,b.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga);c.target=b;b.dispatchEvent(c);la&&la.H?la!=b&&(a=new T("rollOut",b.Y,b.da,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga),a.target=la,la.dispatchEvent(a),a.type="rollOver",a.target=b,b.dispatchEvent(a),la=b):(la=b,a=new T("rollOver",b.Y,b.da,0,a.ctrlKey,a.altKey,a.shiftKey,
a.Yb,a.Ga),a.target=la,la.dispatchEvent(a));return}}e=H.length;for(d=0;d<e;d++)c=H[d],jf(c);la&&la.H?(a=new T("rollOut",0,0,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga),a.target=la,la.dispatchEvent(a),la=null):(la=null,a=new T("rollOut",K,L,0,a.ctrlKey,a.altKey,a.shiftKey,a.Yb,a.Ga),a.target=G,G.dispatchEvent(a))}}function pf(a){a.fromElement===document.body&&of(a)}function qf(a){a.toElement===document.body&&of(a)}
function rf(a){0>=ub[a.keyCode]&&(ub[a.keyCode]=1);if(da&&da.visible)switch(a.keyCode){case 9:var b=da;b.visible&&b.parent&&0!=b.alpha&&(b.yh++,b.yh%=b.Kp.length);break;case 13:if("text"!=document.activeElement.type&&"password"!=document.activeElement.type&&(b=da,b.sh)){var c=new T("click");c.target=b.sh;b.sh.dispatchEvent(c)}break;case 27:b=da,b.rh&&(c=new T("click"),c.target=b.rh,b.rh.dispatchEvent(c))}b=document.activeElement.type;if("text"!=b&&"textarea"!=b&&"password"!=b)if(b=new tb(a.type,a.charCode,
a.keyCode,0,a.ctrlKey,a.altKey,a.shiftKey),G.dispatchEvent&&G.dispatchEvent(b),9==a.keyCode)a.preventDefault();else if(8==a.keyCode&&(b=a.target.tagName,"INPUT"!=b&&"TEXTAREA"!=b))return a.preventDefault(),!0}function sf(a){ub[a.keyCode]=0;var b=document.activeElement.type;"text"!=b&&"password"!=b&&(a=new tb(a.type,a.charCode,a.keyCode,0,a.ctrlKey,a.altKey,a.shiftKey),G.dispatchEvent&&G.dispatchEvent(a))}
function tf(a){a=new tb(a.type,a.charCode,a.keyCode,0,a.ctrlKey,a.altKey,a.shiftKey);G.dispatchEvent(a)}function uf(a){var b=Ba[a.target.id];b&&b.dispatchEvent&&(a=new tb(a.type,a.charCode,a.keyCode,0,a.ctrlKey,a.altKey,a.shiftKey),a.target=b,b.dispatchEvent(a))}
function df(a,b){if(!M||b){var c=document.documentElement.clientHeight;ma=0.5*(document.documentElement.clientWidth-C);na=0.5*(c-D);0>ma&&(ma=0);0>na&&(na=0);c=ya;c.style.left=ma+"px";c.style.top=na+"px";for(var c=H.length,e=0;e<c;e++){var d=H[e],f=Ba[d.id];f&&(f.hasFocus=!1);jf(d)}ja=!1}}
function vf(a){oa=a;if(O){CocoonJS.App.setAutoLockEnabled(!1);switch(CocoonJS.App.getDeviceInfo().model){case "IPAD_1":bb=100;break;case "IPHONE_4":case "IPHONE_4S":case "IPAD_2":bb=200;break;case "IPHONE_5":case "IPHONE_5S":bb=400;break;case "IPHONE_6":case "IPHONE_6S":bb=1200;break;case "IPAD_3":case "IPAD_4":bb=400}console.log("MAX_DESIGN_MEMORY:"+bb+" MB")}else"Explorer"==gb||"Mozilla"==gb?Ia=!0:"Firefox"==gb&&(Ha=!0);fb();a=document.getElementById("viewport");switch(window.orientation){case 180:case 0:navigator.userAgent.match(/iPhone/i)?
a.setAttribute("content","height=960, width=640, minimum-scale=0.5,maximum-scale=0.5,initial-scale=0.5, user-scalable=no"):navigator.userAgent.match(/iPad/i)&&a.setAttribute("content","height=1024, width=768, minimum-scale=1,maximum-scale=1,initial-scale=1, user-scalable=no");break;case -90:case 90:navigator.userAgent.match(/iPhone/i)?a.setAttribute("content","width=960, height=640, minimum-scale=0.5,maximum-scale=0.5,initial-scale=0.5, user-scalable=no"):navigator.userAgent.match(/iPad/i)&&a.setAttribute("content",
"width=1024, height=768, minimum-scale=1,maximum-scale=1,initial-scale=1, user-scalable=no")}a=document.documentElement.clientWidth;var b=document.documentElement.clientHeight;b>a&&(b^=a,a^=b,b^=a);navigator.userAgent.match(/iPad/i)?b=window.navigator.Gq?768:b-96:navigator.userAgent.match(/iPhone/i)&&window.navigator.Gq&&(b=640);Ye=a;fa=b;M||(a<ua&&(ua=a),b<va&&(va=b));var c=document.getElementById("myCanvas");O&&(a=window.innerWidth,b=window.innerHeight,Ye=a,fa=b);4===Ya&&(Ya=navigator.userAgent.match(/iPhone/i)||
navigator.userAgent.match(/iPad/i)?2:1);if(M){switch(Ya){case 1:var e=1,d=1;a/b>ua/va?d=e=b/va:e=d=a/ua;Ve=e;We=d;C=a/e;D=b/d;c.width=a;c.height=b;break;case 0:Ve=b/va;We=b/va;C=ua=a/Ve|0;D=va;c.width=a;c.height=b;break;case 2:We=Ve=1;C=a;D=b;c.width=a;c.height=b;ua=a;va=640;break;case 3:wf(a,b,c)}Xe=[Ye,fa,C,D,ua,va].join(":")}else C=ua,D=va,c.width=ua,c.height=va,Ye=c.width,fa=c.height;ya=c;O?(c.screencanvas=!0,za=c.getContext("2d",{antialias:!1})):za=c.getContext("2d");za.kp=za.fillText;za.Aa=
za.drawImage;ma=0.5+0.5*(a-ua)<<0;na=0.5+0.5*(b-va)<<0;M&&(na=ma=0);0>na&&(na=0);0>ma&&(ma=0);c.style.left=ma+"px";c.style.top=na+"px";c.style.position="absolute";c.style.display="block";za.fillStyle="#FC0";za.font="bold 20px "+wa;za.textBaseline="middle";za.textAlign="left";Ca=qe();ga=ve.k();Td();ea=new U;ea.width=4096;ea.height=4096;M||xf&&xf();O||yf();O&&(M=!0);M?(c.addEventListener("touchstart",zf,!1),c.addEventListener("touchmove",Af,!1),c.addEventListener("touchend",Bf,!1),c.addEventListener("touchcancel",
Cf,!1)):(c.addEventListener("mousedown",ef,!1),c.addEventListener("mouseup",kf,!1),c.addEventListener("click",lf,!1),c.addEventListener("dblclick",mf,!1),c.addEventListener("mousemove",of,!1),c.addEventListener("mousewheel",nf,!1),c.addEventListener("mouseover",pf,!1),c.addEventListener("mouseout",qf,!1));window.addEventListener("keydown",rf,!1);window.addEventListener("keyup",sf,!1);window.addEventListener("keypress",tf,!1);window.addEventListener("textinput",uf,!1);window.addEventListener("orientationchange",
cf,!1);window.onresize=df;window.addEventListener("hashchange",function(){},!1);window.addEventListener("mousedown",function(a){0!=a.button&&a.preventDefault()});window.addEventListener("mouseup",function(a){0!=a.button&&a.preventDefault()});document.onmousedown=function(a){if(window.gn){if(2==a.which||3==a.which)return a.cancelBubble=!0,a.returnValue=!1}else if(2==a.button||3==a.button)return a.cancelBubble=!0,a.returnValue=!1};Pa=(Pa="#release"==window.location.hash||"#rel"==window.location.hash||
Ef)||Ef;G=new Jb;G.width=4096;G.height=4096;Ze();O&&(Pa=!0);Xd($.k(),"xmls/engine/engine.xml",Ff)}
function yf(){var a=[];H=a;Aa=[];Ba=[];for(var b=1;3>=b;b++){var c=document.getElementById("myInput"+b);Aa[c.id]=!0;Ba[c.id]=null;c.style.fontFamily=wa;a.push(c);c.style.backgroundColor="#444";c.style.top="0px";c.style.left="0px";c.style.position="absolute";c.style.display="none";c.style.fontStyle="blue";c.style.fontSize="40";c.style.margin="0px";c.style.padding="0px";c.style.paddingLeft="0px";c.style.fs="";c.addEventListener("click",Zb,!1);c.addEventListener("input",Wb,!1);c.addEventListener("select",
Xb,!1);c.addEventListener("keydown",Wb,!1);c.addEventListener("keypress",Wb,!1);c.addEventListener("keyup",Wb,!1);c.addEventListener("mousedown",Yb,!1)}}function Zb(a){ja=!0;a=a.target;for(var b=H,c=[],e=b.length,d=0;d<e;d++)a!=b[d]&&c.push(b[d]);e=c.length;for(b=0;b<e;b++){if(d=Ba[c[b].id])d.hasFocus=!1;jf(c[b])}if(d=Ba[a.id])d.hasFocus=!0;a.focus()}
function jf(a){var b=Ba[a.id];b&&!b.hasFocus&&(a.Bh=null,Aa[a.id]=!0,Ba[a.id]=null,b.input=null,b.Hb(a.value),a.style.display="none",a.style.left="0px",a.style.top="4000px")}function gf(a){for(var b=0;b<H.length;b++){var c=H[b];if(a){if("password"!=c.type)continue}else if("text"!=c.type)continue;if(Aa[c.id])return Aa[c.id]=!1,c}return null}
function hf(a,b){var c=Fb(b,new nb(0,0));a.style.left=Math.floor(c.x*Ve+ma)+"px";a.style.top=Math.floor(c.y*We+na)+"px";a.style.display="";a.style.fontSize=Math.floor((b.bb.size?b.bb.size:13)*Ve)+"px";a.style.color=b.bb.la?b.bb.la:"#000000";a.style.width=Math.ceil(b.Kj*Ve-1)+"px";a.style.height=Math.ceil(b.ib*We)+"px";a.style.content.textBaseline="bottom";a.style.fontWeight=b.bb.sb?"bold":"";a.style.fontStyle=b.bb.Kc?"italic":"";a.style.maxLength=b.rj;a.style.margin="0px";a.style.paddingTop="2px";
a.style.paddingLeft="4px";a.style.paddingBottom="0px";a.style.paddingRight="0px";a.setAttribute("maxlength",b.rj);a.setAttribute("placeholder",b.placeholder);a.Bh=b;b.input=a;a.value=b.text;Ba[a.id]=b}window.init=vf;
function Ff(){var a=$.k();$c=Z(a,"engine.loading.bg");ad=Z(a,"engine.loading.left");bd=Z(a,"engine.loading.center");cd=Z(a,"engine.loading.right");dd=Z(a,"engine.loading.spot");bd.yg=!1;W.$o=Z(a,"engine.button.normal");W.Zo=Z(a,"engine.button.hover");W.Yo=Z(a,"engine.button.click");W.Xo=Z(a,"engine.button.disabled");Z(a,"engine.textfield.normal");zc=Z(a,"engine.checkbox.up");Cc=Z(a,"engine.checkbox.pressed");Ec=Z(a,"engine.checkbox.pressedSelected");Ac=Z(a,"engine.checkbox.rollover");Bc=Z(a,"engine.checkbox.rolloverSelected");
Dc=Z(a,"engine.checkbox.selected");Gc=Z(a,"engine.radiobutton.up");Jc=Z(a,"engine.radiobutton.pressed");Lc=Z(a,"engine.radiobutton.selected");Hc=Z(a,"engine.radiobutton.rollover");Ic=Z(a,"engine.radiobutton.rolloverSelected");Kc=Z(a,"engine.radiobutton.pressedSelected");Oc=Z(a,"engine.combobox.up");Qc=Z(a,"engine.combobox.pressed");Pc=Z(a,"engine.combobox.rollover");Z(a,"engine.combobox.text.disabled");Z(a,"engine.combobox.text.uneditable");Rc=Z(a,"engine.combobox.text.normal");Y.Fo=Z(a,"engine.container.bg");
Z(a,"engine.hspacer");Z(a,"engine.vspacer");B=new Zc;oa()}var Gf=-1,Hf=!0;
function zf(a){a.preventDefault();a.cancelBubble=!0;if(N){if(!Hf)return;Hf=!1}if(!N||-1===Gf){if(Qa)for(var b=0,c=a.changedTouches.length;b<c;b++){var e=a.changedTouches[b],d=e.identifier;Sa[d]||(Sa[d]=[],Sa[d].color=Qe());Sa[d].we=!0;Sa[d].unshift([e.pageX,e.pageY]);if(N)break}b=0;for(c=a.changedTouches.length;b<c;b++){var e=a.changedTouches[b],d=e.identifier,f=e.pageX/Ve,g=e.pageY/We;N&&(Gf=d);for(var h=G.rc(f,g),l=0,p=h.length;l<p;l++)if(e=h[l],e.Lq){if(-1!==e.identifier)break;e.Ya=f;e.Za=g;e.identifier=
d;e.lb=!0;Oa[d]=e;a=new pb(a.type,e.Y,e.da);a.target=e;e.dispatchEvent(a);return}if(N)break}}}
function Af(a){a.preventDefault();a.cancelBubble=!0;for(var b=0,c=a.changedTouches.length;b<c;b++){var e=a.changedTouches[b],d=e.identifier;if(!N||d===Gf){var f=e.pageX/Ve,g=e.pageY/We;Qa&&(Sa[d]||(Sa[d]=[]),Sa[d].we=!0,Sa[d].unshift([e.pageX,e.pageY]));if(!Je(d,f,g))if((e=Oa[d])&&e.pd)e.Ya=f,e.Za=g,e.lb=!1,If(e,f,g);else if(e&&e.kf)e.lb=!1,d=e.parent,d.pd&&(d.Ya=f,d.Za=g,d.lb=!1,If(d,f,g));else{var h=G.rc(f,g);if(0===h.length)e&&(e.Ya=f,e.Za=g,e.lb=!1,f=new pb("touchend",e.Y,e.da),f.target=e,e.dispatchEvent(f),
e.identifier=-1,Oa[d]=null);else for(var l=0,p=h.length;l<p;l++){var k=h[l];if(k.km){e&&e!=k&&(e.Ya=f,e.Za=g,e.lb=!1,h=new pb("touchRollOut",e.Y,e.da),h.target=e,e.dispatchEvent(h),e.identifier=-1);if(k.pd)break;k.Ya=f;k.Za=g;f=null;f=d===k.identifier?new pb("touchmove",k.Y,k.da):new pb("touchRollOver",k.Y,k.da);f.target=k;k.kf||(Oa[d]=k,k.identifier=d);k.dispatchEvent(f);break}}if(N)break}}}}
function If(a,b,c){a.Od&&a.Pd||(a.Od=b,a.Pd=c);var e=b-a.Od,d=c-a.Pd;a.Od=b;a.Pd=c;a.x+=e;a.y+=d;a.xl&&(a.x=b-a.width/2,a.y=c-a.height/2);if(b=a.Ok)0===b.width?a.x=b.x:a.x<b.x?a.x=b.x:a.x>b.x+b.width&&(a.x=b.x+b.width),0===b.height?a.y=b.y:a.y<b.y?a.y=b.y:a.y>b.y+b.height&&(a.y=b.y+b.height);b=new pb("touchmove",a.Y,a.da);b.target=a;a.dispatchEvent(b)}
function Bf(a){a.preventDefault();a.cancelBubble=!0;N&&(Hf=!0);var b=!1;if(!O&&ja){for(var c=0,e=H.length;c<e;c++){var d=H[c],f=Ba[d.id];f&&(f.hasFocus&&(f.text=d.value,f.K()),f.hasFocus=!1);jf(d)}ja=!1}if(Qa)for(c=0,f=a.changedTouches.length;c<f;c++){var g=a.changedTouches[c],d=g.identifier;if(!N||d===Gf)if(Sa[d]&&(Sa[d].we=!1),N)break}for(var h=!1,c=0,f=a.changedTouches.length;c<f;c++)if(g=a.changedTouches[c],d=g.identifier,!N||d===Gf){var b=!0,l=g.pageX/Ve,g=g.pageY/We;100>l&&window.scrollTo(0,
0);if(!Ke(d,l,g)){var p=Oa[d];delete Oa[d];if(p&&p.pd)if(p.identifier=-1,p.mb.touchend&&(p.Ya=l,p.Za=g,e=new pb("touchend",l,g),e.target=p,p.dispatchEvent(e)),p.lb&&(p.Ya=l,p.Za=g,e=new T("click",p.Y,p.da),e.target=p,p.dispatchEvent(e),p.lb=!1),N)break;else continue;else if(p&&p.kf){p.identifier=-1;p.kf=!1;var k=p.parent;k.mb.touchend&&(k.Ya=l,k.Za=g,e=new pb("touchend",l,g),e.target=k,k.dispatchEvent(e));if(p.lb&&p.mb.click)if(p.Ya=l,p.Za=g,e=new T("click",p.Y,p.da),e.target=p,p.dispatchEvent(e),
p.lb=!1,N)break;else continue}k=G.rc(l,g);for(e=k.length;0<e;){k=k[0];if(k.identifier!=d){p&&(p.Ya=l,p.Za=g,e=new pb("touchend",l,g),e.target=p,p.dispatchEvent(e),p.lb=!1,p.identifier=-1);break}k.identifier=-1;ca&&k.parent!=ca&&(ca.uj(),ca=null);k.mb.touchend&&(k.Ya=l,k.Za=g,e=new pb("touchend",k.Y,k.da),e.target=k,k.dispatchEvent(e));k.lb&&k.mb.click&&(k.Ya=l,k.Za=g,e=new T("click",k.Y,k.da),e.target=k,k.dispatchEvent(e),k.lb=!1);!O&&!h&&k.we&&(k.H||k.Ra)&&k.Ch&&k.ef&&(h=!0,d=gf(k.dh),hf(d,k),d.focus(),
l=document.createEvent("MouseEvents"),l.initEvent("click",!0,!0),d.dispatchEvent(l),a.stopPropagation());break}if(N)break}}if(!O&&!h){a=0;for(c=H.length;a<c;a++){d=H[a];if(f=Ba[d.id])f.hasFocus=!1;jf(d)}ja=!1}if(b){if(b=Oa[Gf])b.identifier=-1,delete Oa[Gf];Gf=-1}}
function Cf(a){a.preventDefault();a.cancelBubble=!0;ea.Ce();for(var b=0,c=a.changedTouches.length;b<c;b++){var e=a.changedTouches[b],d=e.identifier;if(!N||d===Gf){var f=e.pageX/Ve,e=e.pageY/We;Qa&&Sa[d]&&(Sa[d].we=!1);Ke(d,f,e);if(N){if(a=Oa[Gf])a.identifier=-1,delete Oa[Gf];Gf=-1;break}}}}function Jf(){Jf.b.call(this);this.Ja=null;return this}Jf.extend(R);Jf.register("JEffectCanvas");
var Cb=0,Kf=this.Mn||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c},Lf;
(function(a){(function(a){var b=function(){function a(b,c){"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=0);this.x=b;this.y=c}a.prototype.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};return a}();a.Oe=b;a.vn=function(){return function(a,b,c,e){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=0);"undefined"===typeof e&&(e=0);this.x=a;this.y=b;this.width=c;this.height=e}}();b=function(){function a(){this.Fa=1;this.Gd=this.Na=0;this.Id=
1;this.jc=this.yc=0}a.prototype.Oi=function(){var a=this.Fa,b=this.Na,c=this.Gd,e=this.Id,f=this.yc,d=a*e-b*c;this.Fa=e/d;this.Na=-b/d;this.Gd=-c/d;this.Id=a/d;this.yc=(c*this.jc-e*f)/d;this.jc=-(a*this.jc-b*f)/d};return a}();a.lk=b;a.fk=function(){return function(){this.vd=this.ud=this.od=this.nd=this.ld=this.kd=this.jd=this.Kb=0}}()})(a.dl||(a.dl={}));var b=a.dl;(function(a){var b=function(){return function(a){this.type=a}}();a.gn=b;var c=function(a){function b(c){a.call(this,c)}Kf(b,a);b.nr="fadeIn";
b.pr="fadeOut";b.Qr="start";b.Nh="complete";b.Ir="loopComplete";b.or="fadeInComplete";b.qr="fadeOutComplete";return b}(b);a.br=c;c=function(a){function b(c){a.call(this,c)}Kf(b,a);b.cs="zOrderUpdated";return b}(b);a.fr=c;c=function(a){function b(c){a.call(this,c)}Kf(b,a);b.Wj="animationFrameEvent";b.Mh="boneFrameEvent";return b}(b);a.Le=c;b=function(a){function b(c){a.call(this,c)}Kf(b,a);b.Og="sound";b.Mh="boneFrameEvent";return b}(b);a.Re=b;b=function(){function a(){}a.prototype.Xc=function(a){return this.fd&&
this.fd[a]?!0:!1};a.prototype.addEventListener=function(a,b){if(a&&b){this.fd||(this.fd={});var c=this.fd[a];c&&this.removeEventListener(a,b);c?c.push(b):this.fd[a]=[b]}};a.prototype.removeEventListener=function(a,b){if(this.fd&&a&&b){var c=this.fd[a];if(c)for(var e=c.length,f=0;f<e;f++)c[f]==b&&(1==e?(c.length=0,delete this.fd[a]):c.splice(f,1))}};a.prototype.dispatchEvent=function(a){if(a){var b=this.fd[a.type];if(b){a.target=this;for(var c=b.concat(),b=b.length,e=0;e<b;e++)c[e](a)}}};return a}();
a.gk=b;b=function(a){function b(){a.call(this);if(b.fi)throw Error("Singleton already constructed!");}Kf(b,a);b.Ki=function(){b.fi||(b.fi=new b);return b.fi};return b}(b);a.sk=b})(a.mb||(a.mb={}));var c=a.mb;(function(a){var c=function(){function a(){this.time=0.001*(new Date).getTime();this.Se=[]}a.prototype.contains=function(a){return 0<=this.Se.indexOf(a)};a.prototype.add=function(a){a&&-1==this.Se.indexOf(a)&&this.Se.push(a)};a.prototype.remove=function(a){a=this.Se.indexOf(a);0<=a&&(this.Se[a]=
null)};a.prototype.clear=function(){this.Se.length=0};a.os=new a;return a}();a.bs=c;var e=function(){function a(){this.transform=new d.Bd;this.T=new b.Oe;this.W=new d.Bd;this.Pc=new b.Oe;this.V=new b.fk}a.bi=function(){return 0==a.cb.length?new a:a.cb.pop()};a.Bk=function(b){0>a.cb.indexOf(b)&&(a.cb[a.cb.length]=b);b.clear()};a.Rn=function(){for(var b=a.cb.length;b--;)a.cb[b].clear();a.cb.length=0};a.hl=function(b,c){if(1<c){var e=0.5*(1-Math.cos(b*Math.PI))-b;c-=1}else 0<c?e=Math.sin(b*a.kk)-b:0>
c&&(e=1-Math.cos(b*a.kk)-b,c*=-1);return e*c+b};a.prototype.Gi=function(a,b,c){this.mc=a;this.vb=b;this.jb=c;this.Jb=this.jb.Ml;this.fe=this.jb.Ll;this.Ed=this.Pf=!1;this.Fk=this.vb.totalTime;this.transform.x=0;this.transform.y=0;this.transform.n=0;this.transform.o=0;this.transform.s=0;this.transform.t=0;this.T.x=0;this.T.y=0;this.W.x=0;this.W.y=0;this.W.n=0;this.W.o=0;this.W.s=0;this.W.t=0;this.Pc.x=0;this.Pc.y=0;this.r=null;switch(this.jb.Wb.length){case 0:this.mc.Kf(null,this,this.vb,!1);this.ge=
0;break;case 1:this.ge=-1;break;default:this.ge=1}};a.prototype.ff=function(){this.transform.s=f.Pg.Ob(this.transform.s);this.transform.t=f.Pg.Ob(this.transform.t)};a.prototype.update=function(b){if(this.ge)if(0<this.ge){b=0==this.jb.scale?1:b/this.jb.scale;1==b&&(b=0.99999999);b+=this.jb.offset;var c=Math.floor(b);b-=c;for(var e=this.Fk*b,d=!1,g;!this.r||e>this.Rg+this.ci||e<this.Rg;)d&&this.mc.Kf(this.r,this,this.vb,!0),d=!0,this.r?(g=this.jb.Wb.indexOf(this.r)+1,g>=this.jb.Wb.length&&(g=0),this.r=
this.jb.Wb[g]):(g=0,this.r=this.jb.Wb[0]),this.ci=this.r.duration,this.Rg=this.r.position;d&&(g++,g>=this.jb.Wb.length&&(g=0),d=this.jb.Wb[g],0==g&&this.vb.loop&&this.vb.Bp>=Math.abs(this.vb.loop)-1&&0.99999999<((this.Rg+this.ci)/this.Fk+c-this.jb.offset)*this.jb.scale?(this.ge=0,this.Yg=NaN):this.Yg=0>this.r.eh||0>d.eh||!this.vb.Lh?NaN:isNaN(this.vb.clip.wd)?this.r.wd:this.vb.clip.wd,isNaN(this.Yg)?this.Ed=this.Pf=!1:(this.W.x=d.transform.x-this.r.transform.x,this.W.y=d.transform.y-this.r.transform.y,
this.W.s=d.transform.s-this.r.transform.s,this.W.t=d.transform.t-this.r.transform.t,this.W.n=d.transform.n-this.r.transform.n,this.W.o=d.transform.o-this.r.transform.o,0==g&&(this.W.s=f.Pg.Ob(this.W.s),this.W.t=f.Pg.Ob(this.W.t)),this.Pc.x=d.T.x-this.r.T.x,this.Pc.y=d.T.y-this.r.T.y,this.Pf=0!=this.W.x||0!=this.W.y||0!=this.W.s||0!=this.W.t||0!=this.W.n||0!=this.W.o||0!=this.Pc.x||0!=this.Pc.y?!0:!1,this.r.color&&d.color?(this.V.jd=d.color.jd-this.r.color.jd,this.V.vd=d.color.vd-this.r.color.vd,this.V.od=
d.color.od-this.r.color.od,this.V.ld=d.color.ld-this.r.color.ld,this.V.Kb=d.color.Kb-this.r.color.Kb,this.V.ud=d.color.ud-this.r.color.ud,this.V.nd=d.color.nd-this.r.color.nd,this.V.kd=d.color.kd-this.r.color.kd,this.Ed=0!=this.V.jd||0!=this.V.vd||0!=this.V.od||0!=this.V.ld||0!=this.V.Kb||0!=this.V.ud||0!=this.V.nd||0!=this.V.kd?!0:!1):this.r.color?(this.Ed=!0,this.V.jd=-this.r.color.jd,this.V.vd=-this.r.color.vd,this.V.od=-this.r.color.od,this.V.ld=-this.r.color.ld,this.V.Kb=1-this.r.color.Kb,this.V.ud=
1-this.r.color.ud,this.V.nd=1-this.r.color.nd,this.V.kd=1-this.r.color.kd):d.color?(this.Ed=!0,this.V.jd=d.color.jd,this.V.vd=d.color.vd,this.V.od=d.color.od,this.V.ld=d.color.ld,this.V.Kb=d.color.Kb-1,this.V.ud=d.color.ud-1,this.V.nd=d.color.nd-1,this.V.kd=d.color.kd-1):this.Ed=!1),this.Pf||(this.vb.ti?(this.transform.x=this.Jb.x+this.r.transform.x,this.transform.y=this.Jb.y+this.r.transform.y,this.transform.s=this.Jb.s+this.r.transform.s,this.transform.t=this.Jb.t+this.r.transform.t,this.transform.n=
this.Jb.n+this.r.transform.n,this.transform.o=this.Jb.o+this.r.transform.o,this.T.x=this.fe.x+this.r.T.x,this.T.y=this.fe.y+this.r.T.y):(this.transform.x=this.r.transform.x,this.transform.y=this.r.transform.y,this.transform.s=this.r.transform.s,this.transform.t=this.r.transform.t,this.transform.n=this.r.transform.n,this.transform.o=this.r.transform.o,this.T.x=this.r.T.x,this.T.y=this.r.T.y)),this.Ed||(this.r.color?this.mc.Ve(this.r.color.Kb,!0):this.mc.gi&&this.mc.Ve(1,!1)),this.mc.Kf(this.r,this,
this.vb,!1));if(this.Pf||this.Ed)b=(e-this.Rg)/this.ci,this.Yg&&(b=a.hl(b,this.Yg));this.Pf&&(c=this.r.transform,e=this.r.T,this.vb.ti?(this.transform.x=this.Jb.x+c.x+this.W.x*b,this.transform.y=this.Jb.y+c.y+this.W.y*b,this.transform.s=this.Jb.s+c.s+this.W.s*b,this.transform.t=this.Jb.t+c.t+this.W.t*b,this.transform.n=this.Jb.n+c.n+this.W.n*b,this.transform.o=this.Jb.o+c.o+this.W.o*b,this.T.x=this.fe.x+e.x+this.Pc.x*b,this.T.y=this.fe.y+e.y+this.Pc.y*b):(this.transform.x=c.x+this.W.x*b,this.transform.y=
c.y+this.W.y*b,this.transform.s=c.s+this.W.s*b,this.transform.t=c.t+this.W.t*b,this.transform.n=c.n+this.W.n*b,this.transform.o=c.o+this.W.o*b,this.T.x=e.x+this.Pc.x*b,this.T.y=e.y+this.Pc.y*b));this.Ed&&(this.r.color?this.mc.Ve(this.r.color.Kb+this.V.Kb*b,!0):this.mc.Ve(1+this.V.Kb*b,!0))}else this.ge=0,this.vb.ti?(this.transform.Uc(this.Jb),this.T.x=this.fe.x,this.T.y=this.fe.y):(this.transform.x=this.transform.y=this.transform.s=this.transform.t=this.transform.n=this.transform.o=0,this.T.x=0,this.T.y=
0),this.r=this.jb.Wb[0],this.r.color?this.mc.Ve(this.r.color.Kb,!0):this.mc.Ve(1,!1),this.mc.Kf(this.r,this,this.vb,!1)};a.prototype.clear=function(){this.ge=0;this.fe=this.Jb=this.r=this.jb=this.vb=this.mc=null};a.kk=0.5*Math.PI;a.cb=[];return a}();a.In=e;var g=function(){function a(){this.Xi=this.loop=0;this.gd={}}a.bi=function(){return 0==a.cb.length?new a:a.cb.pop()};a.Bk=function(b){0>a.cb.indexOf(b)&&(a.cb[a.cb.length]=b);b.clear()};a.Rn=function(){for(var b=a.cb.length;b--;)a.cb[b].clear();
a.cb.length=0};a.prototype.Gi=function(a,b,c,e,d,f,g){this.Xi=f;this.clip=b;this.name=this.clip.name;this.totalTime=this.clip.duration;this.Te=a;2>Math.round(this.clip.duration*this.clip.bl)||Infinity==e?(this.currentTime=this.totalTime,this.loop=0<=this.loop?1:-1):(this.currentTime=0,this.loop=d);this.yk=-1;this.Tn=0;this.Bp=-1;this.Tk=g;this.kh=!0;this.weight=1;this.Lh=this.Ca=this.ti=!0;this.Sq()};a.prototype.ff=function(a,b){"undefined"===typeof b&&(b=!1);if(this.Te&&!(0<=this.yk)){this.yk=this.Tn;
this.kh=!b;this.Tk=!1;for(var c in this.gd)this.gd[c].ff();this.Ca=!0}};a.prototype.play=function(){this.kh=!0};a.prototype.stop=function(){this.kh=!1};a.prototype.Sq=function(){if(this.ii){for(var a in this.gd)null==this.ii[a]&&this.Ul(a);for(a in this.ii)this.gd[a]||this.Ik(a)}else for(a in this.clip.li)this.gd[a]||this.Ik(a)};a.prototype.Ik=function(a){var b=this.Te.fl(a);if(b){var c=e.bi();c.Gi(b,this,this.clip.hh(a));this.gd[a]=c}};a.prototype.Ul=function(a){e.Bk(this.gd[a]);delete this.gd[a]};
a.prototype.clear=function(){this.clip=null;this.Ca=!1;this.ii=this.r=this.Te=null;for(var a in this.gd)this.Ul(a)};a.cb=[];return a}();a.cr=g;c=function(){function a(b){this.Te=b;this.Nc=[];this.Ug=!1;this.Lh=!0}a.prototype.np=function(){return this.Qc?this.Qc.name:null};a.prototype.Md=function(b,c,e,d,f,k,h,p,q,l){"undefined"===typeof c&&(c=-1);"undefined"===typeof e&&(e=-1);"undefined"===typeof d&&(d=NaN);"undefined"===typeof f&&(f=0);"undefined"===typeof k&&(k=null);"undefined"===typeof h&&(h=
a.yn);"undefined"===typeof p&&(p=!0);"undefined"===typeof q&&(q=!0);"undefined"===typeof l&&(l=!0);if(!this.Vb)return null;for(var m=this.Vb.length,F;m--;)if(this.Vb[m].name==b){F=this.Vb[m];break}if(!F)return null;this.Ug=!0;c=0>c?0>F.Hi?0.3:F.Hi:c;e=0>e?0>F.scale?1:F.scale:e/F.duration;d=isNaN(d)?F.loop:d;f=this.oi(f);var A;switch(h){case a.NONE:break;case a.xn:A=this.Nc[f];for(m=A.length;m--;)h=A[m],h.ff(c,q);break;case a.wn:for(ka=this.Nc.length;ka--;)for(A=this.Nc[ka],m=A.length;m--;)h=A[m],
h.group==k&&h.ff(c,q);break;case a.vm:for(var ka=this.Nc.length;ka--;)for(A=this.Nc[ka],m=A.length;m--;)h=A[m],h.ff(c,q);break;default:for(A=this.Nc[f],m=A.length;m--;)h=A[m],h.group==k&&h.ff(c,q)}this.Qc=g.bi();this.Qc.group=k;this.Qc.Lh=this.Lh;this.Qc.Gi(this.Te,F,c,1/e,d,f,p,l);this.ro(this.Qc);d=this.Te.Ue;for(m=d.length;m--;)f=d[m],(f=f.Ji())&&f.oc.Md(b,c);return this.Qc};a.prototype.play=function(){this.Vb&&0!=this.Vb.length&&(this.Qc?this.Ug?this.Md(this.Qc.name):this.Ug=!0:this.Md(this.Vb[0].name))};
a.prototype.stop=function(){this.Ug=!1};a.prototype.up=function(a){for(var b=this.Vb.length;b--;)if(this.Vb[b].name==a)return!0;return!1};a.prototype.oi=function(a){a>=this.Nc.length&&(a=this.Nc.length,this.Nc[a]=[]);return a};a.prototype.ro=function(a){this.Nc[a.Xi].push(a)};a.NONE="none";a.xn="sameLayer";a.wn="sameGroup";a.yn="sameLayerAndGroup";a.vm="all";return a}();a.Zm=c})(a.oc||(a.oc={}));var e=a.oc;(function(a){var c=function(){function a(){this.t=this.s=this.y=this.x=0;this.o=this.n=1}a.prototype.Sb=
function(a){this.s=this.t=a};a.prototype.Uc=function(a){this.x=a.x;this.y=a.y;this.s=a.s;this.t=a.t;this.n=a.n;this.o=a.o};a.prototype.toString=function(){return"[DBTransform (x="+this.x+" y="+this.y+" skewX="+this.s+" skewY="+this.t+" scaleX="+this.n+" scaleY="+this.o+")]"};return a}();a.Bd=c;var e=function(){return function(){this.duration=this.position=0}}();a.sr=e;var d=function(a){function e(){a.call(this);this.eh=this.xd=this.wd=0;this.Ad=NaN;this.visible=!0;this.global=new c;this.transform=
new c;this.T=new b.Oe}Kf(e,a);return e}(e);a.$r=d;var g=function(){function a(){this.Wb=[];this.duration=0;this.scale=1}a.prototype.no=function(a){if(!a)throw Error();if(0>this.Wb.indexOf(a))this.Wb[this.Wb.length]=a;else throw Error();};return a}();a.Zr=g;var h=function(a){function e(){a.call(this);this.Ml=new c;this.Ll=new b.Oe;this.offset=0;this.Sj=!1}Kf(e,a);e.ln=new e;return e}(g);a.Jn=h;var p=function(a){function b(){a.call(this);this.loop=this.bl=0;this.wd=NaN;this.Hi=0;this.li={}}Kf(b,a);
b.prototype.hh=function(a){return this.li[a]};b.prototype.Hk=function(a,b){if(!a)throw Error();this.li[b]=a};return b}(g);a.ar=p;var l=function(){function a(){this.transform=new c}a.Xj="armature";a.zr="image";return a}();a.mr=l;var u=function(){function a(){this.di=[];this.Ad=0}a.prototype.mo=function(a){if(!a)throw Error();if(0>this.di.indexOf(a))this.di[this.di.length]=a;else throw Error();};return a}();a.Ur=u;var x=function(){return function(){this.length=0;this.global=new c;this.transform=new c}}();
a.ir=x;var y=function(){function a(){this.Wg=[]}a.prototype.qo=function(a){if(!a)throw Error();if(0>this.Wg.indexOf(a))this.Wg[this.Wg.length]=a;else throw Error();};return a}();a.Sr=y;var E=function(){function a(){this.nc=[];this.Vg=[];this.Vb=[]}a.prototype.gl=function(a){for(var b=this.nc.length;b--;)if(this.nc[b].name==a)return this.nc[b];return null};a.prototype.sp=function(){return this.Vg[0]};a.prototype.lo=function(a){if(!a)throw Error();if(0>this.nc.indexOf(a))this.nc[this.nc.length]=a;else throw Error();
};a.prototype.po=function(a){if(!a)throw Error();if(0>this.Vg.indexOf(a))this.Vg[this.Vg.length]=a;else throw Error();};a.prototype.io=function(a){if(!a)throw Error();0>this.Vb.indexOf(a)&&(this.Vb[this.Vb.length]=a)};a.prototype.Dq=function(){var a=this.nc.length;if(0!=a){for(var b=[];a--;){for(var c=this.nc[a],e=0,d=c;d&&d.parent;)e++,d=this.gl(d.parent);b[a]={jg:e,Jo:c}}b.sort(this.Cq);for(a=b.length;a--;)this.nc[a]=b[a].Jo}};a.prototype.Cq=function(a,b){return a.jg>b.jg?1:-1};return a}();a.er=
E;var I=function(){function a(){this.ai=[];this.Dk={}}a.prototype.jo=function(a){if(!a)throw Error();if(0>this.ai.indexOf(a))this.ai[this.ai.length]=a;else throw Error();};a.prototype.so=function(a){var c=this.Dk[a];c?(c.x=0,c.y=0):this.Dk[a]=c=new b.Oe(0,0);return c};return a}();a.Rr=I;g=function(){function a(){}a.jq=function(a,c){"undefined"===typeof c&&(c=1);if(!a)throw Error();var e={};e.Zh=a[f.q.Mc];var d=a[f.q.Cn],g;for(g in d){var h=d[g],k=h[f.q.Mc],h=new b.vn(Number(h[f.q.ak])/c,Number(h[f.q.bk])/
c,Number(h[f.q.Ym])/c,Number(h[f.q.Im])/c);e[k]=h}return e};a.bt=function(b){if(!b)throw Error();var c=Number(b[f.q.Fm]),e=new I;e.name=b[f.q.Mc];b=b[f.q.Xj];for(var d in b)e.jo(a.cq(b[d],e,c));return e};a.cq=function(b,c,e){var d=new E;d.name=b[f.q.Mc];var g=b[f.q.$m],h;for(h in g)d.lo(a.dq(g[h]));g=b[f.q.zn];for(h in g)d.po(a.hq(g[h],c));f.Oh.Mq(d);d.Dq();b=b[f.q.wm];for(h in b)d.io(a.bq(b[h],d,e));return d};a.dq=function(b){var c=new x;c.name=b[f.q.Mc];c.parent=b[f.q.Zj];c.length=Number(b[f.q.Km])||
0;a.vj(b[f.q.Yh],c.global);c.transform.Uc(c.global);return c};a.hq=function(b,c){var e=new y;e.name=b[f.q.Mc];var d=b[f.q.An],g;for(g in d)e.qo(a.iq(d[g],c));return e};a.iq=function(b,c){var e=new u;e.name=b[f.q.Mc];e.parent=b[f.q.Zj];e.Ad=Number(b[f.q.ck]);var d=b[f.q.en],g;for(g in d)e.mo(a.fq(d[g],c));return e};a.fq=function(b,c){var e=new l;e.name=b[f.q.Mc];e.type=b[f.q.Xm];e.T=c.so(e.name);a.vj(b[f.q.Yh],e.transform,e.T);return e};a.bq=function(b,c,e){var d=new p;d.name=b[f.q.Mc];d.bl=e;d.loop=
Number(b[f.q.Lm])||0;d.Hi=Number(b[f.q.Em]);d.duration=Number(b[f.q.Yj])/e;d.scale=Number(b[f.q.$j]);if(b.hasOwnProperty(f.q.Jg)){var g=b[f.q.Jg];d.wd=void 0==g||null==g?NaN:Number(g)}else d.wd=NaN;a.Ql(b,d,a.gq,e);var h,g=b[f.q.Dn],k;for(k in g)h=g[k],b=a.lq(h,d.duration,e),h=h[f.q.Mc],d.Hk(b,h);f.Oh.oo(d,c);f.Oh.mm(d,c);return d};a.Ql=function(a,b,c,e){var d=0,g;a=a[f.q.hn];for(var h in a)g=c(a[h],e),g.position=d,b.no(g),d+=g.duration;g&&(g.duration=b.duration-g.position)};a.lq=function(b,c,e){var d=
new h;d.duration=c;a.Ql(b,d,a.kq,e);d.scale=Number(b[f.q.$j]);d.offset=Number(b[f.q.Mm]);return d};a.Pl=function(a,b,c){b.duration=Number(a[f.q.Yj])/c;b.action=a[f.q.xm];b.event=a[f.q.Dm];b.wf=a[f.q.Vm]};a.gq=function(b,c){var d=new e;a.Pl(b,d,c);return d};a.kq=function(c,e){var g=new d;a.Pl(c,g,e);g.visible=1!=Number(c[f.q.Jm]);if(c.hasOwnProperty(f.q.Jg)){var h=c[f.q.Jg];g.wd=void 0==h||null==h?NaN:Number(h)}else g.wd=0;g.xd=Number(c[f.q.Wm])||0;g.eh=Number(c[f.q.Cm])||0;g.Ad=Number(c[f.q.ck])||
0;a.vj(c[f.q.Yh],g.global,g.T);g.transform.Uc(g.global);if(h=c[f.q.bn])g.color=new b.fk,g.color.jd=Number(h[f.q.zm]),g.color.vd=Number(h[f.q.Qm]),g.color.od=Number(h[f.q.Hm]),g.color.ld=Number(h[f.q.Bm]),g.color.Kb=0.01*Number(h[f.q.ym]),g.color.ud=0.01*Number(h[f.q.Pm]),g.color.nd=0.01*Number(h[f.q.Gm]),g.color.kd=0.01*Number(h[f.q.Am]);return g};a.vj=function(a,b,c){"undefined"===typeof c&&(c=null);a&&(b&&(b.x=Number(a[f.q.ak]),b.y=Number(a[f.q.bk]),b.s=Number(a[f.q.Tm])*f.q.Vj,b.t=Number(a[f.q.Um])*
f.q.Vj,b.n=Number(a[f.q.Rm]),b.o=Number(a[f.q.Sm])),c&&(c.x=Number(a[f.q.Nm]),c.y=Number(a[f.q.Om])))};return a}();a.fn=g})(a.Fc||(a.Fc={}));var d=a.Fc;(function(a){var b=function(a){function b(){a.call(this)}Kf(b,a);return b}(c.gk);a.an=b})(a.Fi||(a.Fi={}));(function(a){var c=function(){function a(){}a.Vj=Math.PI/180;a.lr="dragonBones";a.Xj="armature";a.zn="skin";a.$m="bone";a.An="slot";a.en="display";a.wm="animation";a.Dn="timeline";a.hn="frame";a.Yh="transform";a.bn="colorTransform";a.Yr="TextureAtlas";
a.Cn="SubTexture";a.$q="version";a.Zq="imagePath";a.Fm="frameRate";a.Mc="name";a.Zj="parent";a.Km="length";a.Xm="type";a.Em="fadeInTime";a.Yj="duration";a.$j="scale";a.Mm="offset";a.Lm="loop";a.Dm="event";a.Vm="sound";a.xm="action";a.Jm="hide";a.Jg="tweenEasing";a.Wm="tweenRotate";a.Cm="displayIndex";a.ck="z";a.Ym="width";a.Im="height";a.ak="x";a.bk="y";a.Tm="skX";a.Um="skY";a.Rm="scX";a.Sm="scY";a.Nm="pX";a.Om="pY";a.zm="aO";a.Qm="rO";a.Hm="gO";a.Bm="bO";a.ym="aM";a.Pm="rM";a.Gm="gM";a.Am="bM";return a}();
a.q=c;var f=function(){function a(){}a.nm=function(b,c){var e=a.Un;a.Nq(c,e);e.Oi();var d=b.x,f=b.y;b.x=e.Fa*d+e.Gd*f+e.yc;b.y=e.Id*f+e.Na*d+e.jc;b.s=a.Ob(b.s-c.s);b.t=a.Ob(b.t-c.t)};a.Nq=function(a,b){b.Fa=a.n*Math.cos(a.t);b.Na=a.n*Math.sin(a.t);b.Gd=-a.o*Math.sin(a.s);b.Id=a.o*Math.cos(a.s);b.yc=a.x;b.jc=a.y};a.Ob=function(b){b%=a.Ph;b>Math.PI&&(b-=a.Ph);b<-Math.PI&&(b+=a.Ph);return b};a.Ph=2*Math.PI;a.Un=new b.lk;return a}();a.Pg=f;c=function(){function a(){}a.Mq=function(a){for(var b=a.nc,c=
b.length,e,d;c--;)if(e=b[c],e.parent&&(d=a.gl(e.parent)))e.transform.Uc(e.global),f.nm(e.transform,d.global)};a.ot=function(b){for(var c=b.Vb,e=c.length;e--;)a.mm(c[e],b)};a.mm=function(b,c){for(var e=c.nc,d=c.sp().Wg,g=e.length,h,k,p,l,m,J,X,F,A,ka;g--;)if(h=e[g],k=b.hh(h.name)){p=null;for(var Cg in d)if(p=d[Cg],p.parent==h.name)break;l=h.parent?b.hh(h.parent):null;m=k.Wb;F=X=J=null;ka=m.length;for(var de=0;de<ka;de++){A=m[de];l?(a.ei.Uc(A.global),a.tp(l,A.position,a.zk),f.nm(a.ei,a.zk),A.transform.Uc(a.ei)):
A.transform.Uc(A.global);A.transform.x-=h.transform.x;A.transform.y-=h.transform.y;A.transform.s-=h.transform.s;A.transform.t-=h.transform.t;A.transform.n-=h.transform.n;A.transform.o-=h.transform.o;!k.Sj&&p&&(A.Ad-=p.Ad);J||(J=k.Ml,J.Uc(A.transform),J.s=f.Ob(J.s),J.t=f.Ob(J.t),X=k.Ll,X.x=A.T.x,X.y=A.T.y);A.transform.x-=J.x;A.transform.y-=J.y;A.transform.s=f.Ob(A.transform.s-J.s);A.transform.t=f.Ob(A.transform.t-J.t);A.transform.n-=J.n;A.transform.o-=J.o;k.Sj||(A.T.x-=X.x,A.T.y-=X.y);if(F){var Df=
A.transform.s-F.transform.s;F.xd?0<F.xd?(0>Df&&(A.transform.s+=2*Math.PI,A.transform.t+=2*Math.PI),1<F.xd&&(A.transform.s+=2*Math.PI*(F.xd-1),A.transform.t+=2*Math.PI*(F.xd-1))):(0<Df&&(A.transform.s-=2*Math.PI,A.transform.t-=2*Math.PI),1>F.xd&&(A.transform.s+=2*Math.PI*(F.xd+1),A.transform.t+=2*Math.PI*(F.xd+1))):(A.transform.s=F.transform.s+f.Ob(A.transform.s-F.transform.s),A.transform.t=F.transform.t+f.Ob(A.transform.t-F.transform.t))}F=A}k.Sj=!0}};a.tp=function(a,b,c){for(var d=a.Wb,g=d.length,
h;g--;)if(a=d[g],a.position<=b&&a.position+a.duration>b){h=a.wd;g==d.length-1||isNaN(h)||b==a.position?c.Uc(a.global):(b=(b-a.position)/a.duration,h&&(b=e.In.hl(b,h)),d=d[g+1],c.x=a.global.x+(d.global.x-a.global.x)*b,c.y=a.global.y+(d.global.y-a.global.y)*b,c.s=f.Ob(a.global.s+(d.global.s-a.global.s)*b),c.t=f.Ob(a.global.t+(d.global.t-a.global.t)*b),c.n=a.global.n+(d.global.n-a.global.n)*b,c.o=a.global.o+(d.global.o-a.global.o)*b);break}};a.oo=function(a,b){for(var c=b.nc,e=c.length,f;e--;)f=c[e],
f=f.name,a.hh(f)||a.Hk(d.Jn.ln,f)};a.ei=new d.Bd;a.zk=new d.Bd;return a}();a.Oh=c})(a.tm||(a.tm={}));var f=a.tm,g=function(){function a(){this.global=new d.Bd;this.origin=new d.Bd;this.offset=new d.Bd;this.om=new d.Bd;this.om.n=this.om.o=0;new b.lk;this.hd=!0;this.gi=!1}a.prototype.jl=function(){return this.hd};a.prototype.dd=function(a){this.hd=a};a.prototype.Ck=function(a){this.parent=a};a.prototype.Dd=function(a){this.wa&&this.wa.co(this);(this.wa=a)&&this.wa.On(this)};return a}();a.kr=g;var h=
function(a){function b(c){a.call(this);this.Oc=c;this.Lf=[];this.Cd=-1;this.Gk=0;this.Mf=!1}Kf(b,a);b.prototype.Wc=function(){var a=this.Lf[this.Cd];return a instanceof p?a.Wc():a};b.prototype.Bj=function(a){this.Lf[this.Cd]=a;this.ki(a)};b.prototype.Ji=function(){var a=this.Lf[this.Cd];return a instanceof p?a:null};b.prototype.ki=function(a){this.Oc.Wc()?this.Oc.Bj(a):(this.Oc.Bj(a),this.wa&&(this.Oc.Zg(this.wa.Wc(),-1),this.wa.Xg=!0));this.Tj()};b.prototype.uk=function(a){if(0>a)this.Mf||(this.Mf=
!0,this.Oc.yj(),this.Tj());else{if(this.Mf){this.Mf=!1;var b=!0;this.wa&&(this.Oc.Zg(this.wa.Wc(),-1),this.wa.Xg=!0)}var c=this.Lf.length;a>=c&&0<c&&(a=c-1);this.Cd!=a?(this.Cd=a,a=this.Lf[this.Cd],a instanceof p?this.ki(a.Wc()):this.ki(a),this.vk&&this.Cd<=this.vk.length&&this.origin.Uc(this.vk[this.Cd].transform)):b&&this.Tj()}};b.prototype.dd=function(a){a!=this.hd&&(this.hd=a,this.mi(this.hd))};b.prototype.Dd=function(b){a.prototype.Dd.call(this,b);this.wa?(this.wa.Xg=!0,this.Oc.Zg(this.wa.Wc(),
-1)):this.Oc.yj()};b.prototype.mi=function(a){this.Oc.dd(this.parent.jl()&&this.hd&&a)};b.prototype.Tj=function(){var a=this.Ji();if(a)if(this.Mf)a.oc.stop(),a.oc.Qc=null;else{var b=this.wa?this.wa.oc.np():null;b&&a.oc.up(b)?a.oc.Md(b):a.oc.play()}};return b}(g);a.Tr=h;var l=function(a){function e(){a.call(this);this.Ac=[];new b.Oe}Kf(e,a);e.prototype.dd=function(a){if(this.hd!=a)for(this.hd=a,a=this.Ac.length;a--;){var b=this.Ac[a];b instanceof h&&b.mi(this.hd)}};e.prototype.Dd=function(b){a.prototype.Dd.call(this,
b);for(b=this.Ac.length;b--;)this.Ac[b].Dd(this.wa)};e.prototype.contains=function(a){if(!a)throw Error();if(a==this)return!1;for(;a!=this&&null!=a;)a=a.parent;return a==this};e.prototype.j=function(a){if(!a)throw Error();if(a==this||a instanceof e&&a.contains(this))throw Error("An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)");a.parent&&a.parent.removeChild(a);this.Ac[this.Ac.length]=a;a.Ck(this);a.Dd(this.wa);!this.Jc&&a instanceof h&&(this.Jc=
a)};e.prototype.removeChild=function(a){if(!a)throw Error();var b=this.Ac.indexOf(a);if(0<=b)this.Ac.splice(b,1),a.Ck(null),a.Dd(null),a==this.Jc&&(this.Jc=null);else throw Error();};e.prototype.Kf=function(a,b,d){if(a){if(mixingType=-1,!d.Tk||2!=mixingType&&-1!=mixingType||this.ap&&this.ap!=d.name||!this.Jc||(b=a.eh,0<=b&&!isNaN(a.Ad)&&a.Ad!=this.Jc.Gk&&(this.Jc.Gk=a.Ad,this.wa.Xg=!0),this.Jc.uk(b),this.Jc.mi(a.visible)),a.event&&this.wa.Xc(c.Le.Mh)&&(b=new c.Le(c.Le.Mh),b.Nk=this,b.pi=d,b.jp=a.event,
this.wa.xk.push(b)),a.wf&&e.Of.Xc(c.Re.Og)&&(b=new c.Re(c.Re.Og),b.wa=this.wa,b.pi=d,b.wf=a.wf,e.Of.dispatchEvent(b)),a.action)for(var f in this.Ac)this.Ac[f]instanceof h&&(d=this.Ac[f].Ji())&&d.oc.Md(a.action)}else this.Jc&&this.Jc.uk(-1)};e.prototype.Ve=function(a,b){(b||this.gi)&&this.Jc.Oc.Qq(a);this.gi=b};e.Of=c.sk.Ki();return e}(g);a.hr=l;var p=function(a){function b(c){a.call(this);this.oc=new e.Zm(this);this.Ba=c;this.Xg=!1;this.Ue=[];this.zc=[];this.xk=[]}Kf(b,a);b.prototype.Wc=function(){return this.Ba};
b.prototype.fl=function(a){for(var b=this.zc.length;b--;)if(this.zc[b].name==a)return this.zc[b];return null};b.prototype.j=function(a,b){if(!a)throw Error();if(b){var c=this.fl(b);if(c)c.j(a);else throw Error();}else a.parent&&a.parent.removeChild(a),a.Dd(this)};b.prototype.On=function(a){a instanceof h?0>this.Ue.indexOf(a)&&(this.Ue[this.Ue.length]=a):a instanceof l&&0>this.zc.indexOf(a)&&(this.zc[this.zc.length]=a,this.eo())};b.prototype.co=function(a){a instanceof h?(a=this.Ue.indexOf(a),0<=a&&
this.Ue.splice(a,1)):a instanceof l&&(a=this.zc.indexOf(a),0<=a&&this.zc.splice(a,1))};b.prototype.eo=function(){var a=this.zc.length;if(0!=a){for(var b=[],c,e,d;a--;){c=0;for(d=e=this.zc[a];d;)c++,d=d.parent;b[a]={jg:c,Nk:e}}b.sort(this.Bq);for(a=b.length;a--;)this.zc[a]=b[a].Nk}};b.prototype.Kf=function(a,e,d){a.event&&this.Xc(c.Le.Wj)&&(e=new c.Le(c.Le.Wj),e.pi=d,e.jp=a.event,this.xk.push(e));a.wf&&b.Of.Xc(c.Re.Og)&&(e=new c.Re(c.Re.Og),e.wa=this,e.pi=d,e.wf=a.wf,b.Of.dispatchEvent(e));a.action&&
d.kh&&this.oc.Md(a.action)};b.prototype.Bq=function(a,b){return a.jg<b.jg?1:-1};b.Of=c.sk.Ki();return b}(c.gk);a.dr=p})(Lf||(Lf={}));Kf=this.Mn||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);c.prototype=b.prototype;a.prototype=new c};
(function(a){(function(a){var c=function(){function a(){}a.prototype.jl=function(){return this.Ba?this.Ba.visible:!1};a.prototype.dd=function(a){this.Ba&&(this.Ba.visible=a)};a.prototype.Wc=function(){return this.Ba};a.prototype.Bj=function(a){if(this.Ba!=a){if(this.Ba){var b=this.Ba.parent;if(b)var c=this.Ba.parent.childList.indexOf(this.Ba);this.yj()}this.Ba=a;this.Zg(b,c)}};a.prototype.Qq=function(a){this.Ba&&(this.Ba.alpha=a)};a.prototype.Zg=function(a,b){a&&this.Ba&&(0>b?a.j(this.Ba):Ib(a,this.Ba,
Math.min(b,a.childList.length)))};a.prototype.yj=function(){this.Ba&&this.Ba.parent&&this.Ba.parent.removeChild(this.Ba)};a.Mr=180/Math.PI;return a}();a.Ar=c})(a.display||(a.display={}));(function(b){var c=function(){function b(a,c,e){"undefined"===typeof e&&(e=1);this.bo={};this.Jq=a;this.scale=e;this.eq(c)}b.prototype.eq=function(b){b=a.Fc.fn.jq(b,this.scale);this.name=b.Zh;delete b.Zh;for(var c in b)this.bo[c]=b[c]};return b}();b.Cr=c})(a.Kq||(a.Kq={}));(function(a){var c=function(a){function b(){a.call(this)}
Kf(b,a);return b}(a.an);a.Br=c})(a.Fi||(a.Fi={}))})(Lf||(Lf={}));function Mf(){Mf.b.call(this)}Mf.extend(Hb);Mf.register("DragonBonesContain");
Mf.prototype.l=function(a,b,c,e,d,f,g){var h=this.childList.length;if(this.pf){this.pf.Ha().uo(this.x+b,this.y+b,this.n*d,this.o*f,g,this.s,this.t,0,0);b=this.pf;a.transform(b.Fa,b.Na,b.Gd,b.Id,b.yc,b.jc);for(c=0;c<h;c++)(d=this.childList[c])&&d.visible&&0<d.alpha&&d.l(a,0,0,e,1,1,0);b.Oi();a.transform(b.Fa,b.Na,b.Gd,b.Id,b.yc,b.jc)}else{a.save();a.translate(b+this.x,c+this.y);a.rotate(this.rotation+g);a.scale(this.n*d,this.o*f);for(c=0;c<h;c++)(d=this.childList[c])&&d.visible&&0<d.alpha&&d.l(a,0,
0,e,1,1,0);a.restore()}};function Nf(){Nf.b.call(this);this.u=null;this.rotation=this.offsetHeight=this.offsetWidth=this.offsetY=this.offsetX=this.w=this.v=0;this.o=this.n=1;this.t=this.s=0;this.alpha=1;this.visible=!0;this.pf=null;this.Dh=1}Nf.extend(Bb);Nf.register("DragonBonesSharp");
Nf.prototype.l=function(a,b,c,e,d,f,g){c=this.u.Ib();this.pf?(this.pf.Ha().uo(this.x+b,this.y+b,this.n*d,this.o*f,g,this.s,this.t,0,0),b=this.pf,a.transform(b.Fa,b.Na,b.Gd,b.Id,b.yc,b.jc),a.drawImage(c,this.offsetX,this.offsetY,this.offsetWidth,this.offsetHeight,-this.v,-this.w,this.offsetWidth,this.offsetHeight),b.Oi(),a.transform(b.Fa,b.Na,b.Gd,b.Id,b.yc,b.jc)):(a.translate(this.x+b,this.y+b),a.rotate(this.rotation+g),a.scale(this.n*d*this.Dh,this.o*f*this.Dh),a.drawImage(c,this.offsetX,this.offsetY,
this.offsetWidth,this.offsetHeight,-this.v,-this.w,this.offsetWidth,this.offsetHeight),a.scale(1/(this.n*d*this.Dh),1/(this.o*f*this.Dh)),a.rotate(-this.rotation-g),a.translate(-this.x-b,-this.y-b))};
this.Vh=function(){var a=this.document,b=function d(){return d.Uq.apply(d,arguments)};b.g={};(function(){b.aa=function(a,b,c,h){var l={x:0,y:0,qa:0,ta:0};return void 0===a?l:(a&&void 0!==a.x&&(c=b.x,h=b.y,b=a.y,a=a.x),void 0===h&&void 0!==a&&void 0!==b?(l.qa=0.5*a,l.ta=0.5*b,c&&void 0!==c.x&&(l.x=c.x,l.y=c.y),l):(l.qa=0.5*Math.abs(c-a),l.ta=0.5*Math.abs(h-b),l.x=0.5*(c+a),l.y=0.5*(h+b),l))};b.aa.contains=function(a,b){return b.x>a.x-a.qa&&b.x<a.x+a.qa&&b.y>a.y-a.ta&&b.y<a.y+a.ta};b.aa.d=function(a){return{x:a.x,
y:a.y,qa:a.qa,ta:a.ta}};b.aa.cd=function(a,b){var c=a.x-a.qa,h=b.x-b.qa,l=a.x+a.qa,p=b.x+b.qa;return l>=h&&p>=l||p>=c&&l>=p?(c=a.y-a.ta,h=b.y-b.ta,l=a.y+a.ta,p=b.y+b.ta,l>=h&&p>=l||p>=c&&l>=p):!1}})();(function(){function a(b,c,d){var l=c.bd()-c.Lb(b),p=c.Lb(b)-b.bd();return 0>l?d.d(c).uc():0<p?d.d(b).uc():(d.d(c).P(b),d.Td(0<b.Vc(d)))}b.kl=function(c,g,h){var l,p,k,m=!1,q=!1,v=!1,r=[],s=1,w=b.ka(),t=w.h().d(g||b.h.axis[0]),u=w.h(),x=w.h(),y=w.h(),E=w.h(),I=0;g=c(t);r.push(g);u.d(g.Ud);for(t.uc();++I;){if(u.Je(x),
g=c(t),s=r.push(g),u.d(g.Ud),u.Ld(b.h.ub)){m=!0;break}if(!q&&0>=u.Lb(t)){if(h)break;q=!0}if(2===s)t=a(u,x,t);else if(q){if(t.normalize(),g=x.Lb(t),1E-4>Math.abs(g-u.Lb(t))){v=-g;break}x.bd()<y.d(r[0].Ud).bd()?r.shift():r.splice(1,1);t=a(y.d(r[1].Ud),E.d(r[0].Ud),t)}else{if(l=l||w.h(),p=p||w.h(),l.d(x).P(u),p.d(r[0].Ud).P(u),k=0<l.Vc(p),k^0<u.Vc(l))r.shift(),l.Td(!k);else{if(!(k^0<p.Vc(u))){m=!0;break}r.splice(1,1);p.Td(k)}t.Je(l)}if(100<I)return w.F(),{yq:r,Wi:I,Uk:0,Qp:!0}}w.F();g={cd:m,yq:r,Wi:I};
if(!1!==v){g.Uk=v;c=g;var Q,J;l=r.length;h=r[l-2];r=r[l-3];l=b.ka();p=l.h().d(h.Ud);k=l.h().d(r.Ud).P(p);r=k.Ld(b.h.ub)?l.F({Fa:h.Fa,Na:h.Na}):(Q=-k.Lb(p)/k.bd(),J=1-Q,0>=J?l.F({Fa:r.Fa,Na:r.Na}):0>=Q?l.F({Fa:h.Fa,Na:h.Na}):l.F({Fa:p.d(h.Fa).D(J).pa(k.d(r.Fa).D(Q)).tb(),Na:p.d(h.Na).D(J).pa(k.d(r.Na).D(Q)).tb()}));c.zi=r}return g}})();(function(){var a=function g(a,c,d){return this instanceof g?(this.yf=b.h(),this.Pb=b.h(),a instanceof g?(this.d(a),void 0):(a&&this.Yd(a),this.Sb(c||0,d),void 0)):
new g(a,c)};a.prototype.Yd=function(a){return this.yf.d(a),this};a.prototype.Sb=function(a,b){return this.$e=Math.cos(a),this.vf=Math.sin(a),b?this.Pb.d(b):this.Pb.ub(),this};a.prototype.d=function(b){return b?(this.Yd(b.yf),this.$e=b.$e,this.vf=b.vf,this.Pb.d(b.Pb),this):new a(this)};b.transform=a})();(function(a){var c=Math.sqrt,g=Math.min,h=Math.max,l=(Math.acos,Math.atan2),p=2*Math.PI,k=!!a.rr,m=function v(a,b){return this instanceof v?(this.a=k?new Float64Array(5):[],a&&(void 0!==a.x||a.a&&a.a.length)?
this.d(a):(this.recalc=!0,this.set(a,b)),void 0):new v(a,b)};Object.defineProperties(m.prototype,{x:{get:function(){return+this.a[0]},set:function(a){a=+a||0;this.recalc=a===this.a[0];this.a[0]=a}},y:{get:function(){return+this.a[1]},set:function(a){a=+a||0;this.recalc=a===this.a[1];this.a[1]=a}}});m.prototype.set=function(a,b){return this.recalc=!0,this.a[0]=+a||0,this.a[1]=+b||0,this};m.prototype.get=function(a){return this.a[a]};m.prototype.pa=function(a){return this.recalc=!0,this.a[0]+=a.a[0],
this.a[1]+=a.a[1],this};m.prototype.P=function(a){return this.recalc=!0,this.a[0]-=a.a[0],this.a[1]-=a.a[1],this};m.prototype.add=function(a,b){return this.recalc=!0,this.a[0]+=+a||0,this.a[1]+=+b||0,this};m.prototype.D=function(a){return this.recalc||(this.a[4]=this.a[4]*a*a,this.a[3]*=a),this.a[0]*=a,this.a[1]*=a,this};m.prototype.Lb=function(a){return this.a[0]*a.a[0]+this.a[1]*a.a[1]};m.prototype.Vc=function(a){return-this.a[0]*a.a[1]+this.a[1]*a.a[0]};m.prototype.Rb=function(a){return this.Lb(a)/
a.vc()};m.prototype.We=function(a){if(this.Ld(m.ub))return a?a.We():0/0;for(a=a&&!a.Ld(m.ub)?l(this.a[1]*a.a[0]-this.a[0]*a.a[1],this.a[0]*a.a[0]+this.a[1]*a.a[1]):l(this.a[1],this.a[0]);a>Math.PI;)a-=p;for(;a<-Math.PI;)a+=p;return a};m.prototype.Kk=function(a,b){for(var c=a.a[0]-this.a[0],d=a.a[1]-this.a[1],f=b.a[0]-this.a[0],g=b.a[1]-this.a[1],c=l(d*f-c*g,c*f+d*g);c>Math.PI;)c-=p;for(;c<-Math.PI;)c+=p;return c};m.prototype.vc=function(){return this.recalc&&(this.recalc=!1,this.a[4]=this.a[0]*this.a[0]+
this.a[1]*this.a[1],this.a[3]=c(this.a[4])),this.a[3]};m.prototype.bd=function(){return this.recalc&&(this.recalc=!1,this.a[4]=this.a[0]*this.a[0]+this.a[1]*this.a[1],this.a[3]=c(this.a[4])),this.a[4]};m.prototype.bp=function(a){var b,d;return c((b=a.a[0]-this.a[0])*b+(d=a.a[1]-this.a[1])*d)};m.prototype.cp=function(a){var b,c;return(b=a.a[0]-this.a[0])*b+(c=a.a[1]-this.a[1])*c};m.prototype.Td=function(a){var b=this.a[0];return a?(this.a[0]=this.a[1],this.a[1]=-b):(this.a[0]=-this.a[1],this.a[1]=
b),this};m.prototype.normalize=function(){var a=this.vc();return 0===a?this:(a=1/a,this.a[0]*=a,this.a[1]*=a,this.a[3]=1,this.a[4]=1,this)};m.prototype.transform=function(a){var b=a.vf,c=a.$e,d=a.Pb.a[0],f=a.Pb.a[1];return this.a[0]-=d,this.a[1]-=f,this.set(this.a[0]*c-this.a[1]*b+d+a.yf.a[0],this.a[0]*b+this.a[1]*c+f+a.yf.a[1])};m.prototype.rotate=function(a,b){var c,d,f=0,g=0;return"number"==typeof a?(c=Math.sin(a),d=Math.cos(a),b&&(f=0|(b.x||b.a[0]),g=0|(b.y||b.a[1]))):(c=a.vf,d=a.$e,f=a.Pb.a[0],
g=a.Pb.a[1]),this.a[0]-=f,this.a[1]-=g,this.set(this.a[0]*d-this.a[1]*c+f,this.a[0]*c+this.a[1]*d+g)};m.prototype.hc=function(a){return this.set((this.a[0]-a.Pb.a[0])*a.$e+(this.a[1]-a.Pb.a[1])*a.vf+a.Pb.a[0],-(this.a[0]-a.Pb.a[0])*a.vf+(this.a[1]-a.Pb.a[1])*a.$e+a.Pb.a[1])};m.prototype.translate=function(a){return this.pa(a.yf)};m.prototype.Kh=function(a){this.P(a.yf)};m.prototype.d=function(a){return a?a.a?(this.recalc=a.recalc,a.recalc||(this.a[3]=a.a[3],this.a[4]=a.a[4]),this.a[0]=a.a[0],this.a[1]=
a.a[1],this):this.set(a.x,a.y):new m(this)};m.prototype.Je=function(a){var b=this.a;this.a=a.a;a.a=b;b=this.recalc;this.recalc=a.recalc;a.recalc=b};m.prototype.tb=function(){return{x:this.a[0],y:this.a[1]}};m.prototype.ub=function(){return this.a[3]=0,this.a[4]=0,this.a[0]=0,this.a[1]=0,this};m.prototype.uc=function(){return this.a[0]=-this.a[0],this.a[1]=-this.a[1],this};m.prototype.Qo=function(a,b){this.a[0]=g(h(this.a[0],a.x),b.x);this.a[1]=g(h(this.a[1],a.y),b.y);this.recalc=!0};m.prototype.toString=
function(){return"("+this.a[0]+", "+this.a[1]+")"};m.prototype.Ld=function(a){return this.a[0]===a.a[0]&&this.a[1]===a.a[1]&&this.a[2]===a.a[2]};m.axis=[new m(1,0),new m(0,1)];m.ub=new m(0,0);b.h=m})(this);(function(a){var c=a.Vh;b.Vs=function(){return a.Vh===b&&(a.Vh=c),b}})(this);var c=b.g.ts=function(a,c){function g(b,c,f,g){var h,u=k;if("string"!=typeof c)g=f,f=c;else{if(u=p[c],!u)throw'Error: "'+c+'" '+a+" not defined";u=u.prototype}if("function"==typeof f)(h=p[b])?h.prototype=l(h.prototype,
f(m(h.prototype))):(h=p[b]=function(a){this.C&&this.C(a)},h.prototype=q(u),h.prototype=l(h.prototype,f(u,h.prototype))),h.prototype.type=a,h.prototype.name=b;else if(g=f||{},h=p[b],!h)throw'Error: "'+b+'" '+a+" not defined";return g?new h(g):void 0}function h(c,f){return"object"==typeof c?(k=l(k,c),k.type=a,void 0):("type"!==c&&b.g.jh(f)&&(k[c]=f),void 0)}function l(a,c){var d,f;for(f in c)d=Object.getOwnPropertyDescriptor(c,f),d.get||d.set?Object.defineProperty(a,f,d):b.g.jh(d.value)&&(a[f]=d.value);
return a}var p={},k={},m=Object.getPrototypeOf;"function"!=typeof m&&(m="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});var q=Object.create;"function"!=typeof q&&(q=function(a){function b(){}return b.prototype=a,new b});h(c);return g.Vp=h,g};return b.g.indexOf=function(a,b){for(var c=0,h=a.length;h>c;){if(h--,a[c]===b)return c;if(a[h]===b)return h;c++}return-1},b.g.jm=function(a,b,c){function h(){clearTimeout(l);k?(k=!1,l=setTimeout(h,
b),a.apply(c,p)):l=!1}var l,p,k=!1;return c=c||null,function(){k=!0;p=arguments;l||h()}},b.g.options=function(a,c){var g,h={},l=[];return g=function(a){b.g.extend(c,a,null);a=0;for(var d=l.length;d>a;++a)l[a](c);return c},g.wb=function(a){return b.g.extend(h,a),b.g.wb(c,h),h},g.sf=function(a){l.push(a)},c=c||g,g.wb(a),g},b.g.Nl=function(a,b){return a|=0,b|=0,(0|a)===(0|b)?-1:0|((0|a)>(0|b)?a<<16|65535&b:b<<16|65535&a)},b.g.bind=Function.prototype.bind?function(a,b,c){return c=Array.prototype.slice.call(arguments,
1),Function.prototype.bind.apply(a,c)}:function(a,b,c){return c=Array.prototype.slice.call(arguments,2),function(){return a.apply(b,c.concat(Array.prototype.slice.call(arguments)))}},b.g.find=function(a,b){var c,h,l=a.length;for(c=0;l>c;c++)if(h=a[c],b(h,c,a))return h},b.g.filter=function(a,b){var c,h,l=a.length,p=[];for(c=0;l>c;c++)h=a[c],b(h,c,a)&&p.push(h);return p},function(){function a(b){var c,d=[];if(!b||!q[typeof b])return d;for(c in b)w.call(b,c)&&d.push(c);return d}function c(a){return a}
function g(a){var b=a.md;b&&g(b);a.qi=a.md=a.Uo=a.object=a.Il=a.ab=a.value=null;u.length<x&&u.push(a)}function h(){return u.pop()||{qi:null,md:null,Uo:null,"false":!1,index:0,"null":!1,Il:null,object:null,push:null,ab:null,"true":!1,pm:!1,value:null}}function l(a,c){var d=typeof c;if(a=a.md,"boolean"===d||null==c)return a[c]?0:-1;"number"!==d&&"string"!==d&&(d="object");var f="number"===d?c:y+c;return a=(a=a[d])&&a[f],"object"===d?a&&-1<b.g.indexOf(a,c)?0:-1:a?0:-1}function p(a){var b=this.md,c=typeof a;
if("boolean"===c||null==a)b[a]=!0;else{"number"!==c&&"string"!==c&&(c="object");var d="number"===c?a:y+a,b=b[c]||(b[c]={});"object"===c?(b[d]||(b[d]=[])).push(a):b[d]=!0}}function k(a){return"function"==typeof a}function m(a){var b,c;if(!a||s.call(a)!==v||(b=a.constructor,k(b)&&!(b instanceof b)))return!1;for(var d in a)c=d;return"undefined"==typeof c||w.call(a,c)}var q={"boolean":!1,"function":!0,object:!0,Il:!1,ab:!1,pm:!1},v="[object Object]",r=Object.keys,s=Object.prototype.toString,w=Object.prototype.hasOwnProperty,
t=[],u=[],x=40,y=+new Date+"",E=r?function(a){return b.g.jf(a)?r(a):[]}:a,I=0;b.g.qm=function(a){var b=++I;return""+(a||"")+b};b.g.Dj=function(a){var b,c,d,f,g=-1;b=a?a.length:0;var h=Array("number"==typeof b?b:0);b=0;for(c=a.length;c>b;b++)d=a[b],f=++g,f=0+Math.floor(Math.random()*(f-0+1)),h[g]=h[f],h[f]=d;return h};b.g.jf=function(a){return!(!a||!q[typeof a])};b.g.jh=k;b.g.isArray=Array.isArray||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===s.call(a)||!1};
var Q=RegExp("^"+String(s).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");b.g.Si=Object.getPrototypeOf?function(a){if(!a||s.call(a)!==v)return!1;var b=a.valueOf,c="function"==typeof b&&Q.test(b)&&(c=Object.getPrototypeOf(b))&&Object.getPrototypeOf(c);return c?a===c||Object.getPrototypeOf(a)===c:m(a)}:m;b.g.Oq=function(a){var c,d;"boolean"!=typeof c&&null!=c&&(d=c,c=!1);var f=d,k=-1,m=b.g.indexOf,q=a?a.length:0;d=[];var r=!c&&75<=q&&m===b.g.indexOf,v=f||r?t.pop()||
[]:d;if(r){var m=v,v=-1,s=m.length,w=m[0],u=m[0|s/2],y=m[s-1];if(w&&"object"==typeof w&&u&&"object"==typeof u&&y&&"object"==typeof y)v=!1;else{w=h();w["false"]=w["null"]=w["true"]=w.pm=!1;u=h();u.qi=m;u.md=w;for(u.push=p;++v<s;)u.push(m[v]);v=u}m=l}for(;++k<q;)s=a[k],w=f?f(s,k,a):s,(c?!k||v[v.length-1]!==w:0>m(v,w))&&((f||r)&&v.push(w),d.push(s));r?(a=v.qi,a.length=0,t.length<x&&t.push(a),g(v)):f&&(a=v,a.length=0,t.length<x&&t.push(a));return d};b.g.extend=function(a,b,c){var d,f=a,g=f;if(!f)return g;
var h,k=arguments,p=0,l="number"==typeof c?2:k.length;for(2<l&&"function"==typeof k[l-1]&&(h=k[--l]);++p<l;)if(f=k[p],f&&q[typeof f])for(var m=-1,r=q[typeof f]&&E(f),v=r?r.length:0;++m<v;)d=r[m],g[d]=h?h(g[d],f[d]):f[d];return g};b.g.wb=function(a,b,c){var d,f=a,g=f;if(!f)return g;for(var h=arguments,k=0,p="number"==typeof c?2:h.length;++k<p;)if(f=h[k],f&&q[typeof f])for(var l=-1,m=q[typeof f]&&E(f),r=m?m.length:0;++l<r;)d=m[l],"undefined"==typeof g[d]&&(g[d]=f[d]);return g};b.g.Fq=function(a,b,d){var g=
0,h=a?a.length:g;d=d||c;for(b=d(b);h>g;){var k=g+h>>>1;d(a[k])<b?g=k+1:h=k}return g}}(),b.ka=function(){var a,c,g=[],h=0,l=0;return a=function(){if(this.$h=!1,++h>=c.Rp)throw"Error: Too many scratchpads created. (Did you forget to call .done()?)";},a.prototype={F:function(a){this.$h=!1;for(var b=0;l>b;++b)this[b]=0;return g.push(this),a}},c=function k(b){if(b)return k.ip(b);b=g.pop()||new a;return b.$h=!0,b},c.Rp=100,c.Pp=20,c.ip=function(b){for(var c=[],f=0,h=b.length;h>f;f++)c.push(f);c="a"+c.join(",a");
return(new Function("fn, scratches, Scratch","return function("+c+"){ var scratch = scratches.pop() || new Scratch( scratches );scratch._active = true;return scratch.done( fn(scratch, "+c+") );};"))(b,g,a)},c.register=function(b,g,h){var v=a.prototype,r=l++,s="_"+b+"Stack",w=h&&h.Tq;if(b in v)throw"Error: Object is already registered.";v[b]=function(){var a=this[s]||(this[s]=[]),b=0|this[r];if(this[r]=b+1,!this.$h)throw"Error: Scratchpad used after .done() called. (Could it be unintentionally scoped?)";
if(b>=c.Pp)throw"Error: Scratchpad usage space out of bounds. (Did you forget to call .done()?)";return a[b]||(a[b]=w?g():new g)}},c.register("vector",b.h),c.register("transform",b.transform),c}(),function(){function a(b){return b.ao}b.ka.register("event",function(){return{}},{Tq:!0});var c=function h(){return this instanceof h?void 0:new h};c.prototype={p:function(c,f,p,k){var m,q,v;if(this.Sc=this.Sc||(this.Sc={}),b.g.jf(c)){for(var r in c)this.p(r,c[r],f,p);return this}return m=this.Sc[c]||(this.Sc[c]=
[]),q=f,b.g.jf(p)?(f=b.g.bind(f,p),f.Qn=q,f.Ak=q.Ak):k||(k=p),f.ao=k,v=b.g.Fq(m,f,a),m.splice(v,0,f),this},rb:function(a,c){var d,f;if(!this.Sc)return this;if(!0===a)return this.Sc={},this;if(b.g.jf(a)){for(var m in a)this.rb(m,a[m]);return this}if(d=this.Sc[a],!d)return this;if(!0===c)return this.Sc[a]=[],this;m=0;for(var q=d.length;q>m;m++)if(f=d[m],f.Qn===c||f===c){d.splice(m,1);break}return this},ia:function(a,c){if(!this.Sc)return this;var d,f,m=this.Sc[a],q=m&&m.length,v=b.ka();if(!q)return v.F(this);
f=v.event();f.nt=a;for(f.Hs=d;q--;)d=m[q],d(c,f),d.Ak&&m.splice(q,1);return v.F(this)}};b.g.Sl=c}(),function(a){function c(){return p&&p.now?p.now()+p.timing.navigationStart:Date.now()}function g(){var b;h&&(b=c(),b&&(a.requestAnimationFrame(g),l.ia("tick",b)))}var h=!1,l=b.g.Sl(),p=a.performance;b.g.Lj={now:c,start:function(){return h=!0,g(),this},stop:function(){return h=!1,this},p:function(a){return l.p("tick",a),this},rb:function(a){return l.rb("tick",a),this},Js:function(){return!!h}}}(this),
function(){function a(b){return b.next?function(a){for(var c=b;c;){if(c(a))return!0;c=c.next}return!1}:b}function c(a){return a.next?function(b){for(var c=a;c;){if(!c(b))return!1;c=c.next}return!0}:a}function g(a,c){return function(d){d=c?d[c]:d;var f,g=0;if(b.g.isArray(d)){for(f=d.length;f>g;){if(f--,-1<k(a,d[g])||-1<k(a,d[f]))return!0;g++}return!1}return-1<k(a,d)}}function h(a,c){return function(d){d=c?d[c]:d;var f,g=0;if(b.g.isArray(d)){if(b.g.isArray(a)){if(f=d.length,f!==a.length)return!1;for(;f>
g;){if(f--,-1===k(a,d[g])||-1===k(a,d[f]))return!1;g++}return!0}return-1<k(d,a)}return d===a}}function l(a,b){return function(c){return a(c[b])}}function p(){return!0}var k=b.g.indexOf,m={Vq:h,Xq:function(a,b){var c=h(a,b);return function(a){return!c(a)}},Wq:g,Yq:function(a,b){var c=g(a,b);return function(a){return!c(a)}},um:function(a){return a=b.h(a),function(c){c=c.aa();return b.aa.contains(c,a)}}};b.Tl=function v(g,k){var w,t,u,x,y;if(k){if("$or"===k||"$and"===k){w=0;for(t=g.length;t>w;++w)y=
v(g[w]),x=x?x.next=y:u=y;return"$or"===k?a(u):c(u)}if(w=m[k])return w(g);throw"Unknown query operation: "+k;}for(w in g)t=g[w],y="$"===w[0]?v(t,w):b.g.Si(t)?l(v(t),w):h(t,w),x=x?x.next=y:u=y;return c(u||p)}}(this),function(){var a={mq:0};b.behavior=c("behavior",{C:function(c){this.options=b.g.options(a);this.options(c)},vo:function(a){return this.ho=!0===a?null:b.g.Oq(a),this},gf:function(){return this.ho||(this.ga?this.ga.lc:[])},Ic:function(a){return this.disconnect&&this.ga&&this.disconnect(this.ga),
this.ga=a,this.eb&&a&&this.eb(a),this},eb:function(a){this.Tc&&a.p("integrate:positions",this.Tc,this,this.options.mq)},disconnect:function(a){this.Tc&&a.rb("integrate:positions",this.Tc)},Tc:null})}(),function(){var a={hidden:!1,O:"dynamic",N:1,De:1,Tf:0.8,view:null},f=1;b.body=c("body",{C:function(c){var h=b.h;if(this.options=b.g.options(a,this),this.options(c),this.state={e:h(this.x,this.y),f:h(this.Lc,this.Gb),ja:h(),i:{e:this.We||0,f:this.to||0,ja:0},za:{e:h(),f:h(),ja:h(),i:{e:0,f:0,ja:0}}},
delete this.x,delete this.y,delete this.Lc,delete this.Gb,delete this.We,delete this.to,0===this.N)throw"Error: Bodies must have non-zero mass";this.uid=f++;this.G=b.G("point")},Ic:function(a){return this.disconnect&&this.ga&&this.disconnect(this.ga),this.ga=a,this.eb&&a&&this.eb(a),this},Qf:function(a){return"dynamic"===this.O&&this.state.ja.pa(a),this},js:function(a,c){if("dynamic"!==this.O)return this;var d=b.ka(),f=d.h();return c&&this.ve&&(f.d(c),this.state.i.ja-=f.Vc(a)/this.ve),this.Qf(f.d(a).D(1/
this.N)),d.F(),this},aa:function(){var a=this.G.aa(this.state.i.e);return a.x+=this.state.e.x,a.y+=this.state.e.y,a},recalc:function(){return this}})}(),function(){b.G=c("geometry",{C:function(a){this.options=b.g.options();this.options(a);this.ed=new b.aa},aa:function(){return b.aa.d(this.ed)},Qa:function(a,c){return c=c||b.h(),c.set(0,0)},Yf:function(a,c){return c=c||b.h(),c.set(0,0)}})}(),b.G.xp=function(a){var c=b.ka(),g=c.h(),h=c.h(),l=c.h(),p=!0,k=!1,m=a.length;if(!a||!m)return!1;if(3>m)return c.F(),
p;g.d(a[0]).P(l.d(a[m-1]));for(var q=1;m>=q;++q){if(h.d(a[q%m]).P(l.d(a[(q-1)%m])),!1===k)k=g.Vc(h);else if(0<k^0<g.Vc(h)){p=!1;break}h.Je(g)}return c.F(),p},b.G.rp=function(a){var c,g=b.ka(),h=g.h(),l=g.h(),p=0,k=0,m=a.length;if(2>m)return g.F(),0;if(2===m)return c=l.d(a[1]).cp(h.d(a[0])),g.F(),c/12;h.d(a[0]);for(var q=1;m>q;++q)l.d(a[q]),c=Math.abs(l.Vc(h)),p+=c*(l.bd()+l.Lb(h)+h.bd()),k+=c,h.Je(l);return g.F(),p/(6*k)},b.G.Ms=function(a,c){var g=b.ka(),h=g.h().d(a),l=g.h(),p=g.h(),k=0,m=c.length;
if(2>m)return k=h.Ld(l.d(c[0])),g.F(),k;if(2===m)return k=h.We(l.d(c[0])),k+=h.We(l.d(c[1])),g.F(),Math.abs(k)===Math.PI;l.d(c[0]).P(h);for(var q=1;m>=q;++q)p.d(c[q%m]).P(h),k+=p.We(l),l.Je(p);return g.F(),1E-6<Math.abs(k)},b.G.il=function(a){var c=b.ka(),g=c.h(),h=c.h(),l=0,p=a.length;if(3>p)return c.F(),0;g.d(a[p-1]);for(var k=0;p>k;++k)h.d(a[k]),l+=g.Vc(h),g.Je(h);return c.F(),l/2},b.G.qp=function(a){var c,g=b.ka(),h=g.h(),l=g.h(),p=b.h(),k=a.length;if(2>k)return g.F(),b.h(a[0]);if(2===k)return g.F(),
b.h((a[1].x+a[0].x)/2,(a[1].y+a[0].y)/2);h.d(a[k-1]);for(var m=0;k>m;++m)l.d(a[m]),c=h.Vc(l),h.pa(l).D(c),p.pa(h),h.Je(l);return c=1/(6*b.G.il(a)),g.F(),p.D(c)},b.G.Us=function(a,c,g){var h,l,p=b.ka();a=p.h().d(a);var k=p.h().d(c).P(a),m=p.h().d(g).P(a).P(k);return m.Ld(b.h.ub)?(p.F(),b.h(c)):(h=-m.Lb(k)/m.bd(),l=1-h,0>=l?(p.F(),b.h(g)):0>=h?(p.F(),b.h(c)):(a=b.h(g).D(h).pa(k.d(c).D(l)),p.F(),a))},function(){var a={Vk:0};b.sc=c("integrator",{C:function(){this.options=b.g.options(a)},Ic:function(a){return this.disconnect&&
this.ga&&this.disconnect(this.ga),this.ga=a,this.eb&&a&&this.eb(a),this},wp:function(a,b){var c=this.ga;return this.Ni(a,b),c&&c.ia("integrate:velocities",{$g:a,df:b}),this.Mi(a,b),c&&c.ia("integrate:positions",{$g:a,df:b}),this},eb:null,disconnect:null,Ni:function(){throw"The integrator.integrateVelocities() method must be overriden";},Mi:function(){throw"The integrator.integratePositions() method must be overriden";}})}(),function(){var d={Ma:!1,Tp:200,width:600,height:600};b.$a=c("renderer",{C:function(c){var g=
"string"==typeof c.B?a.getElementById(c.B):c.B;this.options=b.g.extend({},d,c);this.B=g?g:a.body;this.le=b.g.jm(b.g.bind(this.le,this),this.options.Tp)},Ic:function(a){return this.disconnect&&this.ga&&this.disconnect(this.ga),this.ga=a,this.eb&&a&&this.eb(a),this},l:function(a,b){var c,d;this.Do&&this.Do();this.ga.ia("beforeRender",{$a:this,$g:a,Ma:b});this.options.Ma&&this.le(b);this.Tg=b.sl;for(var p=0,k=a.length;k>p;++p)c=a[p],d=c.view||(c.view=this.af(c.G,c.Ie)),c.hidden||this.Wf(c,d);return this},
af:function(){throw"You must override the renderer.createView() method.";},le:function(){throw"You must override the renderer.drawMeta() method.";},Wf:function(){throw"You must override the renderer.drawBody() method.";}})}(),function(){var a=function l(a,b,c){function d(){return l(a,b,c)}for(var g,f;g=a.shift();)if(f=g.apply(b,c),f&&f.then)return f.then(d)},c={Mj:1E3/120,Op:16,tt:!1,sc:"verlet"},g=function p(a,b){return this instanceof p?(this.C(a,b),void 0):new p(a,b)};g.prototype=b.g.extend({},
b.g.Sl.prototype,{C:function(g,k){var m=this;(b.g.jh(g)||b.g.isArray(g))&&(k=g,g={});this.hi={S:0,ob:0};this.lc=[];this.Qg=[];this.Xb=this.Bc=null;this.Nf=!1;this.ni=1;this.Ek=0;this.options=b.g.options(c);this.options.sf(function(a){m.Mj(a.Mj)});this.options(g);this.add(b.sc(this.options.sc));b.g.jh(k)?a([k],this,[this,b]):b.g.isArray(k)&&a(k,this,[this,b])},options:null,add:function(a){var b=0,c=a&&a.length||0,d=c?a[0]:a;if(!d)return this;do switch(d.type){case "behavior":this.addBehavior(d);break;
case "integrator":this.sc(d);break;case "renderer":this.$a(d);break;case "body":this.ko(d);break;default:throw'Error: failed to add item of unknown type "'+d.type+'" to world';}while(++b<c&&(d=a[b]));return this},remove:function(a){var b=0,c=a&&a.length||0,d=c?a[0]:a;if(!d)return this;do switch(d.type){case "behavior":this.removeBehavior(d);break;case "integrator":d===this.Bc&&this.sc(null);break;case "renderer":d===this.Xb&&this.$a(null);break;case "body":this.pq(d);break;default:throw'Error: failed to remove item of unknown type "'+
d.type+'" from world';}while(++b<c&&(d=a[b]));return this},ml:function(a){var c;if(!a)return!1;switch(a.type){case "behavior":c=this.Qg;break;case "integrator":return this.Bc===a;case "renderer":return this.Xb===a;case "body":c=this.lc;break;default:throw'Error: unknown type "'+a.type+'"';}return-1<b.g.indexOf(c,a)},sc:function(a){return void 0===a?this.Bc:this.Bc===a?this:(this.Bc&&(this.Bc.Ic(null),this.ia("remove:integrator",{sc:this.Bc})),a&&(this.Bc=a,this.Bc.Ic(this),this.ia("add:integrator",
{sc:this.Bc})),this)},$a:function(a){return void 0===a?this.Xb:this.Xb===a?this:(this.Xb&&(this.Xb.Ic(null),this.ia("remove:renderer",{$a:this.Xb})),a&&(this.Xb=a,this.Xb.Ic(this),this.ia("add:renderer",{$a:this.Xb})),this)},Mj:function(a){return a?(this.wk=a,this.Yn=a*this.options.Op,this):this.wk},addBehavior:function(a){return this.ml(a)?this:(a.Ic(this),this.Qg.push(a),this.ia("add:behavior",{behavior:a}),this)},lp:function(){return[].concat(this.Qg)},removeBehavior:function(a){var b=this.Qg;
if(a)for(var c=0,d=b.length;d>c;++c)if(a===b[c]){b.splice(c,1);a.Ic(null);this.ia("remove:behavior",{behavior:a});break}return this},ko:function(a){return this.ml(a)?this:(a.Ic(this),this.lc.push(a),this.ia("add:body",{body:a}),this)},el:function(){return[].concat(this.lc)},pq:function(a){var b=this.lc;if(a)for(var c=0,d=b.length;d>c;++c)if(a===b[c]){b.splice(c,1);a.Ic(null);this.ia("remove:body",{body:a});break}return this},hp:function(a){a="function"==typeof a?a:b.Tl(a);return b.g.find(this.lc,
a)||!1},find:function(a){a="function"==typeof a?a:b.Tl(a);return b.g.filter(this.lc,a)},yp:function(a){this.Bc.wp(this.lc,a)},step:function(a){var c,d,g,f=this.Ek,r=this.ni,s=1/r,w=this.wk,t=w*s,s=this.Yn*s,u=this.hi;if(this.Nf||void 0===this.de)return this.de=a||this.de||b.g.Lj.now(),this.Nf||this.ia("step",u),this;if(a=a||this.de+t,c=a-this.de,c>s&&(this.de=a-s,c=s),d=c*r,g=f+d-w,g>=f)for(;g>=f;)f+=w,this.de+=t,this.Ek=f,this.yp(w);return u.S=1E3/(a-this.Vn),u.ob=(d/w).toFixed(2),u.sl=w+g-f,this.Vn=
a,this.ia("step",u),this},st:function(a){return void 0===a?this.ni:(this.ni=a||1,this)},l:function(){if(!this.Xb)throw"No renderer added to world";return this.Xb.l(this.lc,this.hi),this.ia("render",{$g:this.lc,Ma:this.hi,$a:this.Xb}),this},pause:function(){return this.Nf=!0,this.ia("pause"),this},pt:function(){return this.Nf=!1,this.ia("unpause"),this},Ls:function(){return!!this.Nf},ws:function(){this.pause();this.ia("destroy");this.rb(!0);this.remove(this.el());this.remove(this.lp());this.sc(null);
this.$a(null)}});b.Uq=g}(),b.sc("verlet",function(a){return b.body.Vp({Ej:function(a){return void 0!==a&&(this.fo=!0),!!this.fo}}),{C:function(b){a.C.call(this,b)},Ni:function(a,b){for(var c,d=b*b,p=1-this.options.Vk,k=null,m=0,q=a.length;q>m;++m)k=a[m],c=k.state,"static"!==k.O?(c.f.Ld(c.za.f)&&k.Ej()?c.f.d(c.e).P(c.za.e):(c.za.e.d(c.e).P(c.f),c.f.D(b)),p&&c.f.D(p),c.f.pa(c.ja.D(d)),c.f.D(1/b),c.za.f.d(c.f),c.ja.ub(),c.i.f===c.za.i.f&&k.Ej()?c.i.f=c.i.e-c.za.i.e:(c.za.i.e=c.i.e-c.i.f,c.i.f*=b),c.i.f+=
c.i.ja*d,c.i.f/=b,c.za.i.f=c.i.f,c.i.ja=0,k.Ej(!0)):(c.f.ub(),c.ja.ub(),c.i.f=0,c.i.ja=0)},Mi:function(a,b){for(var c,d=null,p=0,k=a.length;k>p;++p)d=a[p],c=d.state,"static"!==d.O&&(c.f.D(b),c.za.e.d(c.e),c.e.pa(c.f),c.f.D(1/b),c.za.f.d(c.f),c.i.f*=b,c.za.i.e=c.i.e,c.i.e+=c.i.f,c.i.f/=b,c.za.i.f=c.i.f)}}}),b.G("point",function(){}),b.body("point",function(a){return{C:function(b){a.C.call(this,b);this.ve=0}}}),b.G("circle",function(a){var c={Ta:1};return{C:function(g){a.C.call(this,g);this.options.wb(c);
this.options.sf(function(a){this.Ta=a.Ta});this.options(g);this.ed=b.aa();this.Ta=this.options.Ta},aa:function(){var a=this.Ta;return this.ed.qa!==a&&(this.ed=b.aa(-a,-a,a,a)),b.aa.d(this.ed)},Qa:function(a,c){return c=c||b.h(),c.d(a).normalize().D(this.Ta)},Yf:function(a,c,d){return c=c||b.h(),c.d(a).normalize().D(this.Ta-d)}}}),b.G("convex-polygon",function(a){var c={};return{C:function(b){var h=this;a.C.call(this,b);this.options.wb(c);this.options.sf(function(a){h.Yl(a.zd||[])});this.options(b);
h.Yl(this.options.zd||[])},Yl:function(a){var c=b.ka(),d=c.transform(),f=this.zd=[];if(!b.G.xp(a))throw"Error: The vertices specified do not match that of a _convex_ polygon.";d.Sb(0);d.Yd(b.G.qp(a).uc());for(var k=0,m=a.length;m>k;++k)f.push(b.h(a[k]).translate(d));return this.Pn=b.G.il(f),this.ed=!1,c.F(),this},aa:function(a){if(!a&&this.ed)return b.aa.d(this.ed);var c,d=b.ka(),f=d.h(),k=d.transform().Sb(a||0),m=d.h().set(1,0).hc(k),q=d.h().set(0,1).hc(k),k=this.Qa(m,f).Rb(m),m=-this.Qa(m.uc(),
f).Rb(m),v=this.Qa(q,f).Rb(q),f=-this.Qa(q.uc(),f).Rb(q);return c=b.aa(m,f,k,v),a||(this.ed=b.aa.d(c)),d.F(),c},Qa:function(a,c,d){var f,k,m,q=this.zd,v=q.length,r=2;if(c=c||b.h(),2>v)return d&&(d.ag=0),c.d(q[0]);if(k=q[0].Lb(a),f=q[1].Lb(a),2===v)return m=f>=k?1:0,d&&(d.ag=m),c.d(q[m]);if(f>=k){for(;v>r&&f>=k;)k=f,f=q[r].Lb(a),r++;return f>=k&&r++,m=r-2,d&&(d.ag=r-2),c.d(q[m])}for(r=v;1<r&&k>=f;)r--,f=k,k=q[r].Lb(a);return m=(r+1)%v,d&&(d.ag=m),c.d(q[m])},Yf:function(a,c,d){var f,k=b.ka(),m=k.h(),
q=k.h(),v=this.zd,r=v.length,s=0<this.Pn,w={};return c=this.Qa(a,c,w),m.d(v[(w.ag+1)%r]).P(c).normalize().Td(s),q.d(v[(w.ag-1+r)%r]).P(c).normalize().Td(!s),f=d/(1+m.Lb(q)),c.pa(m.pa(q).D(f)),k.F(),c}}}),b.G("rectangle",function(a){var c={};return{C:function(b){var h=this;a.C.call(this,b);this.options.wb(c);this.options.sf(function(){h.width=h.options.width||1;h.height=h.options.height||1});this.options(b)},aa:function(a){if(!a)return b.aa(this.width,this.height);var c=b.ka(),d=c.h();a=c.transform().Sb(a||
0);var f=c.h().set(1,0).hc(a),k=c.h().set(0,1).hc(a);a=this.Qa(f,d).Rb(f);var f=-this.Qa(f.uc(),d).Rb(f),m=this.Qa(k,d).Rb(k),d=-this.Qa(k.uc(),d).Rb(k);return c.F(),b.aa(f,d,a,m)},Qa:function(a,c){c=c||new b.h;var d=a.x,f=a.y;return d=0===d?0:0>d?0.5*-this.width:0.5*this.width,f=0===f?0:0>f?0.5*-this.height:0.5*this.height,c.set(d,f)},Yf:function(a,b,c){var d,f;return b=this.Qa(a,b),d=b.x,f=b.y,b.x=0===d?0:0>d?d+c:d-c,b.y=0===f?0:0>f?f+c:f-c,b}}}),b.body("circle",function(a){var c={Ta:1};return{C:function(g){a.C.call(this,
g);g=b.g.extend({},c,g);this.G=b.G("circle",{Ta:g.Ta});this.recalc()},recalc:function(){a.recalc.call(this);this.ve=this.N*this.G.Ta*this.G.Ta/2}}}),b.body("convex-polygon",function(a){var c={};return{C:function(g){a.C.call(this,g);g=b.g.extend({},c,g);this.G=b.G("convex-polygon",{zd:g.zd});this.recalc()},recalc:function(){a.recalc.call(this);this.ve=b.G.rp(this.G.zd)}}}),b.body("rectangle",function(a){var c={};return{C:function(g){a.C.call(this,g);g=b.g.extend({},c,g);this.G=b.G("rectangle",{width:g.width,
height:g.height});this.recalc()},recalc:function(){var b=this.G.width,c=this.G.height;a.recalc.call(this);this.ve=(b*b+c*c)*this.N/12}}}),b.behavior("attractor",function(a){var c={e:null,Jh:1,aq:2,max:!1,min:!1};return{C:function(g){var h=this;this.ji=new b.h;a.C.call(this);this.options.wb(c);this.options.sf(function(a){h.Wn=!1===a.max?1/0:a.max;h.Zn=a.min?a.min:10;h.position(a.e)});this.options(g)},position:function(a){return a?(this.ji.d(a),this):this.ji.tb()},Tc:function(){for(var a,c,d,f=this.gf(),
k=this.options.aq,m=this.options.Jh,q=this.Zn,v=this.Wn,r=b.ka(),s=r.h(),w=0,t=f.length;t>w;w++)a=f[w],s.d(this.ji),s.P(a.state.e),c=s.vc(),c>q&&v>c&&(d=m/Math.pow(c,k),a.Qf(s.normalize().D(d)));r.F()}}}),b.behavior("body-collision-detection",function(a){function c(a,d){var f;if("static"!==a.O&&"kinematic"!==a.O||"static"!==d.O&&"kinematic"!==d.O){var h;if("circle"===a.G.name&&"circle"===d.G.name){var l;h=b.ka();var r=h.h();f=(h.h(),!1);h=(r.d(d.state.e).P(a.state.e),l=r.vc()-(a.G.Ta+d.G.Ta),r.Ld(b.h.ub)&&
r.set(1,0),0>=l&&(f={Q:a,L:d,vc:r.normalize().tb(),qf:r.D(-l).tb(),e:r.normalize().D(a.G.Ta).tb(),cd:-l}),h.F(f))}else a:{var s;l=b.ka();var r=l.h(),w=l.h(),t=!1;s=a.aa();s=Math.min(s.qa,s.ta);var u=d.aa(),u=Math.min(u.qa,u.ta);if(h=g(a,d),r.d(a.state.e).P(d.state.e),f=b.kl(h,r,!0),f.cd){t={Q:a,L:d};h.sm=!0;h.nf=0;for(h.of=0;f.cd&&(h.nf<s||h.of<u);)h.nf<s&&(h.nf+=1),h.of<u&&(h.of+=1),f=b.kl(h,r);if(f.cd||f.Qp){h=l.F(!1);break a}s=Math.max(0,h.nf+h.of-f.Uk);t.cd=s;t.vc=r.d(f.zi.Na).P(w.d(f.zi.Fa)).normalize().tb();
t.qf=r.D(s).tb();t.e=r.d(t.vc).D(h.margin).pa(w.d(f.zi.Fa)).P(a.state.e).tb()}h=l.F(t)}f=h}else f=!1;return f}function g(a,c){var d=b.g.Nl(a.uid,c.uid),f=h[d];return f||(f=h[d]=function(d){var g=b.ka(),h=f.gm,l=f.hm,m=g.h(),u=g.h(),x=f.nf,y=f.of;return f.sm?(m=a.G.Yf(d.hc(h),m,x).transform(h),u=c.G.Yf(d.rotate(h).hc(l).uc(),u,y).transform(l)):(m=a.G.Qa(d.hc(h),m).transform(h),u=c.G.Qa(d.rotate(h).hc(l).uc(),u).transform(l)),d.uc().rotate(l),g.F({Fa:m.tb(),Na:u.tb(),Ud:m.P(u).tb()})},f.gm=b.transform(),
f.hm=b.transform()),f.sm=!1,f.margin=0,f.gm.Yd(a.state.e).Sb(a.state.i.e),f.hm.Yd(c.state.e).Sb(c.state.i.e),f.Q=a,f.L=c,f}var h=[],l={check:"collisions:candidates",Ze:"collisions:detected"};return{C:function(b){a.C.call(this);this.options.wb(l);this.options(b)},eb:function(a){!0===this.options.check?a.p("integrate:velocities",this.Sf,this):a.p(this.options.check,this.check,this)},disconnect:function(a){!0===this.options.check?a.rb("integrate:velocities",this.Sf):a.rb(this.options.check,this.check)},
check:function(a){for(var d,g=a.vi,h=this.gf(),l=[],r=0,s=g.length;s>r;++r)a=g[r],(h===this.ga.lc||-1<b.g.indexOf(h,a.Q)&&-1<b.g.indexOf(h,a.L))&&(d=c(a.Q,a.L),d&&l.push(d));l.length&&this.ga.ia(this.options.Ze,{Ai:l})},Sf:function(a){for(var b,d=this.gf(),g=(a.df,[]),h=0,l=d.length;l>h;h++){a=d[h];for(var s=h+1;l>s;s++)b=d[s],(b=c(a,b))&&g.push(b)}g.length&&this.ga.ia(this.options.Ze,{Ai:g})}}}),b.behavior("body-impulse-response",function(a){var c={check:"collisions:detected"};return{C:function(b){a.C.call(this);
this.options.wb(c);this.options(b)},vo:!1,eb:function(a){a.p(this.options.check,this.Wl,this)},disconnect:function(a){a.rb(this.options.check,this.Wl)},Ro:function(a,c,d,f,k,m){var q="static"===a.O||"kinematic"===a.O,v="static"===c.O||"kinematic"===c.O,r=b.ka();k=r.h().d(k);if(q&&v)return r.F(),void 0;q?c.state.e.pa(k):v?a.state.e.P(k):(k.D(0.5),a.state.e.P(k),c.state.e.pa(k));var s,w,t;k=q?0:1/a.ve;var u=v?0:1/c.ve,x=q?0:1/a.N,y=v?0:1/c.N;m=m?0:a.De*c.De;var E=a.Tf*c.Tf;d=r.h().d(d);var I=r.h().d(d).Td(),
Q=r.h().d(f);f=r.h().d(f).pa(a.state.e).P(c.state.e);var J=r.h(),X=a.state.i.f,F=c.state.i.f,X=r.h().d(c.state.f).pa(J.d(f).Td().D(F)).P(a.state.f).P(J.d(Q).Td().D(X)),J=Q.Rb(d),Q=Q.Rb(I),F=f.Rb(d);f=f.Rb(I);var A=X.Rb(d),X=X.Rb(I);return 0<=A?(r.F(),void 0):(k=1/0===k?0:k,u=1/0===u?0:u,s=-((1+m)*A)/(x+y+k*Q*Q+u*f*f),q?(c.state.f.pa(d.D(s*y)),c.state.i.f-=s*u*f):v?(a.state.f.P(d.D(s*x)),a.state.i.f+=s*k*Q):(c.state.f.pa(d.D(s*y)),c.state.i.f-=s*u*f,a.state.f.P(d.D(x*c.N)),a.state.i.f+=s*k*Q),E&&X&&
(t=X/(x+y+k*J*J+u*F*F),w=0>X?-1:1,s=s*w*E,s=1===w?Math.min(s,t):Math.max(s,t),q?(c.state.f.P(I.D(s*y)),c.state.i.f-=s*u*F):v?(a.state.f.pa(I.D(s*x)),a.state.i.f+=s*k*J):(c.state.f.P(I.D(s*y)),c.state.i.f-=s*u*F,a.state.f.pa(I.D(x*c.N)),a.state.i.f+=s*k*J)),r.F(),void 0)},Wl:function(a){for(var c=b.g.Dj(a.Ai),d=0,f=c.length;f>d;++d)a=c[d],this.Ro(a.Q,a.L,a.vc,a.e,a.qf)}}}),b.behavior("constant-acceleration",function(a){var c={ja:{x:0,y:4E-4}};return{C:function(g){a.C.call(this);this.options.wb(c);
this.options(g);this.tk=b.h();this.wq(this.options.ja);delete this.options.ja},wq:function(a){return this.tk.d(a),this},Tc:function(){for(var a=this.gf(),b=0,c=a.length;c>b;++b)a[b].Qf(this.tk)}}}),b.behavior("edge-collision-detection",function(a){var c={aa:null,De:0.99,Tf:1,Ze:"collisions:detected"};return{C:function(g){a.C.call(this);this.options.wb(c);this.options(g);this.vq(this.options.aa);this.De=this.options.De;this.body=b.body("point",{O:"static",De:this.options.De,Tf:this.options.Tf})},vq:function(a){if(!a)throw"Error: aabb not set";
return this.Sn={min:{x:a.x-a.qa,y:a.y-a.ta},max:{x:a.x+a.qa,y:a.y+a.ta}},this},eb:function(a){a.p("integrate:velocities",this.Sf,this)},disconnect:function(a){a.rb("integrate:velocities",this.Sf)},Sf:function(a){var c,d,f=this.gf();a=(a.df,[]);for(var k=this.Sn,m=this.body,q=0,v=f.length;v>q;q++)if(c=f[q],"dynamic"===c.O){d=c;var r=k,s=m;c=void 0;var w=d.aa(),t=b.ka(),u=t.transform(),x=t.h(),y=t.h(),E=!1,I=[];(d=(c=w.x+w.qa-r.max.x,0<=c&&(x.set(1,0).hc(u.Sb(d.state.i.e)),E={Q:d,L:s,cd:c,vc:{x:1,y:0},
qf:{x:c,y:0},e:d.G.Qa(x,y).rotate(u).tb()},I.push(E)),c=w.y+w.ta-r.max.y,0<=c&&(x.set(0,1).hc(u.Sb(d.state.i.e)),E={Q:d,L:s,cd:c,vc:{x:0,y:1},qf:{x:0,y:c},e:d.G.Qa(x,y).rotate(u).tb()},I.push(E)),c=r.min.x-(w.x-w.qa),0<=c&&(x.set(-1,0).hc(u.Sb(d.state.i.e)),E={Q:d,L:s,cd:c,vc:{x:-1,y:0},qf:{x:-c,y:0},e:d.G.Qa(x,y).rotate(u).tb()},I.push(E)),c=r.min.y-(w.y-w.ta),0<=c&&(x.set(0,-1).hc(u.Sb(d.state.i.e)),E={Q:d,L:s,cd:c,vc:{x:0,y:-1},qf:{x:0,y:-c},e:d.G.Qa(x,y).rotate(u).tb()},I.push(E)),t.F(),I))&&
a.push.apply(a,d)}a.length&&this.ga.ia(this.options.Ze,{Ai:a})}}}),b.behavior("interactive",function(c){function f(a){var b=a.target,c=0,d=0;if(b.offsetParent){do c+=b.offsetLeft,d+=b.offsetTop;while(b=b.offsetParent)}a=a.changedTouches&&a.changedTouches[0]||a;return{x:a.pageX-c,y:a.pageY-d}}if(!a)return{};var g={B:null,sj:10,Up:{x:-5,y:-5},Sp:{x:5,y:5}};return{C:function(h){function l(a){a=f(a);var c=Math.max(b.g.Lj.now()-m,q.options.sj);q.xe.set(a.x,a.y);q.body&&(q.body.O=k,q.body.state.f.d(q.xe).P(q.Gl).D(1/
c),q.body.state.f.Qo(q.options.Up,q.options.Sp),q.body=!1);q.ga&&q.ga.ia("interact:release",a)}function p(a){var c;a=f(a);q.ga&&(c=q.ga.hp({um:new b.h(a.x,a.y)}),c?(k=c.O,c.O="kinematic",c.state.f.ub(),c.state.i.f=0,q.body=c,q.xe.d(a),q.offset.d(a).P(c.state.e),a.body=c,q.ga.ia("interact:grab",a)):q.ga.ia("interact:poke",a))}var k,m,q=this;if(c.C.call(this),this.options.wb(g),this.options(h),this.xe=new b.h,this.Gl=new b.h,this.offset=new b.h,this.B="string"==typeof this.options.B?a.getElementById(this.options.B):
this.options.B,!this.B)throw"No DOM element specified";h=b.g.jm(function(a){a=f(a);q.body&&(m=b.g.Lj.now(),q.Gl.d(q.xe),q.xe.set(a.x,a.y),a.body=q.body);q.ga.ia("interact:move",a)},q.options.sj);this.B.addEventListener("mousedown",p);this.B.addEventListener("touchstart",p);this.B.addEventListener("mousemove",h);this.B.addEventListener("touchmove",h);this.B.addEventListener("mouseup",l);this.B.addEventListener("touchend",l)},eb:function(a){a.p("integrate:positions",this.Tc,this)},disconnect:function(a){a.rb("integrate:positions",
this.Tc)},Tc:function(a){var b;a=Math.max(a.df,this.options.sj);this.body&&(b=this.body.state,b.f.d(this.xe).P(this.offset).P(b.e).D(1/a))}}}),b.behavior("newtonian",function(a){var c={Jh:1,max:!1,min:!1};return{C:function(b){var h=this;a.C.call(this);this.options.wb(c);this.options.sf(function(a){h.Xn=!1===a.max?1/0:a.max*a.max;h.$n=a.min?a.min*a.min:100*a.Jh});this.options(b)},Tc:function(){for(var a,c,d,f,k=this.gf(),m=this.options.Jh,q=this.$n,v=this.Xn,r=b.ka(),s=r.h(),w=0,t=k.length;t>w;w++){a=
k[w];for(var u=w+1;t>u;u++)c=k[u],s.d(c.state.e),s.P(a.state.e),d=s.bd(),d>q&&v>d&&(f=m/d,a.Qf(s.normalize().D(f*c.N)),c.Qf(s.D(a.N/c.N).uc()))}r.F()}}}),b.behavior("sweep-prune",function(a){var c=1,g={x:0,y:1},h=b.g.Nl;return{C:function(b){a.C.call(this);this.options.wb({Ze:"collisions:candidates"});this.options(b);this.gp=[];this.vi=[];this.clear()},clear:function(){this.Rj=[];this.Ol=[];this.cg=[];for(var a=0;2>a;++a)this.cg[a]=[]},eb:function(a){a.p("add:body",this.Qj,this);a.p("remove:body",
this.rm,this);a.p("integrate:velocities",this.em,this);a=a.el();for(var b=0,c=a.length;c>b;++b)this.Qj({body:a[b]})},disconnect:function(a){a.rb("add:body",this.Qj);a.rb("remove:body",this.rm);a.rb("integrate:velocities",this.em);this.clear()},Ko:function(){return this.Rq(),this.Eq(),this.Oo()},Eq:function(){for(var a,b,c,d,f,g,h,s,w,t=0;2>t;++t)for(a=this.cg[t],c=0,b=a.length,w=t;++c<b;){f=a[c];g=f.zf.get(w);d=c;for(s=(h=a[d-1])&&h.zf.get(w);0<d&&(s>g||s===g&&h.type&&!f.type);)a[d]=h,d--,s=(h=a[d-
1])&&h.zf.get(w);a[d]=f}},op:function(a,b,c){var d=h(a.id,b.id);if(!1===d)return null;var f=this.Ol[d];if(!f){if(!c)return null;f=this.Ol[d]={Q:a.body,L:b.body,Xf:1}}return f},Oo:function(){for(var a,b,c,d,f,h,r,s,w,t=1<<g.z+1<<g.y+1<<g.x+1,u=this.gp,x=0,y=this.vi,E=u.length=y.length=0;2>E;++E)for(a=0===E,f=this.cg[E],r=0,h=f.length;h>r;r++)if(d=f[r],b=d.lm,d.type)for(s=x-1;0<=s;s--)c=u[s],c===b?(x-1>s?u[s]=u.pop():u.pop(),x--):(w=this.op(b,c,a),w&&(w.Xf>t&&(w.Xf=1),w.Xf<<=E+1,w.Xf===t&&y.push(w)));
else x=u.push(b);return y},Rq:function(){for(var a,c,d=b.ka(),f=d.h(),g=d.h(),h=this.Rj,r=h.length;0<=--r;)a=h[r],c=a.interval,f.d(a.body.state.e),a=a.body.aa(),g.set(a.qa,a.ta),c.min.zf.d(f).P(g),c.max.zf.d(f).pa(g);d.F()},Qj:function(a){a=a.body;var d={id:c++,body:a};a={min:{type:!1,zf:b.h(),lm:d},max:{type:!0,zf:b.h(),lm:d}};d.interval=a;this.Rj.push(d);for(d=0;2>d;++d)this.cg[d].push(a.min,a.max)},rm:function(a){var b,c,d,f;b=a.body;f=this.Rj;var g=0;for(a=f.length;a>g;++g)if(d=f[g],d.body===
b){f.splice(g,1);for(g=0;2>g;++g){f=0;b=this.cg[g];for(var h=0,s=b.length;s>h;++h)if(c=b[h],c===d.interval.min||c===d.interval.max){if(b.splice(h,1),h--,a--,0<f)break;f++}}break}},em:function(){var a;a=this.Ko();a.length&&this.ga.ia(this.options.Ze,{vi:a})}}}),b.behavior("verlet-constraints",function(a){var c=2*Math.PI,g={Wi:2};return{C:function(b){a.C.call(this);this.options.wb(g);this.options(b);this.ee=[];this.ce=[]},eb:function(a){var b=a.sc();if(b&&0>b.name.indexOf("verlet"))throw'The rigid constraint manager needs a world with a "verlet" compatible integrator.';
a.p("integrate:positions",this.resolve,this)},disconnect:function(a){a.rb("integrate:positions",this.resolve)},As:function(){return this.ee=[],this.ce=[],this},xs:function(a,c,d,f){var g;return a&&c?(g={id:b.g.qm("dis-constraint"),type:"dis",Q:a,L:c,Fj:d||0.5,im:f||c.state.e.bp(a.state.e)},g.Iq=g.im*g.im,this.ee.push(g),g):!1},gs:function(a,c,d,f,g){var q;return a&&c?(q={id:b.g.qm("ang-constraint"),type:"ang",Q:a,L:c,Oa:d,Fj:f||0.5,Hq:g||c.state.e.Kk(a.state.e,d.state.e)},this.ce.push(q),q):!1},remove:function(a){var c,
d,f;if(f=b.g.jf(a),d=f?a.type:a.substr(0,3),c="ang"===d?this.ce:this.ee,f)for(d=0,f=c.length;f>d;++d){if(c[d]===a)return c.splice(d,1),this}else for(d=0,f=c.length;f>d;++d)if(c[d].id===a)return c.splice(d,1),this;return this},sq:function(a){for(var d,g,k,m,q=this.ce,v=b.ka(),r=v.transform(),s=0,w=q.length;w>s;++s)d=q[s],g=d.L.state.e.Kk(d.Q.state.e,d.Oa.state.e),(k=g-d.Hq)&&(k<=-Math.PI?k+=c:k>=Math.PI&&(k-=c),r.Yd(d.L.state.e),k=k*-a*d.Fj,"dynamic"===d.Q.O&&"dynamic"===d.L.O&&"dynamic"===d.Oa.O&&
(m=1/(d.Q.N+d.L.N+d.Oa.N)),"dynamic"===d.Q.O&&(g="dynamic"===d.L.O&&"dynamic"===d.Oa.O?k*(d.L.N+d.Oa.N)*m:"dynamic"!==d.L.O?k*d.Oa.N/(d.Oa.N+d.Q.N):k*d.L.N/(d.L.N+d.Q.N),r.Sb(g),d.Q.state.e.Kh(r),d.Q.state.e.rotate(r),d.Q.state.e.translate(r)),"dynamic"===d.Oa.O&&(g="dynamic"===d.Q.O&&"dynamic"===d.L.O?-k*(d.L.N+d.Q.N)*m:"dynamic"!==d.L.O?-k*d.Q.N/(d.Oa.N+d.Q.N):-k*d.L.N/(d.L.N+d.Oa.N),r.Sb(g),d.Oa.state.e.Kh(r),d.Oa.state.e.rotate(r),d.Oa.state.e.translate(r)),"dynamic"===d.L.O&&(g="dynamic"===d.Q.O&&
"dynamic"===d.Oa.O?k*(d.Q.N+d.Oa.N)*m:"dynamic"!==d.Q.O?k*d.Oa.N/(d.Oa.N+d.L.N):k*d.Q.N/(d.Q.N+d.Oa.N),r.Sb(g).Yd(d.Q.state.e),d.L.state.e.Kh(r),d.L.state.e.rotate(r),d.L.state.e.translate(r),r.Yd(d.Oa.state.e),d.L.state.e.Kh(r),d.L.state.e.hc(r),d.L.state.e.translate(r)));v.F()},tq:function(a){for(var c,d,f=this.ee,g=b.ka(),q=g.h(),v=0,r=f.length;r>v;++v)c=f[v],q.d(c.L.state.e).P(c.Q.state.e),d=q.bd()||1E-4*Math.random(),d=a*c.Fj*(d-c.Iq)/d,q.D(d),d="dynamic"!==c.Q.O||"dynamic"!==c.L.O?1:c.L.N/(c.Q.N+
c.L.N),"dynamic"===c.Q.O&&("dynamic"===c.L.O&&q.D(d),c.Q.state.e.pa(q),"dynamic"===c.L.O&&q.D(1/d)),"dynamic"===c.L.O&&("dynamic"===c.Q.O&&q.D(1-d),c.L.state.e.P(q));g.F()},it:function(){this.ee=b.g.Dj(this.ee);this.ce=b.g.Dj(this.ce)},resolve:function(){for(var a=this.options.Wi,b=1/a,c=0;a>c;c++)this.tq(b),this.sq(b)},Fs:function(){return{ys:[].concat(this.ee),hs:[].concat(this.ce)}}}}),b.sc("improved-euler",function(a){return{C:function(b){a.C.call(this,b)},Ni:function(a,b){for(var c,d=1-this.options.Vk,
p=null,k=0,m=a.length;m>k;++k)p=a[k],c=p.state,"static"!==p.O?(c.za.f.d(c.f),c.za.ja.d(c.ja),c.f.pa(c.ja.D(b)),d&&c.f.D(d),c.ja.ub(),c.za.i.f=c.i.f,c.i.f+=c.i.ja*b,c.i.ja=0):(c.f.ub(),c.ja.ub(),c.i.f=0,c.i.ja=0)},Mi:function(a,c){for(var d,l=0.5*c*c,p=null,k=b.ka(),m=k.h(),q=0,v=a.length;v>q;++q)p=a[q],d=p.state,"static"!==p.O&&(d.za.e.d(d.e),m.d(d.za.f),d.e.pa(m.D(c)).pa(d.za.ja.D(l)),d.za.ja.ub(),d.za.i.e=d.i.e,d.i.e+=d.za.i.f*c+d.za.i.ja*l,d.za.i.ja=0);k.F()}}}),b.$a("canvas",function(c){function f(a,
c){return b.g.Si(c)?b.g.extend({},a,c,f):void 0!==c?c:a}function g(b,c){var d=a.createElement(b||"div");return c&&(d.innerHTML=c),d}if(!a)return{};var h=2*Math.PI,l={debug:!1,Fl:null,Ie:{Po:{strokeStyle:"#53777A",lineWidth:1,fillStyle:"#53777A",ie:"#fff"},"convex-polygon":{strokeStyle:"#542437",lineWidth:1,fillStyle:"#542437",ie:"#fff"}},offset:{x:0,y:0}};return{C:function(h){if(c.C.call(this,h),this.options=b.g.extend({},l,this.options,f),this.options.offset=b.h(this.options.offset),this.$f=a.createElement("canvas"),
this.$f.width=this.$f.height=100,!this.$f.getContext)throw"Canvas not supported";this.vp=this.$f.getContext("2d");h=this.B;if("CANVAS"!==h.nodeName.toUpperCase()&&(h=a.createElement("canvas"),this.B.appendChild(h),"string"==typeof this.options.B&&this.B===a.body&&(h.id=this.options.B),this.B=h),this.Zb=h.getContext("2d"),this.bc={},this.options.Ma){var k=this.options.Fl||g();k.className="pjs-meta";this.bc.S=g("span");this.bc.ob=g("span");k.appendChild(g("span","fps: "));k.appendChild(this.bc.S);k.appendChild(g("br"));
k.appendChild(g("span","ipf: "));k.appendChild(this.bc.ob);h.parentNode.insertBefore(k,h)}this.Rc={};this.oi("main",this.B);this.resize(this.options.width,this.options.height)},Xi:function(a){return a in this.Rc?this.Rc[a]:null},oi:function(c,d,f){var g=this,h=[],l=b.g.extend({},this.options.Ie),s={id:c,B:d||a.createElement("canvas"),options:b.g.options({width:this.B.width,height:this.B.height,Np:!1,xo:!0,al:null,offset:null,scale:1,zIndex:1})(f)};if(c in this.Rc)throw'Layer "'+c+'" already added.';
return this.B.parentNode.insertBefore(s.B,this.B),s.B.style.position="absolute",s.B.style.zIndex=s.options.zIndex,s.B.className+=" pjs-layer-"+s.id,s.Zb=s.B.getContext("2d"),s.Zb.scale(1,1),s.B.width=s.options.width,s.B.height=s.options.height,s.$g=h,s.reset=function(a){return h=a||[],s},s.es=function(a){return b.g.isArray(a)?h.push.apply(h,a):h.push(a),s},s.qq=function(a){var c,d;if(b.g.isArray(a))for(c=0,d=a.length;d>c;++c)s.qq(a[c]);else c=b.g.indexOf(h,a),-1<c&&h.splice(c,1);return s},s.l=function(a){var c,
d=b.ka(),f=d.h().set(0,0),k=s.options.scale,m=h.length,p=m||"main"!==s.id?h:g.ga.lc;if(s.options.Np)return d.F(),s;s.options.offset&&("center"===s.options.offset?f.add(0.5*s.B.width,0.5*s.B.height).D(1/k):f.pa(s.options.offset).D(1/k));s.options.al&&f.P(s.options.al.state.e);!1!==a&&s.Zb.clearRect(0,0,s.B.width,s.B.height);1!==k&&(s.Zb.save(),s.Zb.scale(k,k));c=0;for(m=p.length;m>c;++c)a=p[c],a.hidden||(a.view||(a.view=g.af(a.G,a.Ie||l[a.G.name])),g.Wf(a,a.view,s.Zb,f));return 1!==k&&s.Zb.restore(),
d.F(),s},this.Rc[c]=s,s},ft:function(a){a=a.id?a.id:a;var b=this.Rc[a].B;return b!==this.B&&b.parentNode.removeChild(b),delete this.Rc[a],this},resize:function(a,b){var c,d;for(d in this.Rc)c=this.Rc[d],c.options.xo&&(c.B.width=a,c.B.height=b);return this},Fg:function(a,c){c=c||this.Zb;b.g.jf(a)?(a.strokeStyle=a.lineWidth?a.strokeStyle:"rgba(0,0,0,0)",b.g.extend(c,a)):(c.fillStyle=c.strokeStyle=a,c.lineWidth=1)},Xk:function(a,b,c,d,f){f=f||this.Zb;f.beginPath();this.Fg(d,f);f.arc(a,b,c,0,h,!1);f.closePath();
f.stroke();f.fill()},ep:function(a,b,c){var d=a[0],f=d.x,d=d.y,g=a.length;c=c||this.Zb;c.beginPath();this.Fg(b,c);c.moveTo(f,d);for(b=1;g>b;++b)d=a[b],f=d.x,d=d.y,c.lineTo(f,d);2<g&&c.closePath();c.stroke();c.fill()},Yk:function(a,b,c,d,f,g){var h=0.5*c,l=0.5*d;g=g||this.Zb;this.Fg(f,g);g.beginPath();g.rect(a-h,b-l,c,d);g.closePath();g.stroke();g.fill()},zs:function(a,b,c,d){var f=a.x;a=a.y;d=d||this.Zb;d.beginPath();this.Fg(c,d);d.moveTo(f,a);f=b.x;a=b.y;d.lineTo(f,a);d.stroke();d.fill()},af:function(a,
b){var c,d=a.aa(),f=d.qa+Math.abs(d.x),d=d.ta+Math.abs(d.y),g=f+1,h=d+1,l=this.vp,t=this.$f,u=a.name;return b=b||this.options.Ie[u]||{},b.src?(c=new Image,c.src=b.src,b.width&&(c.width=b.width),b.height&&(c.height=b.height),c):(g+=0|b.lineWidth,h+=0|b.lineWidth,t.width=2*f+2+(0|2*b.lineWidth),t.height=2*d+2+(0|2*b.lineWidth),l.save(),l.translate(g,h),"circle"===u?this.Xk(0,0,a.Ta,b,l):"convex-polygon"===u?this.ep(a.zd,b,l):"rectangle"===u&&this.Yk(0,0,a.width,a.height,b,l),b.ie&&(l.beginPath(),this.Fg(b.ie,
l),l.moveTo(0,0),l.lineTo(f,0),l.closePath(),l.stroke()),l.restore(),c=new Image(t.width,t.height),c.src=t.toDataURL("image/png"),c)},le:function(a){this.bc.S.innerHTML=a.S.toFixed(2);this.bc.ob.innerHTML=a.ob},Wf:function(a,b,c,d){var f,g,h,l,t=a.state.e;g=a.state.f;h=this.Tg||0;d=d||this.options.offset;c=c||this.Zb;f=t.x+d.x+g.x*h;g=t.y+d.y+g.y*h;h=a.state.i.e+a.state.i.f*h;c.save();c.translate(f,g);c.rotate(h);c.drawImage(b,-b.width/2,-b.height/2);c.restore();this.options.debug&&(l=a.aa(),this.Yk(l.x,
l.y,2*l.qa,2*l.ta,"rgba(0, 0, 255, 0.3)"),a.Sg=a.Sg||this.af(a.G,"rgba(255, 0, 0, 0.5)"),c.save(),c.translate(t.x+d.x,t.y+d.y),c.rotate(a.state.i.e),c.drawImage(a.Sg,0.5*-a.Sg.width,0.5*-a.Sg.height),c.restore())},l:function(a,b){this.ga.ia("beforeRender",{$a:this,Ma:b});this.options.Ma&&this.le(b);this.Tg=b.sl;for(var c in this.Rc)this.Rc[c].l();return this}}}),b.$a("dom",function(b){function c(b,d){var f=a.createElement(b||"div");return d&&(f.innerHTML=d),f}function g(a){return a.replace(/(?:^|\s)\w/g,
function(a){return a.toUpperCase()})}if(!a)return{};var h={},l=a.createElement("div"),p=function(a){if(h[a])return h[a];for(var b,c=["Webkit","Moz","Ms","O"],d=0,f=c.length;f>d;++d)if(b=c[d]+g(a),b in l.style)return h[a]=b;return b in l.style?h[a]=a:!1}("transform");return{C:function(a){b.C.call(this,a);var g=this.B;if(g.style.position="relative",g.style.overflow="hidden",g.style[p]="translateZ(0)",g.style.width=this.options.width+"px",g.style.height=this.options.height+"px",this.bc={},a.Ma)a=c(),
a.className="pjs-meta",this.bc.S=c("span"),this.bc.ob=c("span"),a.appendChild(c("span","fps: ")),a.appendChild(this.bc.S),a.appendChild(c("br")),a.appendChild(c("span","ipf: ")),a.appendChild(this.bc.ob),g.appendChild(a)},ns:function(a,b){var c=b.aa();a.style.width=2*c.qa+"px";a.style.height=2*c.ta+"px";a.style.marginLeft=-c.qa+"px";a.style.marginTop=-c.ta+"px"},et:function(a,b){var c=b.aa();a.style.width=2*c.qa+"px";a.style.height=2*c.ta+"px";a.style.marginLeft=-c.qa+"px";a.style.marginTop=-c.ta+
"px"},af:function(a){var b=c(),d=a.name+"Properties";return b.className="pjs-"+a.name,b.style.position="absolute",b.style.top="0px",b.style.left="0px",this[d]&&this[d](b,a),this.B.appendChild(b),b},eb:function(a){a.p("add:body",this.Lk,this);a.p("remove:body",this.detach,this)},disconnect:function(a){a.rb("add:body",this.Lk);a.rb("remove:body",this.detach)},detach:function(a){var b=(a=a.nodeType&&a||a.body&&a.body.view)&&a.parentNode;return a&&b&&b.removeChild(a),this},Lk:function(a){a=a.nodeType&&
a||a.body&&a.body.view;return a&&this.B.appendChild(a),this},le:function(a){this.bc.S.innerHTML=a.S.toFixed(2);this.bc.ob.innerHTML=a.ob},Wf:function(a,b){var c=a.state.e,d=a.state.f,f=this.Tg;b.style[p]="translate("+(c.x+d.x*f)+"px,"+(c.y+d.y*f)+"px) rotate("+(a.state.i.e+a.state.i.f*f)+"rad)"}}}),b.$a("pixi",function(c){function f(a,c){return b.g.Si(c)?b.g.extend({},a,c,f):void 0!==c?c:a}if(!a)return{};2*Math.PI;var g={debug:!1,Fl:null,offset:{x:0,y:0},Ie:{color:"0x66FF99",dt:"0xE8900C",Po:{strokeStyle:"0xE8900C",
lineWidth:3,fillStyle:"0xD5DE4C",ie:"0xE8900C"},"convex-polygon":{strokeStyle:"0xE8900C",lineWidth:3,fillStyle:"0xD5DE4C",ie:"0xE8900C"}}};return{C:function(h){if("undefined"==typeof PIXI)throw"PIXI obj not present - cannot continue ";c.C.call(this,h);this.options=b.g.extend({},g,this.options,f);this.options.offset=b.h(this.options.offset);this.Fe=new PIXI.Xr(this.options.Ie.color);this.$a=new PIXI.Mk(this.options.width,this.options.height);this.Ma={};"CANVAS"===this.B.nodeName?this.$a=new PIXI.Mk(this.options.width,
this.options.height,this.B):(this.$a=new PIXI.Mk(this.options.width,this.options.height),null!==this.B?this.B.appendChild(this.$a.view):a.body.appendChild(this.$a.view))},Ns:function(a,c){if(!b.g.isArray(a))throw"Spritesheets must be defined in arrays";var d=this,f=new PIXI.gr(a);return f.load(),f.p("onComplete",function(){d.wo=!0;c()}),d},Wf:function(a,b){var c,d,f;d=a.state.e;var g=a.state.f;f=this.Tg||0;c=d.x+g.x*f;d=d.y+g.y*f;f=a.state.i.e+a.state.i.f*f;b.position.x=c;b.position.y=d;b.rotation=
f},l:function(a,b){c.l.call(this,a,b);this.$a.l(this.Fe)},So:function(a,b,c,d){var f=new PIXI.jk;return f.si(d.fillStyle),f.wl(d.lineWidth,d.strokeStyle),f.Xk(a,b,c),f.T.x=a/2+c/2,f.T.y=b/2+c/2,f},To:function(a,b){var c=a[0],d=c.x,c=c.y,f=a.length,g=d,v=c,r=new PIXI.jk;r.si(b.fillStyle);r.wl(b.lineWidth,b.strokeStyle);r.moveTo(d,c);for(var s=1;f>s;++s)c=a[s],d=c.x,c=c.y,r.lineTo(d,c);return 2<f&&r.lineTo(g,v),r.$k(),r},ss:function(a,b,c){var d=a.x;a=a.y;var f=new PIXI.jk;return f.si(c.fillStyle),
f.wl(c.lineWidth,c.strokeStyle),f.moveTo(d,a),d=b.x,a=b.y,f.lineTo(d,a),f.$k(),f},af:function(a){var b=null,c=a.aa(),d=c.qa+Math.abs(c.x)+1,c=c.ta+Math.abs(c.y)+1,f=a.name,g=g||this.options.Ie[f];if(d+=0|g.lineWidth,c+=0|g.lineWidth,"circle"===f?b=this.So(d,c,a.Ta,g):"convex-polygon"===f&&(b=this.To(a.zd,g)),g.ie&&(b.si(g.ie),b.moveTo(d/2,5+g.lineWidth),b.lineTo(d/2+a.Ta/2,a.Ta),b.$k()),b)return this.Fe.j(b),b;throw"Invalid view name passed.";},le:function(a){if(this.Ma.loaded)this.Ma.S.xq("FPS: "+
a.S.toFixed(2)),this.Ma.ob.xq("IPF: "+a.ob);else{var b={font:"18px Snippet",fill:"white",align:"left"};this.Ma.S=new PIXI.Gn("FPS: "+a.S.toFixed(2),b);this.Ma.S.position.x=15;this.Ma.S.position.y=5;this.Ma.ob=new PIXI.Gn("IPF: "+a.ob,b);this.Ma.ob.position.x=15;this.Ma.ob.position.y=30;this.Fe.j(this.Ma.S);this.Fe.j(this.Ma.ob);this.Ma.loaded=!0}},rs:function(a,b){var c=null,d=null;switch(a){case "sprite":return d=PIXI.Hn.Ds(b.Jq),c=new PIXI.Wr(d),b.anchor&&(c.anchor.x=b.anchor.x,c.anchor.y=b.anchor.y),
b.Ci?b.Ci.j(c):this.Fe.j(c),c;case "movieclip":if(!this.wo)throw"No assets have been loaded. Use loadSpritesheet() first";var f=[],g=0;for(g;g<b.frames.length;g++)d=PIXI.Hn.Cs(b.frames[g]),f.push(d);return c=new PIXI.Jr(f),b.anchor&&(c.anchor.x=b.anchor.x,c.anchor.y=b.anchor.y),b.Ci?b.Ci.j(c):this.Fe.j(c),c;default:throw"Invalid PIXI.DisplayObject passed";}},ms:function(a){null!==a&&(a.anchor.x=0.5,a.anchor.y=0.5)}}}),b}.call(this);!0;function Of(a){Of.b.call(this,a);this.data=[]}Of.extend(S);Of.register("GameEvent");
function Pf(){Pf.b.call(this);this.rg=new wb}Pf.extend(R);Pf.register("GameEventDispatcher");aa(Pf);n=Pf.prototype;n.Qe=function(){this.rg.mb=[]};n.addEventListener=function(a,b){this.rg.addEventListener(a,b)};n.p=Pf.prototype.addEventListener;n.removeEventListener=function(a,b){this.rg.removeEventListener(a,b)};n.dispatchEvent=function(a){this.rg.dispatchEvent(a)};n.Xc=function(a){return this.rg.Xc(a)};
function Qf(){Qf.b.call(this);this.oe=this.hg=this.qe=this.pe=this.Dc=this.mh=this.ne=this.ig=this.tc=null}Qf.extend(R);Qf.register("GameLayerManager");aa(Qf);Qf.prototype.Qe=function(){this.tc.Ce();this.ne.Ce();this.tc.visible=!0;this.ne.visible=!1};
Qf.prototype.ha=function(){var a=this;a.hg=new U;a.hg.name="layer_loading";a.hg.width=C;a.hg.height=D;a.hg.visible=!1;a.tc=new U;a.tc.name="layer_ui";a.tc.width=Rf;a.tc.height=Sf;a.tc.x=pa;a.tc.y=qa;a.tc.H=!1;a.mh=new U;a.mh.name="layer_ui_tooltip";a.mh.H=!1;a.mh.visible=!0;a.Dc=new U;a.Dc.name="layer_ui_topmost";a.Dc.width=C;a.Dc.height=D;a.Dc.visible=!1;a.Dc.addEventListener("click",function(){Me(a.Dc)});a.ne=new U;a.ne.name="layer_battle";a.ne.width=C;a.ne.height=D;a.ne.H=!1;a.ig=new U;a.ig.name=
"layer_map";a.ig.width=C;a.ig.height=D;a.ig.H=!1;a.oe=new U;a.oe.name="layer_billboard";a.oe.width=C;a.oe.height=D;a.oe.H=!1;a.oe.Xa=!1;a.oe.visible=!1;a.pe=new U;a.pe.name="layer_induct";a.pe.width=C;a.pe.height=D;a.pe.H=!1;a.pe.x=0;a.pe.y=0;a.qe=new U;a.qe.name="layer_shield";a.qe.width=C;a.qe.height=D;a.qe.visible=!1;a.qe.Xa=!1;a.qe.addEventListener("click",function(){Tf.k().If("\u7cfb\u7edf\u6d88\u606f","\u7a97\u53e3\u4fdd\u62a4\u4e2d...",null,null,!0)});G.j(a.tc)};
function Uf(a,b){a.Dc.Ce();a.Dc.visible=!0;a.Dc.j(b)}function Vf(){Qf.k().Dc.visible=!1}function Wf(){Wf.b.call(this);this.$c=Wf.Bn;this.mj=this.hj="";this.te=null}Wf.extend(R);Wf.register("GameBaseResource");Wf.Bn=0;Wf.Xh=1;Wf.nk=2;Wf.prototype.Kg=function(){};Wf.prototype.hk=function(){};Wf.prototype.Df=function(){};function Xf(){Xf.b.call(this);this.ph=[];this.re=[]}Xf.extend(Wf);Xf.register("GameImageResource");
Xf.prototype.Kg=function(){this.$c=Wf.nk;this.te=pc[this.mj+this.hj];for(var a=0,b=this.re.length;a<b;a++)(0,this.re[a][0])(this.te,this.re[a][1]);a=this.re.length=0;for(b=this.ph.length;a<b;a++){var c=new ic(this.te);this.ph[a].j(c)}this.ph.length=0};Xf.prototype.hk=function(){if(this.$c!=Wf.nk)return this.Df();var a=new U,b=new ic(this.te);a.j(b);return a};var Yf=0;Xf.prototype.Df=function(){var a=new U;this.ph.push(a);a.index=Yf++;return a};
function Zf(){Zf.b.call(this);this.uh=new mc;this.vg=[];this.pg=null;this.Cl={};this.dc=null;this.$c=$f}Zf.extend(R);Zf.register("GameLoaderManager");aa(Zf);var $f=0;
Zf.prototype.Cf=function(a,b,c,e){var d=this.Cl[a];d||(d={},this.Cl[a]=d);var f=d[b];if(f){if(f.$c===Wf.Xh)return c&&f.re.push([c,e]),f.Df();if(!f.te.Ib())return c&&f.re.push([c,e]),this.vg.push(f),f.$c=Wf.Xh,a=f.Df(),this.be(),a;c&&c(f.te,e);return f.hk()}f=new Xf;c&&f.re.push([c,e]);d[b]=f;this.vg.push(f);f.mj=a;f.hj=b;f.$c=Wf.Xh;a=f.Df();this.be();return a};
Zf.prototype.be=function(a){if(1!=this.$c)if(this.$c=1,this.dc=a,0==this.vg.length){if(this.dc)try{this.dc()}catch(b){console.log(b.message)}this.$c=$f}else this.ae()};Zf.prototype.ae=function(){var a=this;if(a.vg.length)a.pg=a.vg.shift(),a.uh.yd.push(a.pg.mj+a.pg.hj),a.uh.be(function(){a.pg.Kg();a.uh.state=nc;a.ae()});else{a.pg=null;a.uh.nh.content=null;if(a.dc)try{a.dc()}catch(b){console.log(b.message)}a.$c=$f}};
function ag(){ag.b.call(this);this.sg=[{name:"longitude",text:"Longitude: ",value:0,la:"white",x:0,y:0,width:0,height:0},{name:"latitude",text:"Latitude: ",value:0,la:"white",x:0,y:0,width:0,height:0},{name:"altitude",text:"Altitude: ",value:0,la:"white",x:0,y:0,width:0,height:0},{name:"timestamp",text:"Time Stamp: ",value:0,la:"white",x:0,y:0,width:0,height:0},{name:"accuracy",text:"Accuracy: ",value:0,la:"white",x:0,y:0,width:0,height:0},{name:"speed",text:"Speed: ",value:0,la:"white",x:0,y:0,width:0,
height:0}]}ag.extend(R);ag.register("GameLocationManager");aa(ag);ag.prototype.ha=function(){O&&navigator.geolocation.watchPosition(this.Kn.bind(this),this.kn.bind(this))};ag.prototype.Kn=function(a){for(var b=0;b<this.sg.length;b++)this.sg[b].value="timestamp"===this.sg[b].name?a.timestamp:a.coords[this.sg[b].name];console.log(this.sg)};ag.prototype.kn=function(a){console.error("Geolocation Error: "+a.message)};
function Tf(){Tf.b.call(this);this.X(500);this.U(198);this.alpha=1;this.J.text="";this.J.la="#FFFF00";this.Oj=0;this.Pj=4;this.zb.visible=!1;this.R.visible=!1;this.Nj=1;this.yi=this.xi=0;this.tg=!1;this.J.size=50;this.J.height=this.J.size;this.J.sb=!0;this.J.Kc=!1;this.J.htmlText="";this.J.yb=20;this.precision=!1;var a=od($.k(),"JWindow","engine.newframe");a&&this.sa(a,"engine.newframe");(a=od($.k(),"JSimpleButton","engine.progressbar.block"))&&this.zb.sa(a,"engine.progressbar.block");(a=od($.k(),
"JBitmap","engine.example"))&&this.R.sa(a,"engine.example");this.Ef();this.$d()}Tf.extend(Xc);Tf.register("GameMessageBox");aa(Tf);n=Tf.prototype;
n.Ef=function(){var a=null;this.oa=new W;this.j(this.oa);this.oa.x=85;this.oa.y=123;this.oa.X(140);this.oa.U(40);this.oa.alpha=1;this.oa.A.text="\u786e\u5b9a";this.oa.A.la="#08F";this.oa.A.size=20;this.oa.A.sb=!0;this.oa.A.Kc=!1;this.oa.precision=!1;this.oa.H=!0;this.oa.Gg=!0;this.oa.A.htmlText="";this.oa.A.yb=20;this.oa.tj=!1;(a=od($.k(),"JSimpleButton","engine"))&&this.oa.sa(a,"engine");this.xa=new Lb;this.j(this.xa);this.xa.x=39.5;this.xa.y=46;this.xa.X(421);this.xa.U(45);this.xa.alpha=1;this.xa.text=
"\u6d88\u606f\u6846";this.xa.la="#0F0";this.xa.size=24;this.xa.sb=!0;this.xa.Kc=!1;this.xa.H=!0;this.xa.Xp=!1;this.xa.rf=!1;this.xa.align=1;this.xa.htmlText="";this.xa.yb=20;(a=od($.k(),"JTextField",""))&&this.xa.sa(a,"");this.na=new W;this.j(this.na);this.na.x=296;this.na.y=123;this.na.X(140);this.na.U(40);this.na.alpha=1;this.na.A.text="\u53d6\u6d88";this.na.A.la="#08F";this.na.A.size=20;this.na.A.sb=!0;this.na.A.Kc=!1;this.na.precision=!1;this.na.H=!0;this.na.Gg=!0;this.na.A.htmlText="";this.na.A.yb=
20;this.na.tj=!1;(a=od($.k(),"JSimpleButton","engine"))&&this.na.sa(a,"engine")};n.$d=function(){this.Lg()};n.Lg=function(){this.J.visible=!1;this.R.visible=!1;this.removeChild(this.J);this.removeChild(this.R)};n.l=function(a,b,c,e,d,f,g){Tf.b.prototype.l.call(this,a,b,c,e,d,f,g)};
n.$d=function(){var a=this;a.Lg();a.zb.visible=!1;a.xa.align=1;a.xa.H=!1;a.xa.Xa=!1;a.lj=null;a.lg=null;a.tg=!1;a.zb.addEventListener("click",function(){Vf();a.lg&&a.lg()});a.na.addEventListener("click",function(){Vf();a.lg&&a.lg()});a.oa.addEventListener("click",function(){Vf();a.lj&&a.lj()});a.sh=a.oa;a.rh=a.na};
n.If=function(a,b,c,e,d,f){var g=this;f&&3!=f?1==f?(g.oa.x=190,g.oa.visible=!0,g.na.visible=!1):2==f&&(g.na.x=190,g.oa.visible=!1,g.na.visible=!0):(g.na.x=296,g.na.y=123,g.na.visible=!0,g.oa.x=85,g.oa.y=123,g.oa.visible=!0);Uf(Qf.k(),g);da=g;g.J.text=""+a;g.J.K();g.xa.text=""+b;g.xa.K();g.lj=c;g.lg=e;g.x=(bg.vr-g.width)/2;g.y=(bg.ur-g.height)/2+10;a=g.y-50;var h=g.y-100;g.alpha=0.05;Vc(g,0.3,{alpha:1,y:a,Qb:function(){d&&Vc(g,1.5,{Qb:function(){Vc(g,0.2,{alpha:0,y:h,Qb:function(){Vf()}})}})}})};
function cg(){cg.b.call(this)}cg.extend(R);cg.register("GameMessageManager");aa(cg);cg.prototype.If=function(a,b,c,e){var d=new U;d.H=!1;d.Xa=!1;var f=0,g=0;a&&(d.j(a),f=a.width,g=a.height-24);Qf.k().tc.j(d);a=new Ub;d.j(a);a.X(800);a.U(125);a.qk(24);a.H=!0;a.alpha=1;a.Hb(b);a.pk(!1);a.x=f;a.y=g;b=a.ik();800<b&&(b=800);d.x=c-0.5*b;d.y=e;d.alpha=0.4;Vc(d,0.75,{alpha:1,y:e-100,Qb:function(a){Vc(a,0.75,{Qb:function(a){Db(a)},zg:[a]})},zg:[d]})};function dg(){dg.b.call(this);this.Ef();this.$d()}dg.extend(U);
dg.register("GameScreenShield");aa(dg);n=dg.prototype;n.ha=function(){};n.Ef=function(){var a=new U;a.width=4096;a.height=4096;a.x=-2048;a.y=-2048;Ib(this,a,0);a.addEventListener("click",function(){});this.nb=new rc;this.j(this.nb);(a=od($.k(),"JMovieClip","engine.star"))&&this.nb.sa(a,"engine.star");this.nb.x=194;this.nb.y=11;this.nb.X(150);this.nb.U(26);this.nb.ok(C-75,26);this.nb.alpha=1;this.nb.n=1;this.nb.o=1;this.nb.v=75;this.nb.w=26;this.nb.frames=24;this.nb.S=24;this.nb.H=!0;this.nb.Xa=!0};
n.$d=function(){this.Qh();this.wg=0;this.qb=!1;this.Lp=1E3;Td().j("GameScreenShield",this.dn.bind(this))};n.dn=function(a){try{this.qb&&(this.wg+=a,this.wg>this.Lp&&(console.log("\u670d\u52a1\u5668\u8d85\u65f6\uff0c\u5f3a\u5236\u89e3\u5c4f!"+this.wg),this.qb=!1,G.removeChild(this)))}catch(b){alert("error:GameScreenShield")}};n.Qe=function(){this.wg=0;this.qb=!0};n.Qh=function(){};function eg(){eg.b.call(this)}eg.extend(R);eg.register("GameSoundManager");aa(eg);
eg.prototype.Cf=function(a){return(a=bg.Pr[a])?SoundManager.k().wr(fg.Vr+a.name+".mp3"):null};function gg(){this.id="";this.Zl=!1;this.path=this.ea=""}function hg(){this.ea="";this.ih=[];this.ui=[];this.loaded=!1}function ig(){ig.b.call(this);this.Pa=null;this.Bi=[];this.zh={};this.Uf=this.Be=null}ig.extend(R);ig.register("GameModuleManager");aa(ig);ig.prototype.ha=function(a){this.Pa=a;Pa?this.Uh():zb(jg,this.Th,this)};
ig.prototype.Uh=function(){for(var a=kg[0],b=0,c=a.length;b<c;b++){var e=a[b],d={};d.id=e[0];d.Zl=e[1];d.path=e[2];this.Bi[d.id]=d}a=kg[1];b=0;for(c=a.length;b<c;b++)e=a[b],d={},d.name=e[0],d.ih=e[1],d.ui=[],Oe(d.ui,d.ih),this.zh[d.name]=d;this.Pa&&this.Pa()};
ig.prototype.Th=function(a){for(var b=ig.k(),c=a.getElementsByTagName("config"),e=c.length,d=0;d<e;d++){var f=c[d],g=new gg;g.id=f.getAttribute("id");var h=g,l=f.getAttribute("shared");h.Zl=l?"true"===l.toLowerCase():!1;g.ea=f.getAttribute("desc");g.path=f.getAttribute("path");b.Bi[g.id]=g}a=a.getElementsByTagName("module");e=a.length;for(d=0;d<e;d++){f=a[d];c=new hg;g=f.getAttribute("name");c.ea=f.getAttribute("desc");h=[];c.ih=h;for(var f=f.getElementsByTagName("res"),l=f.length,p=0;p<l;p++){var k=
f[p].getAttribute("id");h.push(k)}Oe(c.ui,h);b.zh[g]=c}b.Pa&&b.Pa()};function lg(a,b,c){a.Be=c;(b=a.zh[b])?(b.loaded&&(a.Be=null,c&&c()),a.Uf=b,mg(a)):(a.Be=null,c())}function ng(a,b){var c=a.zh[b];return c?c.loaded:!0}function mg(a){if(a.Uf){var b=a.Uf.ih.shift();b?(b=a.Bi[b].path,Xd($.k(),b,function(){mg(a)})):(a.Uf.loaded=!0,a.Uf=null,a.Be&&a.Be())}else a.Be&&a.Be()}function og(a){og.b.call(this);this.name=a;this.loaded=!1;this.Pa=null}og.extend(U);og.register("GameUI");og.prototype.If=function(){};
og.prototype.load=function(){};function Yc(){Yc.b.call(this);this.pj={};this.Qd=!0;this.bj=[]}Yc.extend(R);Yc.register("GameUIManager");aa(Yc);var pg={};n=Yc.prototype;n.Pe=function(a,b){this.pj[a]=b};n.ha=function(){};
n.Cf=function(a,b){var c=this;if(c.Qd){c.Qd=!1;try{var e=c.pj[a];e?ng(ig.k(),a)?(b&&b(e),qg(c)):lg(ig.k(),a,function(){c.Qd=!0;e.oj=Ja;b&&b(e);qg(c)}):lg(ig.k(),a,function(){a:{try{var d=pg[a];if(!d){e=null;break a}var g=new d;g.Al=a;c.Pe(a,g);e=g;break a}catch(h){console.log("GameUIManager.prototype.CreateUI:"+a+":"+h.message)}e=void 0}c.Qd=!0;e.oj=Ja;b&&b(e);qg(c)});return e}catch(d){console.log(["UI[",a,"]:",d.message].join("")),c.Qd=!0}}else c.bj.push([a,b])};
n.Wh=function(a,b){var c=this;a&&(c.Qd=!1,lg(ig.k(),a.Al,function(){c.Qd=!0;a.oj=Ja;b&&b(a)}))};function qg(a){a.Qd=!0;if(0<a.bj.length){var b=a.bj.shift();a.Cf(b[0],b[1])}}n.Qe=function(){this.pj=[]};function rg(){}var sg=null,tg=[];rg.prototype.Ng=function(a,b,c){b.addEventListener(c,a);tg[c]||(tg[c]=[]);tg[c].push(b)};function ug(a,b){ug.b.call(this,a);this.Bh=b}ug.extend(S);ug.register("SocketDataEvent");function fg(){fg.b.call(this)}fg.extend(R);fg.register("GameConfig");var jg="xmls/FruitNinja/ui/module/config.xml";
function vg(){vg.b.call(this)}vg.extend(R);vg.register("GameConstant");function bg(){bg.b.call(this)}bg.extend(R);bg.register("GameData");function wg(){wg.b.call(this)}wg.extend(R);wg.register("GameEventType");function xg(){xg.b.call(this)}xg.extend(R);xg.register("GameParser");aa(xg);xg.prototype.ha=function(a){for(var b=0,c=yg.length;b<c;b++);yg=null;a&&a()};
var yg=[[0,"192.168.1.108",14E3,""]],kg=[[["game.common",!0,"xmls/FruitNinja/ui/game.common.xml"],["game.fruit",!1,"xmls/FruitNinja/ui/game.fruit_release.xml"],["game.scene",!1,"xmls/FruitNinja/ui/game.scene_release.xml"]],[["SCENE",["game.common","game.fruit","game.scene"]]]];
Zd["xmls/engine/engine.xml"]=[[["engine.button.normal","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,445,242,32,32],["engine.button.hover","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,361,260,32,32],["engine.button.click","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,429,276,32,32],["engine.button.disabled","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,395,260,32,32],["engine.closebutton.normal","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,374,44,69,70],
["engine.closebutton.hover","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,374,116,69,70],["engine.closebutton.click","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,374,188,69,70],["engine.closebutton.disabled","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,374,44,69,70],["engine.checkbox.disabled","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,441,19,19],["engine.checkbox.disabledSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,420,19,19],["engine.checkbox.pressed",
"images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,399,19,19],["engine.checkbox.pressedSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,378,19,19],["engine.checkbox.rollover","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,403,315,19,19],["engine.checkbox.rolloverSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,382,315,19,19],["engine.checkbox.selected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,361,315,19,19],["engine.checkbox.up","images/engine/engine.png",
!1,!1,0,0,0,0,0,0,0,0,0,0,424,310,19,19],["engine.combobox.up","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,462,17,18],["engine.combobox.pressed","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,21,462,17,18],["engine.combobox.rollover","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,482,17,18],["engine.combobox.text.normal","images/engine/engine.png",!0,!1,3,3,76,15,0,0,0,0,0,0,374,2,79,19],["engine.combobox.text.disabled","images/engine/engine.png",!0,!1,3,3,76,15,0,0,0,0,0,
0,374,23,79,19],["engine.combobox.text.uneditable","images/engine/engine.png",!0,!1,3,3,76,15,0,0,0,0,0,0,374,2,79,19],["engine.frame.bg","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,445,208,32,32],["engine.tooltip.bg","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,455,2,32,32],["engine.loading.bg","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,227,357,92],["engine.loading.center","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,445,56,5,4],["engine.loading.left","images/engine/engine.png",
!1,!1,0,0,0,0,0,0,0,0,0,0,445,50,5,4],["engine.loading.right","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,445,44,5,4],["engine.loading.spot","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,479,242,24,24],["engine.radiobutton.disabledSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,403,294,19,19],["engine.radiobutton.disalbed","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,382,294,19,19],["engine.radiobutton.pressed","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,
0,0,0,361,294,19,19],["engine.radiobutton.pressedSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,479,268,19,19],["engine.radiobutton.rollover","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,489,65,19,19],["engine.radiobutton.rolloverSelected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,489,44,19,19],["engine.radiobutton.selected","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,0,0,0,489,23,19,19],["engine.radiobutton.up","images/engine/engine.png",!1,!1,0,0,0,0,0,0,0,
0,0,0,489,2,19,19],["engine.textfield.normal","images/engine/engine.png",!0,!1,2,2,182,22,0,0,0,0,0,0,315,336,184,24],["engine.container.bg","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,445,208,32,32],["engine.window.bg","images/engine/engine.png",!0,!1,4,4,28,28,0,0,0,0,0,0,445,208,32,32],["engine.window.title.bg","images/engine/engine.png",!0,!1,15,15,296,40,0,0,0,0,0,0,2,321,311,55],["engine.progressbar.fg","images/engine/engine.png",!0,!1,2,2,57,57,0,0,0,0,0,0,445,86,59,59],["engine.progressbar.bg",
"images/engine/engine.png",!0,!1,2,2,57,57,0,0,0,0,0,0,445,147,59,59],["engine.messagebox.bg","images/engine/engine.png",!0,!1,30,135,235,200,0,0,0,0,0,0,2,2,370,223],["engine.messagebox.title.bg","images/engine/engine.png",!0,!1,15,15,296,40,0,0,0,0,0,0,2,321,311,55],["engine.hspacer","images/engine/engine.png",!1,!0,0,0,0,0,0,0,0,0,0,0,479,208,30,32],["engine.vspacer","images/engine/engine.png",!1,!0,0,0,0,0,0,0,0,0,0,0,463,289,32,30]],[["engine","engine.button"],["engine.window.close","engine.closebutton"],
["engine.progressbar.block","engine.closebutton"]],[["engine","engine.button"]],[["engine","engine.textfield.normal"]],[["engine.tooltip","engine.tooltip.bg"],["engine","engine.container.bg"]],[["engine","engine.window"],["engine.messagebox","engine.messagebox"]],[],[["engine","engine.progressbar"]],[["engine.window.title","engine.window.title.bg"],["engine.example","engine.progressbar.fg"]]];Zd["xmls/FruitNinja/ui/game.common.xml"]=[[],[],[],[],[],[],[],[],[]];
Zd["xmls/FruitNinja/ui/game.fruit_release.xml"]=[[["fruit.shadow","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,53,38,0,0,130,2,106,77],["fruit.basaha-w","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,34,36,0,0,278,92,68,72],["fruit.basaha-j","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,196,92,80,80],["fruit.basaha-l","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,34,36,0,0,236,253,52,52],["fruit.basaha-r","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,34,
36,0,0,346,247,64,64],["fruit.basaha-s","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,102,81,92,88],["fruit.sandia-w","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,49,42,0,0,2,54,98,85],["fruit.sandia-j","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,426,2,80,80],["fruit.sandia-l","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,49,42,0,0,278,166,66,85],["fruit.sandia-r","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,49,42,0,0,348,92,66,85],["fruit.sandia-s",
"images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,238,2,92,88],["fruit.apple-w","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,33,33,0,0,346,179,66,66],["fruit.apple-j","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,96,171,80,80],["fruit.apple-l","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,33,33,0,0,74,253,52,58],["fruit.apple-r","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,33,33,0,0,178,236,56,62],["fruit.apple-s","images/FruitNinja/pack/fruit.png",
!1,!1,0,0,0,0,0,0,50,50,0,0,332,2,92,88],["fruit.peach-w","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,31,30,0,0,412,288,62,59],["fruit.peach-j","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,426,84,80,80],["fruit.peach-l","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,31,30,0,0,2,273,52,53],["fruit.peach-r","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,31,30,0,0,128,253,48,53],["fruit.peach-s","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,31,30,0,0,2,141,
92,88],["fruit.banana-w","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,63,25,0,0,2,2,126,50],["fruit.banana-j","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,50,50,0,0,426,84,80,80],["fruit.banana-l","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,63,25,0,0,2,231,70,40],["fruit.banana-r","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,63,25,0,0,414,236,66,50],["fruit.banana-s","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,63,25,0,0,2,141,92,88],["fruit.wall","./images/FruitNinja/game/wall/wall.jpg",
!1,!1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],["fruit.bomb","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,33,34,0,0,416,166,66,68],["fruit.null","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,0,0,0,0,102,54,1,1],["fruit.star","images/FruitNinja/pack/fruit.png",!1,!1,0,0,0,0,0,0,32,32,0,0,178,174,60,60]],[],[],[],[],[],[],[],[]];
Zd["xmls/FruitNinja/ui/game.scene_release.xml"]=[[["scene.logo","images/FruitNinja/pack/scene.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,2,288,135],["scene.home_desc","images/FruitNinja/pack/scene.png",!1,!1,0,0,0,0,0,0,0,0,0,0,2,139,161,91],["scene.ninja","images/FruitNinja/pack/scene.png",!1,!1,0,0,0,0,0,0,0,0,0,0,165,139,244,81]],[],[],[],[],[],[],[],[["logo","scene.logo"],["home_desc","scene.home_desc"],["ninja","scene.ninja"]]];function zg(){zg.b.call(this);this.mg=[];this.Mg();this.Pe()}zg.extend(wb);
zg.register("UserDataModel");aa(zg);n=zg.prototype;n.on=function(a){var b=a.type;a=a.Bh;var c=this.mg[b];c?c.call(this,a):console.log("\u534f\u8bae["+b.toString(16)+"]\u672a\u5904\u7406")};n.Ng=function(a,b){sg||(sg=new rg);sg.Ng(this.on,this,a);this.mg[a]=b};n.Mg=function(){};n.Pe=function(){this.Ng(Protocol.Or,this.tn);this.Ng(Protocol.Nr,this.sn)};n.tn=function(a){Tf.k().If("Login","\u767b\u5f55\u6210\u529f"+a.Ss,null,null,!1,3)};n.sn=function(){Tf.k().If("Login","LoginFail",null,null,!1,3)};
var ua=1136,va=640,Rf=1136,Sf=640,Ya=0;function wf(a,b,c){We=Ve=1;C=a;D=b;c.width=a;c.height=b;ua=a;va=640}var $e=!1,Ef=xa=!0,Qa=!1,Va="#4F8",ff=!1,Xa="?r=201405091242",Ag="",N=!0,Za=!1;function xf(){ya.style.borderRadius="1em";ya.style.border="3px solid #08f"}window.main=function(){vf(Bg)};function Bg(){pa=0.5*(C-Rf)|0;qa=0.5*(D-Sf)|0;try{Qf.k().ha(),Yc.k().ha(),ig.k().ha(function(){xg.k().ha(function(){Dg()})})}catch(a){console.log(a.message)}}
function Dg(){Ag&&Yc.k().Cf(Ag,function(a){Qf.k().tc.j(a);a.ek()})}Ya=2;Ag="SCENE";xa=!1;Qa=!0;$e=!1;Ef=!0;N=!1;
function Eg(){Eg.b.call(this);this.X(1024);this.U(768);this.alpha=1;this.J.text="";this.J.la="#FFFF00";this.Oj=0;this.Pj=4;this.zb.visible=!1;this.R.visible=!1;this.Nj=1;this.yi=this.xi=0;this.tg=!1;this.J.size=50;this.J.height=this.J.size;this.J.sb=!1;this.J.Kc=!1;this.J.htmlText="";this.J.yb=20;this.precision=!1;var a=od($.k(),"JWindow","engine");a&&this.sa(a,"engine");(a=od($.k(),"JSimpleButton","engine.window.close"))&&this.zb.sa(a,"engine.window.close");(a=od($.k(),"JBitmap","engine.window.title"))&&
this.R.sa(a,"engine.window.title");this.Ef();this.$d()}Eg.extend(Xc);Eg.register("SceneMain");aa(Eg);
Eg.prototype.Ef=function(){var a=null;this.Ka=new ic;this.j(this.Ka);this.Ka.x=0;this.Ka.y=0;this.Ka.alpha=1;this.Ka.H=!0;this.Ka.kb=0;this.Ka.rotation=0;this.Ka.n=1;this.Ka.o=1;(a=od($.k(),"JBitmap","logo"))&&this.Ka.sa(a,"logo");this.Ka.X(288);this.Ka.U(128);this.Ka.v=0;this.Ka.w=0;this.Sa=new ic;this.j(this.Sa);this.Sa.x=755;this.Sa.y=495;this.Sa.alpha=1;this.Sa.H=!1;this.Sa.kb=0;this.Sa.rotation=0;this.Sa.n=1;this.Sa.o=1;(a=od($.k(),"JBitmap","ninja"))&&this.Sa.sa(a,"ninja");this.Sa.X(244);this.Sa.U(81);
this.Sa.v=0;this.Sa.w=0};Eg.prototype.l=function(a,b,c,e,d,f,g){Eg.b.prototype.l.call(this,a,b,c,e,d,f,g)};Eg.prototype.$d=function(){};pg.SCENE=Eg;n=Eg.prototype;
n.$d=function(){this.H=!1;Eg.hf=this;navigator.userAgent.match(/iPhone/i)?(Ta=10,Ua=6):navigator.userAgent.match(/iPad/i);this.removeChild(this.J);this.removeChild(this.R);this.removeChild(this.c);this.Lg();this.Pe();this.Qh();(new Howl({urls:["sounds/FruitNinja/background.ogg","sounds/FruitNinja/background.mp3"],_loop:!0})).play();ra=function(){};sa=function(){};ta=function(){};Fg();Gg();Hg()};
function Fg(){var a={urls:["sounds/FruitNinja/throw-fruit.ogg","sounds/FruitNinja/throw-fruit.mp3"],_loop:!1},b=new Howl(a),c=new Howl(a),e=new Howl(a),d=new Howl(a),f=new Howl(a),a=new Howl(a),g=0,h=[b,c,e,d,f,a];ra=function(){g++;h[g%h.length].play()}}function Gg(){var a={urls:["sounds/FruitNinja/splatter.ogg"],_loop:!1},b=new Howl(a),c=new Howl(a),e=new Howl(a),d=new Howl(a),f=new Howl(a),a=new Howl(a),g=0,h=[b,c,e,d,f,a];sa=function(){g++;h[g%h.length].play()}}
function Hg(){var a={urls:["sounds/FruitNinja/boom.ogg","sounds/FruitNinja/boom.mp3"],_loop:!1},b=new Howl(a),a=new Howl(a),c=0,e=[b,a];ta=function(){c++;e[c%e.length].play()}}n.Lg=function(){var a=Z($.k(),"fruit.wall");a.x=0.5*(this.width-a.width);a.y=0.5*(this.height-a.height);this.j(a);a.H=!1;a.Xa=!1;this.gj=a=new U;this.j(a);this.j(this.Ka);this.Ka.x=0.5*-(C-this.width)|0;this.Ka.y=0.5*-(D-this.height)|0;this.j(this.Sa);this.Sa.x=this.Ka.x+C-this.Sa.width;this.Sa.y=this.Ka.y+D-this.Sa.height};
n.Pe=function(){};
n.Qh=function(){for(var a=Z($.k(),"fruit.basaha-w"),b=Z($.k(),"fruit.basaha-l"),c=Z($.k(),"fruit.basaha-r"),e=Z($.k(),"fruit.basaha-s"),d=Z($.k(),"fruit.basaha-j"),f=Z($.k(),"fruit.sandia-w"),g=Z($.k(),"fruit.sandia-l"),h=Z($.k(),"fruit.sandia-r"),l=Z($.k(),"fruit.sandia-s"),p=Z($.k(),"fruit.sandia-j"),k=Z($.k(),"fruit.apple-w"),m=Z($.k(),"fruit.apple-l"),q=Z($.k(),"fruit.apple-r"),v=Z($.k(),"fruit.apple-s"),r=Z($.k(),"fruit.apple-j"),s=Z($.k(),"fruit.peach-w"),w=Z($.k(),"fruit.peach-l"),t=Z($.k(),
"fruit.peach-r"),u=Z($.k(),"fruit.peach-s"),x=Z($.k(),"fruit.peach-j"),y=Z($.k(),"fruit.banana-w"),E=Z($.k(),"fruit.banana-l"),I=Z($.k(),"fruit.banana-r"),Q=Z($.k(),"fruit.banana-s"),J=Z($.k(),"fruit.banana-j"),X=Z($.k(),"fruit.bomb"),F=Z($.k(),"fruit.null"),A=Z($.k(),"fruit.star"),ka=Z($.k(),"fruit.shadow"),b=[[a,b,c,e,d,ka],[f,g,h,l,p,ka],[k,m,q,v,r,ka],[s,w,t,u,x,ka],[y,E,I,Q,J,ka]],c=b.length,a=0;a<c;a++)e=new Ig,e.ha(b[a]),this.j(e),e.reset();X=[[X,F,F,F,A,ka]];for(a=0;1>a;a++)F=new Jg,F.ha(X[a]),
this.j(F),F.reset()};n.l=function(a,b,c,e,d,f,g){Eg.b.prototype.l.call(this,a,b,c,e,d,f,g)};function Kg(){Kg.b.call(this);this.ll=7.84;this.Lc=10;this.Gb=-15;this.stop=!1;this.Ga=0}Kg.extend(U);Kg.register("MovableObject");n=Kg.prototype;n.update=function(a){this.stop||(this.x+=10*this.Lc*a,this.Gb+=this.ll*a,this.Ga+=Ka,a=0.001*this.Ga,this.y=850+(-900*a+300*a*a),1300<this.y&&(this.Me(),this.Ga=0))};
n.Me=function(){this.parent.j(this);this.y=1E3;this.Gb=-11.5-Math.random();this.x=300+(C-500)*Math.random();var a=10+10*Math.random();this.Lc=this.x<C/2?a:-a;this.Ne()};n.reset=function(){var a=this;a.y=3E3;a.stop=!0;Vc(null,1+2*Math.random(),{Qb:function(){a.Ga=0;a.parent.j(a);ra();a.visible=!0;a.stop=!1;a.y=680;a.Gb=-11.5-Math.random();a.x=200+(C-400)*Math.random();var b=10+10*Math.random();a.Lc=a.x<C/2?b:-b;a.Ne()}})};n.Ne=function(){};
n.l=function(a,b,c,e,d,f,g){this.update(0.001*Ka);Kg.b.prototype.l.call(this,a,b,c,e,d,f,g)};function Ig(){Ig.b.call(this);this.Cj=this.eg=this.am=this.$l=this.Fh=null;this.H=!1;this.cl=null}Ig.extend(Kg);Ig.register("Fruit");
Ig.prototype.ha=function(a){this.$l=a[1];this.am=a[2];this.Fh=a[3];this.eg=a[4];this.Cj=a[5];var b=a[5].Ub();this.j(b);b.x=-a[5].v+15;b.y=-a[5].w+10;b=new Y;this.j(b);Mc(b,a[0]);b.x=-a[0].v;b.y=-a[0].w;b.v=a[0].v;b.w=a[0].w;b.precision=!0;b.Xa=!1;a=this.Sh.bind(this);b.p(sb,a);b.p("touchRollOver",a);b.p("touchstart",a);b.p("touchend",a);b.kb=2;this.cl=b};
Ig.prototype.Sh=function(){if((M||Wa)&&this.visible){sa();this.visible=!1;var a=this.Fh.Ub();a.x=-this.Fh.v;a.y=-this.Fh.w;var b=new U;b.j(a);a.rotation=2*Math.PI*Math.random();b.Xa=!1;b.H=!1;this.parent.gj.j(b);b.rotation=10*Math.random();b.x=this.x;b.y=this.y;b.n=b.o=1+1*Math.random();Vc(b,3,{alpha:0,zg:[b],Qb:function(a){Db(a)}});a=new Lg;a.ha(this.$l,this.Cj,!0);this.parent.gj.j(a);a.x=this.x;a.y=this.y;a=new Lg;a.ha(this.am,this.Cj,!1);this.parent.gj.j(a);a.x=this.x;a.y=this.y;a=new Mg;a.ha(this.eg);
this.parent.j(a);a.x=this.x;a.y=this.y;this.reset()}};Ig.prototype.Ne=function(){this.cl.kb=0.5<Math.random()?2:-2};Ig.prototype.Me=function(){Ig.b.prototype.Me.call(this)};function Lg(){Lg.b.call(this);this.Gb=this.Lc=0;this.Xa=this.H=!1}Lg.extend(Kg);Lg.register("SubFruit");Lg.prototype.ha=function(a,b,c){var e=this,d=b.Ub();e.j(d);d.x=-b.v;d.y=-b.w;b=new Y;e.j(b);Mc(b,a);b.x=-a.v;b.y=-a.w;b.v=a.v;b.w=a.w;b.precision=!1;b.H=!1;b.Xa=!1;b.kb=c?-2:2;e.Lc=c?-4:4;Vc(null,3,{Qb:function(){Db(e)}})};
Lg.prototype.update=function(a){this.x+=10*this.Lc*a;this.Gb+=this.ll*a;this.y+=this.Gb};Lg.prototype.Me=function(){};function Ng(){this.Gb=this.Lc=this.y=this.x=0;this.n=1;this.stop=!1}function Mg(a){Mg.b.call(this);this.eg=null;this.gg=[];this.Hp=a?a:1;this.H=this.Xa=!1}Mg.extend(Bb);Mg.register("FruitJuice");Mg.prototype.xb=function(){return!1};
Mg.prototype.ha=function(a){var b=this;b.eg=a.u.Ib();b.lh=a;for(a=0;30>a;a++){var c=new Ng;c.x=100*Math.random()-50;c.y=100*Math.random()-50;c.Lc=0.1*c.x*Math.random();c.Gb=0.1*c.y*Math.random();c.scale=0.7*Math.random()*b.Hp;b.gg.push(c)}Vc(null,2,{Qb:function(){b.parent.removeChild(b)}})};Mg.prototype.update=function(){for(var a=this.gg.length,b=Ka,c=0;c<a;c++){var e=this.gg[c];e.stop||(e.scale-=0.02,e.y+=0.1*e.Gb*b,e.x+=0.1*e.Lc*b,e.Gb+=0.098,0>=e.scale&&(e.stop=!0))}};
Mg.prototype.l=function(a,b,c){this.update();var e,d,f,g;e=this.lh.offsetX;d=this.lh.offsetY;f=this.lh.offsetWidth;g=this.lh.offsetHeight;for(var h=this.gg.length,l=0;l<h;l++){var p=this.gg[l];p.stop||a.drawImage(this.eg,e,d,f,g,b+this.x+p.x,c+this.y+p.y,f*p.scale,g*p.scale)}};function Jg(){Jg.b.call(this);this.Hg=this.Rf=null;this.Pd=this.Od=0}Jg.extend(Kg);Jg.register("Bomb");n=Jg.prototype;
n.ha=function(a){var b=a[5].Ub();this.j(b);b.x=-a[5].v+15;b.y=-a[5].w+10;b=new Y;this.j(b);Mc(b,a[0]);b.v=a[0].v;b.w=a[0].w;b.x=-a[0].v;b.y=-a[0].w;b.precision=!0;b.Xa=!1;var c=new Og;this.bm=c;c.ha(a[4]);this.j(c);this.Hg=a[4];a=this.Sh.bind(this);b.p(sb,a);b.p("touchRollOver",a);b.p("touchstart",a);b.p("touchend",a);b.kb=2;this.Rf=b};n.Sh=function(){if((M||Wa)&&this.visible){this.visible=!1;var a=new Mg(2);a.ha(this.Hg);this.parent.j(a);a.x=this.x-50;a.y=this.y-50;ta();Me(Eg.k().Ka);this.reset()}};
n.Ne=function(){this.Rf.kb=0.5<Math.random()?4:-4;this.bm.Ne()};n.Me=function(){Jg.b.prototype.Me.call(this)};n.l=function(a,b,c,e,d,f,g){var h=-this.Rf.rotation,l=-30*Math.cos(h)-30*Math.sin(h),h=30*Math.cos(h)+-30*Math.sin(h),p=this.x-this.Od,k=this.y-this.Pd;this.Od=this.x;this.Pd=this.y;this.bm.update(l-this.Rf.v,-h-this.Rf.w,p,k);Jg.b.prototype.l.call(this,a,b,c,e,d,f,g)};function Pg(){this.y=this.x=0;this.n=1;this.visible=!1}function Og(){Og.b.call(this);this.Hg=null;this.Ge=[]}Og.extend(Bb);
Og.register("BombStar");n=Og.prototype;n.xb=function(){return!1};n.ha=function(a){this.Hg=a.u;this.Gh=a;for(a=0;20>a;a++){var b=new Pg;b.x=0;b.y=0;b.scale=1-0.05*a;this.Ge.push(b);b.visible=!1}};n.Ne=function(){for(var a=this.Ge.length,b=0;b<a;b++){var c=this.Ge[b];c.x=0;c.y=0;c.visible=!1;c.scale=1-0.05*b}};
n.update=function(a,b,c,e){for(var d=this.Ge.length,f=0;f<d;f++){var g=this.Ge[f];g.scale-=0.02;g.x-=c;g.y-=e;0>=g.scale&&(g.scale=1,g.x=a+15*Math.random()-7,g.y=b+15*Math.random()-7,g.visible=!0)}};n.l=function(a,b,c){var e=this.Ge.length,d,f,g=this.Hg.Ib(),h,l,p,k;h=this.Gh.offsetX;l=this.Gh.offsetY;p=this.Gh.offsetWidth;k=this.Gh.offsetHeight;for(var m=0;m<e;m++){var q=this.Ge[m];q.visible&&(d=p*q.scale,f=k*q.scale,a.drawImage(g,h,l,p,k,b+q.x,c+q.y,d,f))}};Ef=!0;
}());//